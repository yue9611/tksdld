System.register("chunks:///_virtual/ListItemNativeAd.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./yyComponent.ts","./GlobalData.ts","./ResUtils.ts","./yySpace.ts"],(function(t){"use strict";var i,e,a,n,s,o,l,c,d,h,r,u,v,m,f,A;return{setters:[function(t){i=t.cclegacy,e=t._decorator,a=t.Node,n=t.Label,s=t.Sprite,o=t.SpriteFrame},function(t){l=t.applyDecoratedDescriptor,c=t.inheritsLoose,d=t.defineProperty,h=t.assertThisInitialized,r=t.initializerDefineProperty},function(t){u=t.EventType},function(t){v=t.default},function(t){m=t.NATIVE_AD_TYPE},function(t){f=t.ResUtils},function(t){A=t.yy}],execute:function(){var C,g,p,D,b,y,I,L,k,N,F,S,T,w,B;i._RF.push({},"edb5eWsQAFBFqPgfn5N1tms","ListItemNativeAd",void 0);var G=e.ccclass,O=e.property;t("ListItemNativeAd",(C=G("ListItemNativeAd"),g=O(a),p=O(a),D=O(a),b=O(a),y=O(a),I=O(a),C((N=l((k=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return i=t.call.apply(t,[this].concat(a))||this,d(h(i),"adId",null),d(h(i),"nativeAd",null),d(h(i),"adCloseCallBack",null),d(h(i),"closeCbOnce",!1),d(h(i),"loadFailCallBack",null),d(h(i),"loadFailCbOnce",!1),d(h(i),"clickSuccessCb",null),d(h(i),"clickSuccessCbOnce",!1),d(h(i),"isLoadFinish",!1),r(h(i),"adImg",N,h(i)),r(h(i),"adLogo",F,h(i)),r(h(i),"adTitle",S,h(i)),r(h(i),"adDesc",T,h(i)),r(h(i),"adIcon",w,h(i)),r(h(i),"adClose",B,h(i)),d(h(i),"adData",null),i}c(i,t);var e=i.prototype;return e.setCloseCallBack=function(t,i){void 0===i&&(i=!1),this.adCloseCallBack=t,this.closeCbOnce=i},e.setLoadFailCallBack=function(t,i){void 0===i&&(i=!1),this.loadFailCallBack=t,this.loadFailCbOnce=i},e.setClickSuccessCallBack=function(t,i){void 0===i&&(i=!1),this.clickSuccessCb=t,this.clickSuccessCbOnce=i},e.updateNativeAd=function(){this.loadNativeAd()},e.init=function(){this.node.on(a.EventType.TOUCH_START,this.onClick,this),this.loadNativeAd()},e.reset=function(){this.destroyNativeAd(),this.adData=null,this.adCloseCallBack=null,this.loadFailCallBack=null,this.clickSuccessCb=null,this.isLoadFinish=!1},e.reuse=function(){this.loadNativeAd()},e.unuse=function(){this.destroyNativeAd()},e.destroyNativeAd=function(){this.nativeAd&&(console.log("GameNativeAd--initNativeAd"),HeyGameAdSDK.GameAdSDK.SDK.onNativeDestroy(this.nativeAd),this.nativeAd=null,this.adId=null)},e.loadNativeAd=function(){this.destroyNativeAd(),this.isLoadFinish=!1,this.node.active=!1,A.log("loadNativeAd List Hide"),this.nativeAd=HeyGameAdSDK.GameAdSDK.SDK.createNativeAd(m.LIST_ITEM_AD,this.onLoadNativeDataFinish.bind(this))},e.onLoadNativeDataFinish=function(t){A.log("loadNativeAd List Finish"),t?(this.adId=t.adId,this.adData=t,this.isLoadFinish=!0,A.log("loadNativeAd List Finish 1"),this.showAd()):(this.onLoadFail(),this.isLoadFinish=!1,A.log("loadNativeAd List Finish 2"),this.onBtnClose())},e.onLoadFail=function(){var t=this.loadFailCallBack;t&&(this.loadFailCbOnce&&(this.loadFailCallBack=null),t())},e.showAd=function(){var t=this;this.adData&&(null!=this.adId&&(this.node.active=!0),this.adImg.active=!1,this.adData.imgUrlList&&this.adData.imgUrlList.length>0&&f.loadImgUrl(this.adData.imgUrlList[0].split("?")[0],(function(i){i&&t.showAdImg(i)})),this.adLogo.active=!1,this.adData.logoUrl&&f.loadImgUrl(this.adData.logoUrl,(function(i){t.showAdLogo(i)})),this.adTitle&&this.adData.title&&this.showAdTitle(this.adData.title),this.adDesc&&this.adData.desc&&this.showAdDesc(this.adData.desc))},e.showAdTitle=function(t){this.adTitle.active=!0,this.adTitle.getComponent(n).string=t},e.showAdDesc=function(t){this.adDesc.active=!0,this.adDesc.getComponent(n).string=t},e.showAdImg=function(t){this.adImg.active=!0,this.adClose&&(this.adClose.active=!0),this.adImg.getComponent(s).spriteFrame=o.createWithImage(t)},e.showAdLogo=function(t){this.adLogo.active=!0,this.adLogo.getComponent(s).spriteFrame=o.createWithImage(t)},e.showAdIcon=function(t){this.adIcon.active=!0,this.adIcon.getComponent(s).spriteFrame=o.createWithImage(t)},e.onClick=function(){var t=this;console.log("onNativeAdClick"),this.nativeAd&&HeyGameAdSDK.GameAdSDK.SDK.onNativeAdClick(this.nativeAd,this.adId,(function(i){i&&(HeyGameConfig.HeyGameSDKConfig.onVIVOMiniGame?(setTimeout((function(){t.loadNativeAd()}),5e3),t.clickSuccess()):(t.loadNativeAd(),t.clickSuccess()))}))},e.clickSuccess=function(){var t=this;this.clickSuccessCb&&(this.clickSuccessCb(),this.clickSuccessCbOnce&&(this.clickSuccessCb=null)),this.emit(u.Common.UIEvent.playGoldAnim,{cb:function(){t.emit(u.Common.PlayerDataEvent.updatePlayerData,{attribute:"gameData.asset.gold",value:50,mode:"+",emit:!0,save:!0})},gold:50})},e.onBtnClose=function(){this.destroyNativeAd();var t=this.adCloseCallBack;t&&(this.closeCbOnce&&(this.adCloseCallBack=null),t()),this.node.active=!1},i}(v)).prototype,"adImg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=l(k.prototype,"adLogo",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=l(k.prototype,"adTitle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=l(k.prototype,"adDesc",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=l(k.prototype,"adIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=l(k.prototype,"adClose",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=k))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/HeyGameSDK",["./ListItemNativeAd.ts"],(function(){"use strict";return{setters:[null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/HeyGameSDK', 'chunks:///_virtual/HeyGameSDK'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});