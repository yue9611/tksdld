System.register("chunks:///_virtual/LoadingUI.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./yyComponent.ts"],(function(t){"use strict";var e,r,i,n,o,s,a,h,p,l,c,u;return{setters:[function(t){e=t.cclegacy,r=t.Node,i=t._decorator,n=t.Sprite,o=t.UITransform},function(t){s=t.applyDecoratedDescriptor,a=t.inheritsLoose,h=t.initializerDefineProperty,p=t.assertThisInitialized,l=t.defineProperty},function(t){c=t.EventType},function(t){u=t.default}],execute:function(){var f,d,g,m,b;e._RF.push({},"326d3l9GUNNN6sC8bQK7+Ik","LoadingUI",void 0);var v=i,y=v.ccclass,L=v.property;t("default",(f=L(r),y((m=s((g=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,h(p(e),"bar",m,p(e)),l(p(e),"barTransform",null),h(p(e),"totalLength",b,p(e)),l(p(e),"preRate",0),e}a(e,t);var r=e.prototype;return r.init=function(){0==this.totalLength&&(this.totalLength=this.bar.getComponent(n).spriteFrame.originalSize.width),this.bar.setPosition(-.5*this.totalLength,this.bar.position.y),this.barTransform=this.bar.getComponent(o),this.barTransform.width=75,this.preRate=0,this.onEvents()},r.onEvents=function(){this.on(c.Common.LoadAssetEvent.showProgress,this.onShowProgress,this),this.on(c.Common.LoadAssetEvent.updateProgress,this.onUpdateProgress,this),this.on(c.Common.LoadAssetEvent.hideProgress,this.onHideProgress,this)},r.onShowProgress=function(t){this.node.active=!0,void 0===t&&(t=0),t<this.preRate&&(t=this.preRate);var e=this.totalLength*t;e<75&&(e=75),this.barTransform.width=e,this.preRate=t},r.onUpdateProgress=function(t){if(1!=t){if(t>this.preRate){var e=this.totalLength*t;e<75&&(e=75),this.barTransform.width=e,this.preRate=t}}else this.preRate=0},r.onHideProgress=function(){this.node.active=!1,this.preRate=0},e}(u)).prototype,"bar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=s(g.prototype,"totalLength",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=g))||d));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameLobby.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameConfig.ts","./GameEventType.ts","./GlobalEnum.ts","./Action3dManager.ts","./yyComponent.ts","./PlayerData.ts","./Loader.ts","./GlobalPool.ts"],(function(e){"use strict";var t,n,i,o,a,r,l,s,u,m,c,h,p,d,f,v,b,y,G,g,C,L;return{setters:[function(e){t=e.cclegacy,n=e.Sprite,i=e.SpriteFrame,o=e.Node,a=e.Label,r=e._decorator,l=e.Prefab},function(e){s=e.applyDecoratedDescriptor,u=e.inheritsLoose,m=e.defineProperty,c=e.assertThisInitialized,h=e.initializerDefineProperty,p=e.createClass},function(e){d=e.default},function(e){f=e.EventType},function(e){v=e.GlobalEnum},function(e){b=e.default,y=e.ActionMngType},function(e){G=e.default},function(e){g=e.default},function(e){C=e.default},function(e){L=e.default}],execute:function(){var I,A,E,S,M,B,T,U,R,w,z,D,F,P,O,_,k,x;t._RF.push({},"69ef72xiQlAL4AzHd4vX34+","GameLobby",void 0);var N=r,H=N.ccclass,q=N.property;e("default",(I=q(n),A=q(i),E=q(i),S=q(o),M=q(o),B=q(o),T=q(o),U=q(a),H((z=s((w=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,m(c(t),"_uiType",v.UI.lobby),m(c(t),"dialogShowed",!1),h(c(t),"btnAudio",z,c(t)),h(c(t),"audioOpen",D,c(t)),h(c(t),"audioClose",F,c(t)),h(c(t),"btnStartGame",P,c(t)),m(c(t),"chosedLevel",null),h(c(t),"btnMoreGame",O,c(t)),h(c(t),"moreGameTipIcon",_,c(t)),h(c(t),"roleLayer",k,c(t)),h(c(t),"levelNum",x,c(t)),t}u(t,e);var n=t.prototype;return n.init=function(){this.initRoleLayer(),this.onEvents()},n.onEvents=function(){this.on(f.Common.DirectorEvent.chooseLevelItem,this.onChooseLevelItem,this),this.on(f.Common.UIEvent.exited,this.onExitUI,this)},n.reset=function(){this.resetRoleLayer()},n.show=function(){this.node.active=!0,this.onEvents(),this.playBtnStartGame(),this.updateLevelNum(),this.addRoleLayer(),this.emit(f.Common.AudioEvent.playBGM,v.AudioClip.BGMLobby,!0),this.emit(f.Common.UIEvent.enter,v.UI.playerAssetBar)},n.hide=function(){this.reset(),this.node.active=!1,this.offEvents()},n.initBtnAudio=function(){this.btnAudio.node.on("touchend",this.onBtnAudio,this);var e=d.audioConfig.bgm;this.btnAudio.spriteFrame=e?this.audioOpen:this.audioClose},n.onBtnAudio=function(){var e=d.audioConfig.bgm,t={bgm:e=!e,effect:e};d.audioConfig=t,e?(this.btnAudio.spriteFrame=this.audioOpen,this.emit(f.Common.AudioEvent.resume)):(this.btnAudio.spriteFrame=this.audioClose,this.emit(f.Common.AudioEvent.pause))},n.playBtnStartGame=function(){if(this.btnStartGame){var e=.5;this.btnStartGame.setScale(e,e),e=.6;var t=b.scaleTo(1,e,e,e);t.easing(b.easeSinInOut()),e=.5;var n=b.scaleTo(1,e,e,e);n.easing(b.easeSinInOut());var i=b.sequence(t,n),o=b.repeatForever(i);b.getMng(y.UI).runAction(this.btnStartGame,o)}},n.stopBtnStartGame=function(){this.btnStartGame&&b.getMng(y.UI).stopAllActions(this.btnStartGame)},n.onBtnStartGame=function(){this.resetRoleLayer(),this.emit(f.Common.AudioEvent.playClickBtn),this.startGame()},n.startGame=function(){var e=this.chosedLevel;this.chosedLevel=null,this.emit(f.Common.DirectorEvent.enterLevel,e)},n.onBtnChooseLevel=function(){this.emit(f.Common.AudioEvent.playClickBtn),this.emit(f.Common.UIEvent.enter,v.UI.chooseLevel)},n.onChooseLevelItem=function(e){this.chosedLevel=e,this.startGame(),this.emit(f.Common.UIEvent.exit,v.UI.chooseLevel)},n.updateBtnMoreGame=function(){this.btnMoreGame&&(d[v.Common.GameFlowGlobalConfig.guoshen]?this.btnMoreGame.active=!1:this.btnMoreGame.active=!0)},n.playMoreGameTip=function(){if(this.btnMoreGame&&this.btnMoreGame.active&&this.moreGameTipIcon){var e=.9;this.moreGameTipIcon.setScale(e,e,e),e=1.1;b.scaleTo(1,e,e,e);e=.9;b.scaleTo(1,e,e,e);var t=b.rotateTo2d(.1,30),n=b.rotateTo2d(.8,0),i=b.delay(2);n.easing(b.easeElasticOut());var o=b.sequence(i,t,n),a=b.repeatForever(o);b.getMng(y.UI).runAction(this.moreGameTipIcon,a)}},n.stopMoreGameTip=function(){this.btnMoreGame&&this.btnMoreGame.active&&this.moreGameTipIcon&&b.getMng(y.UI).stopAllActions(this.moreGameTipIcon)},n.onBtnMoreGame=function(){this.emit(f.Common.HeyGameSDK.showMoreGame)},n.initRoleLayer=function(){},n.resetRoleLayer=function(){L.putAllChildren(this.roleLayer)},n.addRoleLayer=function(){var e=this,t=L.get("ShopRole");t?this.roleLayer.addChild(t):C.loadBundle("Role",(function(){C.loadBundleRes("Role","Prefab/ShopRole",(function(t){if(L.createPool(t.data.name,t,t.data.name),e.node.active&&0==e.roleLayer.children.length){var n=L.get("ShopRole");e.roleLayer.addChild(n)}}),l,!1)}),!1,!1)},n.onBtnShop=function(){this.resetRoleLayer(),this.emit(f.Common.AudioEvent.playClickBtn),this.emit(f.Common.UIEvent.enter,v.UI.shop)},n.onBtnSpin=function(){this.emit(f.Common.AudioEvent.playClickBtn),this.emit(f.Common.UIEvent.enter,v.UI.spin)},n.updateLevelNum=function(){var e=g.getData("gameData.curLevel");this.levelNum.string=e},n.onExitUI=function(e){e==v.UI.shop&&this.addRoleLayer()},p(t,[{key:"uiType",get:function(){return this._uiType}}]),t}(G)).prototype,"btnAudio",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=s(w.prototype,"audioOpen",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=s(w.prototype,"audioClose",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=s(w.prototype,"btnStartGame",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=s(w.prototype,"btnMoreGame",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=s(w.prototype,"moreGameTipIcon",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=s(w.prototype,"roleLayer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=s(w.prototype,"levelNum",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=w))||R));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameDirector.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./PowerManager.ts","./GlobalEnum.ts","./Action3dManager.ts","./GlobalData2.ts","./yyComponent.ts","./PlayerData.ts","./Loader.ts","./GlobalPool.ts","./RecommendManager.ts","./UIManager.ts","./GameData.ts","./AdvertManager.ts","./AudioManager.ts"],(function(e){"use strict";var t,i,n,o,s,a,l,h,r,u,c,v,d,m,f,U,I,p,g,L,b,y,C,D,M,w,S,G,F;return{setters:[function(e){t=e.cclegacy,i=e.Node,n=e._decorator,o=e.Prefab,s=e.UITransform,a=e.JsonAsset,l=e.instantiate,h=e.director,r=e.sys},function(e){u=e.applyDecoratedDescriptor,c=e.inheritsLoose,v=e.initializerDefineProperty,d=e.assertThisInitialized,m=e.defineProperty},function(e){f=e.EventType},function(e){U=e.default},function(e){I=e.GlobalEnum},function(e){p=e.default,g=e.ActionMngType},function(e){L=e.default},function(e){b=e.default},function(e){y=e.default},function(e){C=e.default},function(e){D=e.default},function(e){M=e.default},function(e){w=e.default},function(e){S=e.default},function(e){G=e.default},function(e){F=e.default}],execute:function(){var k,E,T,A,B,P,R,N;t._RF.push({},"6d088A7nYNLd6wJkhsMlfmq","GameDirector",void 0);var _=n,x=_.ccclass,z=_.property;e("default",(k=z(i),E=z(i),T=z([b]),x((P=u((B=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,v(d(t),"bg",P,d(t)),v(d(t),"touchMask",R,d(t)),m(d(t),"touchMaskCount",void 0),v(d(t),"defaultUIs",N,d(t)),m(d(t),"lobbyUIs",[]),m(d(t),"levelUIs",[]),m(d(t),"persistUIs",[]),m(d(t),"uiActMng",null),m(d(t),"levelMng",null),m(d(t),"bundleRoleLoaded",!1),m(d(t),"recommendFlowStepFinish",!1),m(d(t),"matchFinished",!1),m(d(t),"levelData",void 0),m(d(t),"chosedLevel",null),m(d(t),"winData",void 0),m(d(t),"loseData",void 0),t}c(t,e);var i=t.prototype;return i.start=function(){this.init(),this.loadGameData()},i.update=function(e){this.uiActMng.update(e),this.customUpdate(e)},i.initTouchMask=function(){this.touchMask.active=!1,this.touchMaskCount=0},i.resetTouchMask=function(){this.touchMask.active=!1,this.touchMaskCount=0},i.showTouchMask=function(e){void 0===e&&(e=1),this.touchMaskCount+=e,this.touchMask.active=!0},i.hideTouchMask=function(e){void 0===e&&(e=1),this.touchMaskCount-=e,this.touchMaskCount<=0&&(this.touchMaskCount=0,this.touchMask.active=!1)},i.pauseLevel=function(){this.emit(f.Common.DirectorEvent.pauseLevel)},i.resumeLevel=function(){this.emit(f.Common.DirectorEvent.resumeLevel)},i.showUIs=function(e){for(var t=e.length-1;t>=0;--t)this.emit(f.Common.UIEvent.enter,e[t])},i.hideUIs=function(e){for(var t=e.length-1;t>=0;--t)this.emit(f.Common.UIEvent.exit,e[t])},i.initDefaultUIs=function(){for(var e=this.defaultUIs.length-1;e>=0;--e)this.defaultUIs[e].init()},i.initUIConfig=function(){this.lobbyUIs=[],this.lobbyUIs.push(I.UI.lobby),this.lobbyUIs.push(I.UI.shop),this.lobbyUIs.push(I.UI.spin),this.lobbyUIs.push(I.UI.chooseLevel),this.lobbyUIs.push(I.UI.getGoldByVideo),this.levelUIs=[],this.levelUIs.push(I.UI.levelInfo),this.levelUIs.push(I.UI.levelController),this.levelUIs.push(I.UI.levelTeach),this.levelUIs.push(I.UI.awardUI),this.levelUIs.push(I.UI.winUI),this.levelUIs.push(I.UI.loseUI),this.levelUIs.push(I.UI.trySkin),this.levelUIs.push(I.UI.pauseLevel),this.levelUIs.push(I.UI.resurgence),this.levelUIs.push(I.UI.match),this.persistUIs=[],this.persistUIs.push(I.UI.playerAssetBar),this.persistUIs.push(I.UI.tipPower),this.persistUIs.push(I.UI.getPower),this.persistUIs.push(I.UI.configSetting)},i.initActMng=function(){this.uiActMng=p.getMng(g.UI)},i.loadBundleRole=function(e){var t=this;this.bundleRoleLoaded?e&&e():C.loadBundle("Role",(function(){C.loadBundleDir("Role","Prefab",(function(i){for(var n=i.length-1;n>=0;--n){var s=i[n];D.createPool(s.data.name,s,s.data.name)}C.loadBundle("LevelColler",(function(){C.loadBundleDir("LevelColler","MultiplePrefab",(function(i){for(var n=i.length-1;n>=0;--n){var o=i[n];D.createPool(o.data.name,o,o.data.name)}t.bundleRoleLoaded=!0,e&&e()}),o,!1)}),!1,!0)}),o,!1)}),!1,!0)},i.init=function(){this.initUIConfig(),this.initActMng(),this.initTouchMask(),this.initModels(),this.initDefaultUIs(),this.initCustomUpdateState(),this.registAllCustomUpdate(),this.onEvents()},i.initModels=function(){var e=this.node;L.set(I.Common.GlobalDataType.canvas,e);var t=e.getComponent(s);L.set(I.Common.GlobalDataType.canvasTransform,t);var i=this.node.getChildByName("ColliderLayer");L.set(I.myGlobalDataType.colliderLayer,i);var n=this.node.getChildByName("Recommend");L.set(I.Common.GlobalDataType.rootRecommond,n),n&&n.active&&M.init(n),G.init();var o=this.node.getChildByName("UI");L.set(I.Common.GlobalDataType.rootUI,o),w.init(o),F.init(),S.init(),U.init();var a=this.node.getChildByName("NativeAd");this.emit(f.Common.HeyGameSDK.initAdNode,a)},i.onEvents=function(){this.on(f.Common.DirectorEvent.enterLevel,this.onEnterLevel,this),this.on(f.Common.DirectorEvent.enterLobby,this.enterGameLobby,this),this.on(f.Common.DirectorEvent.playerWin,this.onLevelWin,this),this.on(f.Common.DirectorEvent.playerLose,this.onLevelLose,this),this.on(f.Common.DirectorEvent.hideGameLobby,this.hideGameLobbyUI,this),this.on(f.Common.DirectorEvent.chooseTrySkinFinish,this.onChooseTrySkinFinish,this),this.on(f.Common.UIEvent.showTouchMask,this.showTouchMask,this),this.on(f.Common.UIEvent.hideTouchMask,this.hideTouchMask,this),this.on(f.Common.GameFlow.enterLevel,this.onEnterGameFlowLevel,this),this.on(f.LevelEvent.resurgence,this.onResurgence,this),this.on(f.LevelEvent.matchFinish,this.onMatchFinish,this)},i.registAllCustomUpdate=function(){this.registCustomUpdate(I.DirectState.level,this.stepLevelPlaying),this.registCustomUpdate(I.DirectState.lobby,this.stepLobby)},i.reset=function(){this.levelMng&&this.levelMng.exit(),this.resetTouchMask(),this.resetCustomUpdateState()},i.loadGameData=function(){var e=this;C.loadBundleDir("MainScene","JSONData",(function(t){for(var i=[],n=0,o=t.length;n<o;++n)i.push(t[n].name);S.setData(t,i),e.showUI(I.UI.lobby),e.enterCustomUpdateState(I.DirectState.lobby)}),a,!1)},i.enterGameLobby=function(){this.levelMng&&this.levelMng.exit(),this.hideUIs(this.levelUIs),this.hideUIs(this.persistUIs),this.showUI(I.UI.lobby),this.showUI(I.UI.playerAssetBar),this.enterCustomUpdateState(I.DirectState.lobby)},i.hideGameLobbyUI=function(){this.bg.active=!1,this.hideUIs(this.lobbyUIs),this.hideUIs(this.persistUIs),this.hideUI(I.UI.lobby)},i.onEnterLevel=function(e){this.chosedLevel=e,this.levelMng||this.loadBundleRole(this.loadLevelScene.bind(this)),this.emit(f.Common.GameFlow.enterGameFlow,I.Common.GameFlowStep.level)},i.getCurLevel=function(){return y.getData("gameData.curLevel")},i.showTrySkin=function(){this.pauseLevel(),this.showUI(I.UI.trySkin,I.GoodsType.playerSkin)},i.onChooseTrySkinFinish=function(){this.hideUI(I.UI.trySkin),this.showTeachAnim()},i.showTeachAnim=function(){},i.loadLevelScene=function(){var e=this;C.loadBundle("LevelScene",(function(){C.loadBundleDir("LevelScene","MultiplePrefab",(function(t){for(var i=t.length-1;i>=0;--i){var n=t[i];D.createPool(n.data.name,n,n.data.name)}C.loadBundleRes("LevelScene","SinglePrefab/LevelManager",(function(t){if(!e.levelMng){var i=l(t);h.getScene().addChild(i),e.levelMng=i.getComponent("LevelManager"),e.levelMng.init()}e.onLoadLevelFinish()}),o,!0)}),o,!0)}),!1,!0)},i.onLoadLevelFinish=function(){this.checkEnterLevelScene()},i.onEnterGameFlowLevel=function(){this.recommendFlowStepFinish=!0,this.showUI(I.UI.match)},i.onMatchFinish=function(){this.matchFinished=!0,this.checkEnterLevelScene()},i.checkEnterLevelScene=function(){this.levelMng&&this.recommendFlowStepFinish&&this.matchFinished&&(this.matchFinished=!1,this.recommendFlowStepFinish=!1,this.enterLevelScene())},i.enterLevelScene=function(e){if(this.levelData){var t=this.levelData;this.levelData=null,this.chosedLevel=null,this._enterLevelScene(t)}else void 0===e&&(e=this.chosedLevel?this.chosedLevel:this.getCurLevel()),this.chosedLevel=null,S.getLevelData(e,this._enterLevelScene.bind(this))},i._enterLevelScene=function(e){var t=this;this.hideGameLobbyUI(),this.hideUIs(this.levelUIs),this.hideUI(I.UI.playerAssetBar),this.levelMng.enterLevel(e),this.emit(f.Common.DirectorEvent.pauseLevel,2),this.showUI(I.UI.levelInfo,e),C.loadBundle("UI",(function(){C.loadBundleRes("UI","LevelController/LevelController",(function(i){var n=L.get(I.Common.GlobalDataType.rootUI).getChildByName("LevelController"),o=n.children[0];o||(o=l(i),n.addChild(o),o.getComponent("LevelController").init());t.showUI(I.UI.levelController),t.emit(f.Common.DirectorEvent.resumeLevel),1==e.lv&&t.showTeachAnim()}),o,!0)}),!1,!0),this.enterCustomUpdateState(I.DirectState.level)},i.onLevelWin=function(e){e||(e=w.getUI(I.UI.levelInfo).getData()),this.winData=e,this.updateLevelRecord(e),this.addCurLevel(e),w.existUI(I.UI.awardUI)?this.emit(f.Common.GameFlow.enterGameFlow,I.Common.GameFlowStep.award,this.winData):this.emit(f.Common.GameFlow.enterGameFlow,I.Common.GameFlowStep.win,this.winData)},i.addCurLevel=function(e){var t=r.localStorage.getItem("levelDataVersion"),i=10;t&&(i=(t=JSON.parse(t)).total);var n=y.getData("gameData.curLevel");console.log("通关当前关卡，解锁下一关，curLevel:",n," totalLevel:",i),this.emit(f.Common.PlayerDataEvent.updatePlayerData,{type:"gameData",attribute:"gameData.curLevel",value:1,mode:"+"})},i.updateLevelRecord=function(e){if(void 0!==e.star){var t=y.getData("gameData.levelRecords");(!t[e.lv]||t[e.lv]<e.star)&&(t[e.lv]=e.star,this.emit(f.Common.PlayerDataEvent.updatePlayerData,{attribute:"gameData.levelRecords",value:t,mode:"=",save:!0,emit:!1}))}},i.onLevelLose=function(e){e||(e=w.getUI(I.UI.levelInfo).getData()),this.loseData=e,this.emit(f.Common.GameFlow.enterGameFlow,I.Common.GameFlowStep.lose,this.loseData)},i.onResurgence=function(){this.hideUIs(this.lobbyUIs),this.hideUI(I.UI.playerAssetBar)},i.stepLobby=function(e){},i.stepLevelPlaying=function(e){this.levelMng.running(e)},t}(b)).prototype,"bg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=u(B.prototype,"touchMask",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=u(B.prototype,"defaultUIs",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=B))||A));t._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGameCmp.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,n,i,o,a,r,c,s;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.UIOpacity,o=t.Button,a=t.Component},function(t){r=t.inheritsLoose,c=t.defineProperty,s=t.assertThisInitialized}],execute:function(){var p;e._RF.push({},"786aaLmeLZBJ6epmAXRZCSO","MoreGameCmp",void 0);var u=n.ccclass;n.property,t("MoreGameCmp",u("MoreGameCmp")(p=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,c(s(e),"_uiOpacity",null),c(s(e),"_btn",null),e}r(e,t);var n=e.prototype;return n.onLoad=function(){this._uiOpacity=this.node.getComponent(i),this._btn=this.node.getComponent(o)},n.onEnable=function(){this.checkPlatform()},n.checkPlatform=function(){HeyGameConfig.HeyGameSDKConfig.onPC||HeyGameConfig.HeyGameSDKConfig.onOPPOMiniGame?(this._uiOpacity.opacity=255,this._btn.interactable=!0):(this._uiOpacity.opacity=0,this._btn.interactable=!1)},e}(a))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/LevelColler.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameConfig.ts","./GameEventType.ts","./GlobalEnum.ts","./yyComponent.ts"],(function(i){"use strict";var t,e,n,a,s,o,r,h,l,c,d,y,b,u,g;return{setters:[function(i){t=i.cclegacy,e=i._decorator,n=i.Enum,a=i.v3,s=i.v2},function(i){o=i.applyDecoratedDescriptor,r=i.inheritsLoose,h=i.initializerDefineProperty,l=i.assertThisInitialized,c=i.defineProperty,d=i.createClass},function(i){y=i.default},function(i){b=i.EventType},function(i){u=i.GlobalEnum},function(i){g=i.default}],execute:function(){var x,M,p,f,_,z,N,m;t._RF.push({},"8084dsN6AJFIJN9vcGHU4hF","LevelColler",void 0);var v=e.ccclass,D=e.property,R=.5*Math.PI/180;i("default",(x=D({type:n(u.CollerType),visible:!0}),M=D({displayName:"最小点",tooltip:"碰撞范围长方体在XYZ轴上坐标值最小的顶点在节点中的局部坐标"}),p=D({displayName:"最大点",tooltip:"碰撞范围长方体在XYZ轴上坐标值最大的顶点在节点中的局部坐标"}),v((z=o((_=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=i.call.apply(i,[this].concat(n))||this,h(l(t),"_collerType",z,l(t)),c(l(t),"dirtyFlags",u.DirtyType.none),h(l(t),"minVert",N,l(t)),h(l(t),"maxVert",m,l(t)),c(l(t),"_aabb",null),c(l(t),"_center",void 0),c(l(t),"rigidNode",null),c(l(t),"rigid",null),c(l(t),"collider2d",null),c(l(t),"cacheLinearVelocity",void 0),t}r(t,i);var e=t.prototype;return e.initSub=function(){this.initAABB(),this.initRigidNode()},e.resetSub=function(){this.resetAABB(),this.resetDirtyFlags(),this.resetRigidNode()},e.unuse=function(){this.reset(),this.offEvents(),this.disableRigidNode()},e.onDestroy=function(){this.offEvents(),this.disableRigidNode()},e.getDirtyFlags=function(i){return(this.dirtyFlags&i)>0},e.setDirtyFlags=function(i){this.dirtyFlags|=i},e.clearDirtyFlags=function(i){this.dirtyFlags&=~i},e.resetDirtyFlags=function(){this.dirtyFlags=u.DirtyType.all},e.initAABB=function(){this._aabb={xMin:0,xMax:0,xScope:0,xCenter:0,yMin:0,yMax:0,yScope:0,yCenter:0,zMin:0,zMax:0,zScope:0,zCenter:0},this._center=a(),this.aabbDirty=!0},e.resetAABB=function(){this.aabbDirty=!0},e.setPosition=function(i){this.node.setPosition(i),this.aabbDirty=!0},e.setScale=function(i){this.node.setScale(i),this.aabbDirty=!0},e.getAABB=function(){return this.processDirty(),this._aabb},e.processDirty=function(){this.aabbDirty&&(this.aabbDirty=!1,this._aabb.xMin=this.minVert.x+this.node.position.x,this._aabb.xMax=this.maxVert.x+this.node.position.x,this._aabb.xScope=.5*(this._aabb.xMax-this._aabb.xMin),this._aabb.yMin=this.minVert.y+this.node.position.y,this._aabb.yMax=this.maxVert.y+this.node.position.y,this._aabb.yScope=this._aabb.yMax-this._aabb.yMin,this._aabb.zMin=this.minVert.z+this.node.position.z,this._aabb.zMax=this.maxVert.z+this.node.position.z,this._aabb.zScope=.5*(this._aabb.zMax-this._aabb.zMin),this._aabb.xCenter=this._aabb.xMin+this._aabb.xScope,this._aabb.yCenter=this._aabb.yMin+.5*this._aabb.yScope,this._aabb.zCenter=this._aabb.zMin+this._aabb.zScope,this._center.x=this._aabb.xCenter,this._center.y=this._aabb.yCenter,this._center.z=this._aabb.zCenter)},t.checkAABB=function(i,t){return i.xMax>=t.xMin&&i.xMin<=t.xMax&&i.yMax>=t.yMin&&i.yMin<=t.yMax&&i.zMax>=t.zMin&&i.zMin<=t.zMax},e.checkAABB=function(i){var t=this.getAABB();return t.xMax>=i.xMin&&t.xMin<=i.xMax&&t.yMax>=i.yMin&&t.yMin<=i.yMax&&t.zMax>=i.zMin&&t.zMin<=i.zMax},e.getCrossPos=function(i,t){var e=this.getMax(i.xMin,t.xMin),n=this.getMin(i.xMax,t.xMax),a=this.getMax(i.yMin,t.yMin),o=this.getMin(i.yMax,t.yMax);return s(.5*(e+n),.5*(a+o))},e.getMin=function(i,t){return i<t?i:t},e.getMax=function(i,t){return i>t?i:t},e.onColled=function(i){},e.initRigidNode=function(){this.cacheLinearVelocity=s(0,0),this.createRigidNode()},e.resetRigidNode=function(){this.cacheLinearVelocity.x=0,this.cacheLinearVelocity.y=0,this.rigid.linearVelocity=this.cacheLinearVelocity,this.rigid.angularVelocity=0},e.createRigidNode=function(){},e.destroyRigidNode=function(){this.rigidNode&&(this.rigid=null,this.collider2d=null,this.rigidNode.removeFromParent(),this.rigidNode.destroy(),this.rigidNode=null)},e.enableRigidNode=function(){this.createRigidNode(),this.resetRigidNode(),this.emit(b.LevelEvent.addRigidNode,this.rigidNode);var i=y.GameRule.rate3to2;this.rigidNode.setPosition(this.node.position.x*i,-this.node.position.z*i,0),this.rigidNode.angle=this.node.eulerAngles.y,this.rigidNode.setScale(this.node.scale)},e.disableRigidNode=function(){this.rigidNode&&(this.rigidNode.removeFromParent(),this.resetRigidNode())},e.syncModelToRigid=function(){},e.syncRigidToModel=function(){if(!this.rigid.fixedRotation){var i=this.rigidNode.angle*R;this.node.setRotation(0,Math.sin(i),0,Math.cos(i))}if(0!=this.rigid.linearVelocity.x||0!=this.rigid.linearVelocity.y){var t=this.rigidNode.position,e=y.GameRule.rate2to3,n=t.x*e,a=this.node.position.y,s=-t.y*e;this.node.setPosition(n,a,s),this.aabbDirty=!0}},d(t,[{key:"collerType",get:function(){return this._collerType}},{key:"aabbDirty",get:function(){return this.getDirtyFlags(u.DirtyType.aabb)},set:function(i){i?this.setDirtyFlags(u.DirtyType.aabb):this.clearDirtyFlags(u.DirtyType.aabb)}}]),t}(g)).prototype,"_collerType",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.CollerType.barrier}}),N=o(_.prototype,"minVert",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a()}}),m=o(_.prototype,"maxVert",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a()}}),f=_))||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/BtnNativeAd.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts","./Action3dManager.ts"],(function(t){"use strict";var n,e,i,o,c,a,r,s,u,l;return{setters:[function(t){n=t.cclegacy,e=t._decorator,i=t.Component},function(t){o=t.inheritsLoose,c=t.defineProperty,a=t.assertThisInitialized},function(t){r=t.EventType},function(t){s=t.default},function(t){u=t.default,l=t.ActionMngType}],execute:function(){var v;n._RF.push({},"d84257jvvxF+p+avZnb2pUk","BtnNativeAd",void 0);var p=e.ccclass;e.property,t("BtnNativeAd",p("BtnNativeAd")(v=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,c(a(n),"action",null),n}o(n,t);var e=n.prototype;return e.onLoad=function(){this.initAction()},e.onClick=function(){s.emit(r.Common.HeyGameSDK.clickNativeAd)},e.initAction=function(){var t=this.node.scale.x-.05,n=u.scaleTo(1,t,t,t);t+=.1;var e=u.scaleTo(1,t,t,t),i=u.sequence(n,e);this.action=u.repeatForever(i)},e.onEnable=function(){u.getMng(l.UI).runAction(this.node,this.action)},e.onDisable=function(){u.getMng(l.UI).stopAllActions(this.node)},n}(i))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/TipMessage.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./Action3dManager.ts","./yyComponent.ts"],(function(t){"use strict";var e,n,i,o,s,r,c,a,u,l,h,f,p;return{setters:[function(t){e=t.cclegacy,n=t.Sprite,i=t.Label,o=t._decorator},function(t){s=t.applyDecoratedDescriptor,r=t.inheritsLoose,c=t.initializerDefineProperty,a=t.assertThisInitialized,u=t.defineProperty},function(t){l=t.EventType},function(t){h=t.default,f=t.ActionMngType},function(t){p=t.default}],execute:function(){var g,d,y,v,m,b;e._RF.push({},"fa03fEKcf5HdqLeM7wO+JGh","TipMessage",void 0);var M=o,T=M.ccclass,w=M.property;t("default",(g=w(n),d=w(i),T((m=s((v=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,c(a(e),"bgImg",m,a(e)),c(a(e),"msg",b,a(e)),u(a(e),"action",null),e}r(e,t);var n=e.prototype;return n.init=function(){this.node=this.node,this.createAction(),this.setMsg(""),this.onEvents(),this.bgImg.color.set(0,0,0,0),this.node.active=!1},n.createAction=function(){var t=h.delay(.01),e=h.fadeTo(0,255),n=h.delay(1),i=h.fadeTo(.5,1),o=h.callFun(this.onFadeOut,this),s=h.sequence(t,e,n,i,o);this.action=s},n.onEvents=function(){this.on(l.Common.UIEvent.showTip,this.show,this)},n.reset=function(){this.bgImg.color.set(0,0,0,0)},n.show=function(t){this.node.active=!0,this.reset(),this.setMsg(t),h.getMng(f.UI).runAction(this.node,this.action)},n.hide=function(){this.node.active=!1},n.setMsg=function(t){this.msg.string=t},n.onFadeOut=function(){this.hide()},e}(p)).prototype,"bgImg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=s(v.prototype,"msg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));e._RF.pop()}}}));

System.register("chunks:///_virtual/MainScene",["./LoadingUI.ts","./GameLobby.ts","./GameDirector.ts","./MoreGameCmp.ts","./LevelColler.ts","./BtnNativeAd.ts","./TipMessage.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/MainScene', 'chunks:///_virtual/MainScene'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});