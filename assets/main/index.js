System.register("chunks:///_virtual/AdConfig.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var d,a;e("AdConfig",void 0),n._RF.push({},"01a5fbCjE9H46ayQFRM3dZO","AdConfig",void 0),(a=d||(d=e("AdConfig",{}))).AdID={bigView:550,middleView:555,littleView:549,gameoverFail:801,gameoverWin:552,dialog:554,friend:553,primary:551,gameInLv:800,singleBanner:811,resultSingleBanner:813},a.bannerID={banner1:"adunit-838c44007d3384b4",banner2:"adunit-7af00997047bde42",banner3:"adunit-b4ee610cf0c6098b",banner4:"adunit-d7b3ce0d291ef7f3",recommendMiddlePage:"adunit-838c44007d3384b4",lobby:"adunit-838c44007d3384b4",recommendDialog:"adunit-838c44007d3384b4",touchBannerUI:"adunit-7af00997047bde42",touchBannerLevelToWin:"adunit-7af00997047bde42",touchBannerLevelToLose:"adunit-7af00997047bde42",touchBannerWinToLobby:"adunit-7af00997047bde42",touchBannerLoseToLobby:"adunit-7af00997047bde42",recommendBigPage:"adunit-b4ee610cf0c6098b",recommendLittlePage:"adunit-d7b3ce0d291ef7f3",award:"adunit-d7b3ce0d291ef7f3",win:"adunit-d7b3ce0d291ef7f3",lose:"adunit-d7b3ce0d291ef7f3"},a.videoID={startGame:"adunit-008be1b5bc1e25ee",resurgence:"adunit-008be1b5bc1e25ee",passLevel:"adunit-008be1b5bc1e25ee"},n._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./CommonGameConfig.ts"],(function(e){"use strict";var t,a,n,i;return{setters:[function(e){t=e.cclegacy},function(e){a=e.inheritsLoose,n=e.defineProperty},function(e){i=e.default}],execute:function(){t._RF.push({},"080b4sm8OJF05ZQAgQM+TZ3","GameConfig",void 0);var o=e("default",function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t}(i));n(o,"url_ad","https://ad.geyian.ink/"),n(o,"url_login","https://mljyd.youdongxi.cn/"),n(o,"url_gamelevel","https://img.youdongxi.cn/"),n(o,"url_buy","https://tj.geyian.ink/"),n(o,"GameRule",{y2z:2,z2y:.5,offsetZ:2e3,cameraOffsetX:300,rate3to2:20,rate2to3:.05,roleRadius:.5,goldRadius:.4,minScale:1.3,scaleStep:.3,moveSpeed:500,jumpSpeed:960,gravity:2140,mapScope:{xMin:0,xMax:2e3,yMin:0,yMax:1e3,zMin:0,zMax:100},atkScopeFan:{radius:3,halfRadian:.78},atkScopeSmallFan:{radius:3,halfRadian:.3},atkScopeRect:{halfWidth:.5,length:4},enemyAudioScopeSqr:36}),t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameConfig.ts","./GameEventType.ts","./EventManager.ts"],(function(e){"use strict";var t,a,o,r,i,n;return{setters:[function(e){t=e.cclegacy,a=e.sys},function(e){o=e.defineProperty},function(e){r=e.default},function(e){i=e.EventType},function(e){n=e.default}],execute:function(){t._RF.push({},"211denjZKpMUYuvJIkRslqm","PowerManager",void 0);var s=e("default",function(){function e(){}return e.init=function(){this.data=this.loadOldData(),this.startAutoRecoverPower(),this.onEvents()},e.loadOldData=function(){var e=new u,t=a.localStorage.getItem(r.gameName+"PowerData");return t&&(t=JSON.parse(t),e.curPower=t.curPower,e.lastSaveTime=t.lastSaveTime),e},e.startAutoRecoverPower=function(){var e=this,t=this.data.lastSaveTime,a=Date.now(),o=new Date(t).getDate();if(new Date(a).getDate()>o)this.data.lastSaveTime=a,this.addPower(this.data.maxPower),setInterval(this.recoverPower.bind(this),this.data.recoverPowerInterval,this.data.recoverPowerValue);else{var r=a-t,i=Math.floor(r/this.data.recoverPowerInterval)*this.data.recoverPowerValue,n=r%this.data.recoverPowerInterval;i>0&&(this.data.lastSaveTime=a-n,this.addPower(i)),setTimeout((function(){setInterval(e.recoverPower.bind(e),e.data.recoverPowerInterval,e.data.recoverPowerValue)}),this.data.recoverPowerInterval-n)}},e.recoverPower=function(){this.data.addPower(this.data.recoverPowerValue),this.data.updateLastSaveTime(),this.saveData(),this.emit(i.Common.AssetEvent.powerChanged,this.data.curPower)},e.onEvents=function(){n.on(i.Common.AssetEvent.consumePower,this.onConsumePower,this),n.on(i.Common.AssetEvent.getPower,this.addPower,this)},e.getData=function(){return{maxPower:this.data.maxPower,curPower:this.data.curPower,totalTime:Math.floor(.001*this.data.recoverPowerInterval),curTime:Math.floor(.001*(Date.now()-this.data.lastSaveTime))}},e.saveData=function(){a.localStorage.setItem(r.gameName+"powerData",JSON.stringify(this.data))},e.addPower=function(e){void 0===e&&(e=1),this.data.addPower(e),this.saveData(),this.emit(i.Common.AssetEvent.powerChanged,this.data.curPower)},e.subPower=function(e){this.data.subPower(e)&&(this.saveData(),this.emit(i.Common.AssetEvent.powerChanged,this.data.curPower))},e.onConsumePower=function(e){var t=e.power;null==e.power&&(t=1),this.data.subPower(t)?e.cb&&e.cb():this.tipPowerUnEnough()},e.tipPowerUnEnough=function(){this.emit(i.Common.AssetEvent.powerUnEnough,this.data.curPower)},e.emit=function(e,t){n.emit(e,t)},e}());o(s,"data",null);var u=function(){function e(){o(this,"maxPower",10),o(this,"recoverPowerInterval",3e5),o(this,"recoverPowerValue",1),o(this,"curPower",10),o(this,"lastSaveTime",0),this.curPower=10,this.lastSaveTime=Date.now()}var t=e.prototype;return t.addPower=function(e){void 0===e&&(e=1),this.curPower+=e,this.curPower>this.maxPower&&(this.curPower=this.maxPower)},t.subPower=function(e){return!(this.curPower<e)&&(this.curPower-=e,!0)},t.updateLastSaveTime=function(){this.lastSaveTime=Date.now()},e}();t._RF.pop()}}}));

System.register("chunks:///_virtual/TweenTools.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var n,e,a,i,c;return{setters:[function(t){n=t.cclegacy,e=t.Tween,a=t.UIOpacity,i=t.tween},function(t){c=t.defineProperty}],execute:function(){n._RF.push({},"214168f5ydEXY2dtYcYhZE5","TweenTools",void 0);var o=t("default",function(){function t(){}return t.showUIFade=function(t,n,c,o){var p=this;void 0===c&&(c=.2),e.stopAllByTarget(this._tmpOpacity);var s=t.getComponent(a);s||(s=t.addComponent(a)),n?(this._tmpOpacity.a=0,t.active=!0,i(this._tmpOpacity).to(c,{a:255},{onUpdate:function(){s.opacity=p._tmpOpacity.a}}).call((function(){o&&o()})).start()):i(this._tmpOpacity).to(c,{a:0},{onUpdate:function(){s.opacity=p._tmpOpacity.a}}).call((function(){t.active=!1,o&&o()})).start()},t}());c(o,"_tmpOpacity",{a:0}),n._RF.pop()}}}));

System.register("chunks:///_virtual/http_request.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameConfig.ts"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.cclegacy},function(e){n=e.defineProperty},function(e){r=e.default}],execute:function(){t._RF.push({},"2c29csX5rhKb490tgYRKTP0","http_request",void 0);var s=e("default",function(){function e(){}return e.postRequest=function(e,t,n){console.log("postRequest ---\x3e",e);var r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded");var s="";for(var o in t)s+=o+"="+encodeURIComponent(t[o])+"&";s=s.substr(0,s.length-1),r.send(s),r.onreadystatechange=function(){var e=r.readyState,t=r.status;if(4==e&&200==t){var s=r.responseText,o=JSON.parse(s);n&&n(o)}}},e.get=function(e,t,n){var r=new XMLHttpRequest;r.timeout=1e4,r.open("GET",e,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){if(4===this.readyState&&this.status>=200&&this.status<300){var e=r.responseText;e||console.log("httperror",e);var t=JSON.parse(e);n(t)}};var s="";for(var o in t)s+=o+"="+t[o]+"&";s=s.substr(0,s.length-1),r.send(s)},e}());n(s,"url_ad",r.url_ad),n(s,"url_login",r.url_login),n(s,"url_gamelevel",r.url_gamelevel),n(s,"url_buy",r.url_buy),t._RF.pop()}}}));

System.register("chunks:///_virtual/BannerToucherButton.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts","./CommonEnum.ts","./GlobalEnum.ts","./Action3dManager.ts","./GlobalData2.ts","./yyComponent.ts"],(function(n){"use strict";var e,t,o,i,r,s,a,h,c,u,l,m,d,f,B,C,b,p,T;return{setters:[function(n){e=n.cclegacy,t=n.Enum,o=n.Node,i=n._decorator,r=n.v2},function(n){s=n.applyDecoratedDescriptor,a=n.inheritsLoose,h=n.initializerDefineProperty,c=n.assertThisInitialized,u=n.defineProperty,l=n.createClass},function(n){m=n.EventType},function(n){d=n.default},function(n){f=n.CommonEnum},function(n){B=n.GlobalEnum},function(n){C=n.default,b=n.ActionMngType},function(n){p=n.default},function(n){T=n.default}],execute:function(){var y,g,v,w,k,P,D,R,N,M,H,E,I,S;e._RF.push({},"2de8aPFeLNNn5dE1se/blXB","BannerToucherButton",void 0);var _=i,F=_.ccclass,x=_.property,A=(n("default",(y=x({type:t(f.BannerTouchType),tooltip:"按钮误触类型：\n- bannerToucher_recommendPage：导流页使用的误触方式，按钮位置不会移动；\n\n- bannerToucher_resultUI：结算页使用的误触方式，banner显示后，会根据后台配置选择延迟隐藏banner或移动按钮位置；\n\n- noneBannerButton：没有误触，不处理banner的显示/隐藏的按钮，适用于OPPO平台等不使用误触banner的情况；\n\n"}),g=x({tooltip:"开关关闭时，按钮显示在正常位置的坐标"}),v=x({tooltip:"开关打开时，按钮显示在banner位置的坐标"}),w=x({type:o,tooltip:"误触功能要控制的其他按钮，比如结算页要控制的观看视频的按钮"}),k=x({tooltip:"开关关闭时，按钮显示在正常位置的坐标"}),P=x({tooltip:"开关打开时，按钮显示在banner位置的坐标"}),F((N=s((R=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o))||this,h(c(e),"type",N,c(e)),h(c(e),"normalPos",M,c(e)),h(c(e),"touchPos",H,c(e)),h(c(e),"otherBtn",E,c(e)),h(c(e),"otherBtnNormalPos",I,c(e)),h(c(e),"otherBtnTouchPos",S,c(e)),u(c(e),"handler",void 0),u(c(e),"banner",void 0),u(c(e),"bannerToucher",void 0),e}a(e,n);var t=e.prototype;return t.init=function(n,e){this.handler=n,this.banner=e},t.reset=function(){this.resetBannerToucher()},t.show=function(n){this.resetBannerToucher(),this.showBannerToucher(n)},t.resetBannerToucher=function(){this.bannerToucher&&this.bannerToucher.reset()},t.showBannerToucher=function(n){this.bannerToucher||this.createBannerToucher(n),this.bannerToucher.show(n)},t.createBannerToucher=function(n){this.bannerToucher=A.getBannerToucher(this.type,{config:n,banner:this.banner,handler:this.handler,data:{btn:this.node,normalPos:this.normalPos,touchPos:this.touchPos,otherBtn:this.otherBtn,otherBtnNormalPos:this.otherBtnNormalPos,otherBtnTouchPos:this.otherBtnTouchPos}})},t.clickBanerToucher=function(n){this.bannerToucher&&this.bannerToucher.onClick(n)},t.onClick=function(){d.emit(m.Common.SDKEvent.checkVisibleBanner,this.onHaveBanner.bind(this),this.onNoBanner.bind(this))},t.onHaveBanner=function(){this.clickBanerToucher()},t.onNoBanner=function(){this.runHandler()},t.runHandler=function(){d.emit(m.Common.RecommendEvent.hideSingleRecommend),this.handler&&(this.handler.target?this.handler.cb.call(this.handler.target,this.handler.data):this.handler.cb(this.handler.data))},e}(T)).prototype,"type",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.BannerTouchType.base}}),M=s(R.prototype,"normalPos",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r()}}),H=s(R.prototype,"touchPos",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r()}}),E=s(R.prototype,"otherBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=s(R.prototype,"otherBtnNormalPos",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r()}}),S=s(R.prototype,"otherBtnTouchPos",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r()}}),D=R))||D)),function(){function n(){}return n.getBannerToucher=function(n,e){var t=this.createBannerToucher(n);return t?(t.setConfig(e),t):null},n.createBannerToucher=function(n){switch(n){case B.Common.BannerTouchType.bannerToucher_recommendPage:return new O;case B.Common.BannerTouchType.bannerToucher_resultUI:return new K;case B.Common.BannerTouchType.noneBannerButton:return new U}return new U},n}()),z=function(){function n(n){u(this,"mode",1),u(this,"visible",!1),u(this,"banner",void 0),u(this,"handler",void 0),this.init(n)}var e=n.prototype;return e.init=function(n){void 0!==n&&this.setData(n)},e.setData=function(n){this.setBaseData(n),this.setOtherConfig(n)},e.setBaseData=function(n){this.setVisible(n.config),this.banner=n.banner,this.setHandler(n.handler)},e.setOtherConfig=function(n){},e.reset=function(){},e.setConfig=function(n){this.setData(n)},e.setTouchConfig=function(n){},e.show=function(n){this.reset(),n&&this.setTouchConfig(n)},e.hide=function(){},e.setVisible=function(n){if(n){this.visible=!!n[B.Common.RecommendFlowConfig.visible];var e=n[B.Common.RecommendFlowConfig.mode];"number"==typeof e&&(e=e.toString()),"0"!=e&&"z"!=e||(e="23567");var t=Math.floor(Math.random()*(e.length-1e-5));this.mode=parseInt(e[t])}else this.visible=!1},e.showBanner=function(){switch(this.mode){case B.Common.BannerTouchMode.banner:this._showBanner();break;case B.Common.BannerTouchMode.recommend:this._showRecommend();break;default:this._showBanner()}},e._showBanner=function(){d.emit(m.Common.SDKEvent.showBanner,this.banner)},e._showRecommend=function(){console.log("BannerToucher.showRecommend.hideBanner"),d.emit(m.Common.SDKEvent.hideBanner);var n=p.get(B.Common.GlobalDataType.canvasTransform);if(n.width>n.height){var e={};if(this.banner&&this.banner.style)switch(this.banner.style.horizontal){case"left":e.left=20;break;case"middle":e.horizontalCenter=!0;break;case"right":e.right=20;break;default:e.horizontalCenter=!0}e.width=600,e.bottom=40,e.height=170,d.emit(m.Common.RecommendEvent.showInsteadBannerRecommend,{name:"RecommendBanner_H",AdID:"friend",itemType:"icon",widget:e})}else d.emit(m.Common.RecommendEvent.showInsteadBannerRecommend,{name:"RecommendBanner_H",AdID:"friend",itemType:"icon",widget:{left:0,right:0,bottom:40,height:170}})},e.hideBanner=function(){console.log("BannerToucher:hideBanner"),d.emit(m.Common.SDKEvent.hideBanner)},e.setHandler=function(n){this.handler=n},e.runHandler=function(){d.emit(m.Common.RecommendEvent.hideSingleRecommend),this.handler&&(this.handler.target?this.handler.cb.call(this.handler.target,this.handler.data):this.handler.cb(this.handler.data))},e.onClick=function(n){return n&&this.setHandler(n),this.visible?this.checkClick():(this.runHandler(),!0)},e.checkClick=function(){return!1},l(n,[{key:"type",get:function(){return B.Common.BannerTouchType.base}}]),n}(),O=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o))||this,u(c(e),"clickCount",0),u(c(e),"preClickCount",0),u(c(e),"minClickCount",0),u(c(e),"maxClickCount",0),u(c(e),"showBannerDelay",0),u(c(e),"hideBannerDelay",0),e}a(e,n);var t=e.prototype;return t.reset=function(){this.clickCount=0,this.randomPreclickCount()},t.randomPreclickCount=function(){this.preClickCount=this.minClickCount+Math.round((this.maxClickCount-this.minClickCount)*Math.random())},t.setOtherConfig=function(n){this.setTouchConfig(n.config)},t.setTouchConfig=function(n){if(n){var e=n[B.Common.RecommendFlowConfig.preClickCount];if("number"==typeof e)this.minClickCount=e,this.maxClickCount=e;else if("string"==typeof e)if(e.indexOf("-")>=0){var t=e.split("-");this.minClickCount=parseInt(t[0]),this.maxClickCount=parseInt(t[1])}else this.minClickCount=parseInt(e),this.maxClickCount=parseInt(e);this.randomPreclickCount();var o=n[B.Common.RecommendFlowConfig.recommendBannerShowDelay];"string"==typeof o&&(o=parseFloat(o)),this.showBannerDelay=o,0==this.showBannerDelay&&(this.visible=!1),"string"==typeof(o=n[B.Common.RecommendFlowConfig.recommendBannerHideDelay])&&(o=parseFloat(o)),this.hideBannerDelay=o}else this.visible=!1},t.show=function(n){this.reset(),n&&(this.setVisible(n),this.setTouchConfig(n)),this.mode==B.Common.BannerTouchMode.normal&&(this.visible=!1)},t.checkClick=function(){var n=this;if(this.preClickCount-=1,this.preClickCount>0)return!1;if(0==this.showBannerDelay&&0==this.hideBannerDelay)return this.runHandler(),!0;switch(this.clickCount){case 0:return this.clickCount=1,setTimeout((function(){console.log("延迟显示banner"),d.once(m.Common.SDKEvent.showBannerSuccess,n.delayHideBanner0,n),n.showBanner()}),1e3*this.showBannerDelay),!1;case 1:return!1;case 2:return this.runHandler(),!0}return!1},t.delayHideBanner0=function(){var n=this;setTimeout((function(){console.log("延迟隐藏banner"),n.hideBanner(),n.clickCount=2}),1e3*this.hideBannerDelay)},l(e,[{key:"type",get:function(){return B.Common.BannerTouchType.bannerToucher_recommendPage}}]),e}(z),K=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o))||this,u(c(e),"btn",null),u(c(e),"btnNormalPos",void 0),u(c(e),"btnTouchPos",void 0),u(c(e),"otherBtn",null),u(c(e),"otherBtnNormalPos",void 0),u(c(e),"otherBtnTouchPos",void 0),u(c(e),"showBannerDelay2",0),e}a(e,n);var t=e.prototype;return t.setBtnNormalPos=function(){var n=C.getMng(b.UI);this.btn&&(n.stopAllActions(this.btn),this.btn.setPosition(this.btnNormalPos.x,this.btnNormalPos.y,0)),this.otherBtn&&(n.stopAllActions(this.otherBtn),this.otherBtn.setPosition(this.otherBtnNormalPos.x,this.otherBtnNormalPos.y,0))},t.setBtnTouchPos=function(){var n=C.getMng(b.UI);this.btn&&(n.stopAllActions(this.btn),this.btn.setPosition(this.btnTouchPos.x,this.btnTouchPos.y,0)),this.otherBtn&&(n.stopAllActions(this.otherBtn),this.otherBtn.setPosition(this.otherBtnTouchPos.x,this.otherBtnTouchPos.y,0))},t.moveBtn=function(){if(this.btn){var n=C.moveTo(1,this.btnNormalPos.x,this.btnNormalPos.y,0);C.getMng(b.UI).runAction(this.btn,n)}},t.moveOtherBtn=function(){if(this.otherBtn){var n=C.moveTo(1,this.otherBtnNormalPos.x,this.otherBtnNormalPos.y,0);C.getMng(b.UI).runAction(this.otherBtn,n)}},t.setOtherConfig=function(n){this.setTouchConfig(n.config),n.data&&(this.btn=n.data.btn,this.btnNormalPos=n.data.normalPos,this.btnTouchPos=n.data.touchPos,this.otherBtn=n.data.otherBtn,this.otherBtnNormalPos=n.data.otherBtnNormalPos,this.otherBtnTouchPos=n.data.otherBtnTouchPos)},t.setTouchConfig=function(n){if(n){var e=n[B.Common.RecommendFlowConfig.preClickCount];if("number"==typeof e)this.minClickCount=e,this.maxClickCount=e;else if("string"==typeof e)if(e.indexOf("-")>=0){var t=e.split("-");this.minClickCount=parseInt(t[0]),this.maxClickCount=parseInt(t[1])}else this.minClickCount=parseInt(e),this.maxClickCount=parseInt(e);this.randomPreclickCount();var o=n[B.Common.RecommendFlowConfig.shanPinShowBannerDelay];"string"==typeof o&&(o=parseFloat(o)),this.showBannerDelay=o,0==this.showBannerDelay&&(this.visible=!1),"string"==typeof(o=n[B.Common.RecommendFlowConfig.shanPinHideBannerDelay])&&(o=parseFloat(o)),this.hideBannerDelay=o,"string"==typeof(o=n[B.Common.RecommendFlowConfig.shanPinShowBannerDelay2])&&(o=parseFloat(o)),o||(o=.6),this.showBannerDelay2=o}else this.visible=!1},t.show=function(n){var e=this;if(this.reset(),n&&(this.setVisible(n),this.setTouchConfig(n)),this.mode==B.Common.BannerTouchMode.normal&&(this.visible=!1),this.visible)switch(this.mode){case B.Common.BannerTouchMode.showSingleRecommend:this.setBtnNormalPos(),d.emit(m.Common.RecommendEvent.showSingleRecommend,"resultSingleBanner"),this.visible=!1;break;case B.Common.BannerTouchMode.moveButtonFast:this.clickCount=1,this.setBtnTouchPos(),setTimeout((function(){e._showBanner()}),1e3*this.showBannerDelay),setTimeout((function(){e.setBtnNormalPos(),e.visible=!1,e.clickCount=2}),1e3*this.hideBannerDelay);break;default:this.setBtnTouchPos(),this.preClickCount<=0&&this.step1()}else this.setBtnNormalPos(),setTimeout((function(){console.log("直接显示banner"),e._showBanner()}),500)},t.step1=function(){var n=this;this.mode!=B.Common.BannerTouchMode.moveButtonFast&&(this.clickCount=1,setTimeout((function(){d.once(m.Common.SDKEvent.showBannerSuccess,n.step2,n),n.showBanner()}),1e3*this.showBannerDelay))},t.step2=function(){var n=this;switch(this.mode){case B.Common.BannerTouchMode.banner:setTimeout((function(){n.hideBanner(),n.clickCount=2}),1e3*this.hideBannerDelay);break;case B.Common.BannerTouchMode.moveButton:setTimeout((function(){n.moveBtn(),n.moveOtherBtn(),n.clickCount=2}),500);break;case B.Common.BannerTouchMode.showBannerTwice:setTimeout((function(){n.hideBanner(),n.clickCount=1,n.step3()}),1e3*this.hideBannerDelay);break;default:this.clickCount=2}},t.step3=function(){var n=this;switch(this.mode){case B.Common.BannerTouchMode.showBannerTwice:setTimeout((function(){n.clickCount=1,d.once(m.Common.SDKEvent.showBannerSuccess,n.step4,n),n.showBanner()}),1e3*this.showBannerDelay2);break;default:this.clickCount=2}},t.step4=function(){var n=this;switch(this.mode){case B.Common.BannerTouchMode.showBannerTwice:setTimeout((function(){n.hideBanner(),n.clickCount=2}),1e3*this.hideBannerDelay);break;default:this.clickCount=2}},t.checkClick=function(){if(this.preClickCount-=1,this.preClickCount>0)return!1;if(0==this.showBannerDelay&&0==this.hideBannerDelay)return this.runHandler(),!0;switch(this.clickCount){case 0:return this.step1(),!1;case 1:return!1;case 2:return this.runHandler(),!0}return!1},l(e,[{key:"type",get:function(){return B.Common.BannerTouchType.bannerToucher_resultUI}}]),e}(O),U=function(n){function e(){return n.apply(this,arguments)||this}a(e,n);var t=e.prototype;return t.show=function(){},t.onClick=function(n){return n&&this.setHandler(n),this.runHandler(),!0},l(e,[{key:"type",get:function(){return B.Common.BannerTouchType.noneBannerButton}}]),e}(z);e._RF.pop()}}}));

System.register("chunks:///_virtual/CommonEvent.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){var n,a,t,i,r,s,d,c,l,h,m,u,v,w,g,S,p,I,F;e("CommonEvent",void 0),o._RF.push({},"2f11fjQKy5OeaGwo994lTDQ","CommonEvent",void 0),a=n||(n=e("CommonEvent",{})),function(e){e[e.startIndex=1e3]="startIndex",e[e.enterLobby=1001]="enterLobby",e[e.hideGameLobby=1002]="hideGameLobby",e[e.chooseLevelItem=1003]="chooseLevelItem",e[e.enterLevel=1004]="enterLevel",e[e.exitLevel=1005]="exitLevel",e[e.playerWin=1006]="playerWin",e[e.playerLose=1007]="playerLose",e[e.pauseLevel=1008]="pauseLevel",e[e.resumeLevel=1009]="resumeLevel",e[e.matchPlayerFinish=1010]="matchPlayerFinish",e[e.chooseTrySkinFinish=1011]="chooseTrySkinFinish",e[e.enterFightScene=1012]="enterFightScene",e[e.enterFightLoading=1013]="enterFightLoading"}(t||(t={})),a.DirectorEvent=t,function(e){e[e.startIndex=2e3]="startIndex",e[e.showProgress=2001]="showProgress",e[e.hideProgress=2002]="hideProgress",e[e.updateProgress=2003]="updateProgress"}(i||(i={})),a.LoadAssetEvent=i,function(e){e[e.startIndex=3e3]="startIndex",e[e.dataLoaded=3001]="dataLoaded",e[e.updatePlayerData=3002]="updatePlayerData",e[e.playerDataChanged=3003]="playerDataChanged",e[e.trySkinEnd=3004]="trySkinEnd"}(r||(r={})),a.PlayerDataEvent=r,function(e){e[e.startIndex=4e3]="startIndex",e[e.inited=4001]="inited",e[e.showMsg=4002]="showMsg",e[e.showVideo=4003]="showVideo",e[e.showBanner=4004]="showBanner",e[e.hideBanner=4005]="hideBanner",e[e.showBannerFinish=4006]="showBannerFinish",e[e.showBannerSuccess=4007]="showBannerSuccess",e[e.showBannerFail=4008]="showBannerFail",e[e.bannerResize=4009]="bannerResize",e[e.checkVisibleBanner=4010]="checkVisibleBanner",e[e.touchBanner=4011]="touchBanner",e[e.showInsertAd=4012]="showInsertAd",e[e.startRecord=4013]="startRecord",e[e.pauseRecord=4014]="pauseRecord",e[e.resumeRecord=4015]="resumeRecord",e[e.stopRecord=4016]="stopRecord",e[e.recordSaved=4017]="recordSaved",e[e.recordError=4018]="recordError",e[e.shareRecord=4019]="shareRecord",e[e.navigateToMiniProgram=4020]="navigateToMiniProgram",e[e.navigateSuccess=4021]="navigateSuccess",e[e.navigateFail=4022]="navigateFail",e[e.vibrateShort=4023]="vibrateShort",e[e.vibrateLong=4024]="vibrateLong",e[e.hide=4025]="hide",e[e.show=4026]="show",e[e.showInsertByPauseLevel=4027]="showInsertByPauseLevel",e[e.triggerGC=4028]="triggerGC",e[e.showNativeAd=4029]="showNativeAd",e[e.hideNativeAd=4030]="hideNativeAd",e[e.hideAllNativeAd=4031]="hideAllNativeAd",e[e.quickShowNativeAd=4032]="quickShowNativeAd",e[e.quickHideNativeAd=4033]="quickHideNativeAd",e[e.showNativeAdSuccess=4034]="showNativeAdSuccess",e[e.hideNativeAdSuccess=4035]="hideNativeAdSuccess",e[e.playerClickedNativeAd=4036]="playerClickedNativeAd",e[e.playerClosedNativeAd=4037]="playerClosedNativeAd",e[e.shareToFriends=4038]="shareToFriends",e[e.callJSVideoSuccess=4039]="callJSVideoSuccess",e[e.callJSVideoFail=4040]="callJSVideoFail",e[e.callJSVideoError=4041]="callJSVideoError",e[e.callJSFullVideoSuccess=4042]="callJSFullVideoSuccess",e[e.callJSFullVideoFail=4043]="callJSFullVideoFail",e[e.callJSFullVideoError=4044]="callJSFullVideoError",e[e.showAppBox=4045]="showAppBox",e[e.showBlockAd=4046]="showBlockAd",e[e.hideBlockAd=4047]="hideBlockAd",e[e.subscribeMsg=4048]="subscribeMsg",e[e.addColorSign=4049]="addColorSign",e[e.getTableIconState=4050]="getTableIconState",e[e.addTableIcon=4051]="addTableIcon"}(s||(s={})),a.SDKEvent=s,function(e){e[e.startIndex=5e3]="startIndex",e[e.playGoldAnim=5001]="playGoldAnim",e[e.goldAnimPlayFinish=5002]="goldAnimPlayFinish",e[e.showTip=5003]="showTip",e[e.showTouchMask=5004]="showTouchMask",e[e.hideTouchMask=5005]="hideTouchMask",e[e.enter=5006]="enter",e[e.entered=5007]="entered",e[e.exit=5008]="exit",e[e.exited=5009]="exited",e[e.touchBannerFinish=5010]="touchBannerFinish",e[e.enterLoadLvUI=5011]="enterLoadLvUI",e[e.exitLoadLvUI=5012]="exitLoadLvUI"}(d||(d={})),a.UIEvent=d,function(e){e[e.startIndex=6e3]="startIndex",e[e.playBGM=6001]="playBGM",e[e.playEffect=6002]="playEffect",e[e.stopEffect=6003]="stopEffect",e[e.playClickBtn=6004]="playClickBtn",e[e.stopBGM=6005]="stopBGM",e[e.changeConfig=6006]="changeConfig",e[e.pause=6007]="pause",e[e.resume=6008]="resume"}(c||(c={})),a.AudioEvent=c,function(e){e[e.startIndex=7e3]="startIndex",e[e.levelStart=7001]="levelStart",e[e.levelWin=7002]="levelWin",e[e.levelLose=7003]="levelLose",e[e.levelExit=7004]="levelExit",e[e.sendEvent=7005]="sendEvent",e[e.enterGameFlow=7006]="enterGameFlow",e[e.enterRecommendFlow=7007]="enterRecommendFlow",e[e.clickGame=7008]="clickGame",e[e.jumpGame=7009]="jumpGame",e[e.touchBanner=7010]="touchBanner"}(l||(l={})),a.ALDEvent=l,function(e){e[e.startIndex=8e3]="startIndex",e[e.assetLoadFinish=8001]="assetLoadFinish",e[e.clickRecommendItem=8002]="clickRecommendItem",e[e.clickBtnRecommend_TT=8003]="clickBtnRecommend_TT",e[e.showRecommend=8004]="showRecommend",e[e.hideRecommend=8005]="hideRecommend",e[e.showInsteadBannerRecommend=8006]="showInsteadBannerRecommend",e[e.autoNavigate=8007]="autoNavigate",e[e.showLittlePage=8008]="showLittlePage",e[e.showMiddlePage=8009]="showMiddlePage",e[e.showBigPage=8010]="showBigPage",e[e.showRecommendDialog=8011]="showRecommendDialog",e[e.closeLittlePage=8012]="closeLittlePage",e[e.closeMiddlePage=8013]="closeMiddlePage",e[e.closeBigPage=8014]="closeBigPage",e[e.closeRecommendDialog=8015]="closeRecommendDialog",e[e.showSingleRecommend=8016]="showSingleRecommend",e[e.hideSingleRecommend=8017]="hideSingleRecommend",e[e.openDrawer=8018]="openDrawer",e[e.drawerStartOpen=8019]="drawerStartOpen",e[e.drawerOpened=8020]="drawerOpened",e[e.closeDrawer=8021]="closeDrawer",e[e.drawerStartClose=8022]="drawerStartClose",e[e.drawerClosed=8023]="drawerClosed"}(h||(h={})),a.RecommendEvent=h,function(e){e[e.startIndex=9e3]="startIndex",e[e.powerChanged=9001]="powerChanged",e[e.powerUnEnough=9002]="powerUnEnough",e[e.consumePower=9003]="consumePower",e[e.getPower=9004]="getPower"}(m||(m={})),a.AssetEvent=m,function(e){e[e.startIndex=1e4]="startIndex",e[e.loadConfigSuccess=10001]="loadConfigSuccess",e[e.changeScene=10002]="changeScene",e[e.closeFullRecommend=10003]="closeFullRecommend",e[e.onBtnFadeExit=10004]="onBtnFadeExit"}(u||(u={})),a.AdvertSwitchEvent=u,function(e){e[e.startIndex=11e3]="startIndex",e[e.ctrlStart=11001]="ctrlStart",e[e.ctrlEnd=11002]="ctrlEnd",e[e.touchStart=11003]="touchStart",e[e.touchMove=11004]="touchMove",e[e.touchEnd=11005]="touchEnd",e[e.touchStay=11006]="touchStay",e[e.btnTouchStart=11007]="btnTouchStart",e[e.btnTouchStay=11008]="btnTouchStay",e[e.btnTouchEnd=11009]="btnTouchEnd",e[e.btnTouchMove=11010]="btnTouchMove",e[e.btnTouchCancel=11011]="btnTouchCancel"}(v||(v={})),a.CtrlEvent=v,function(e){e[e.startIndex=12e3]="startIndex",e[e.chooseItem=12001]="chooseItem",e[e.changeDisplayItem=12002]="changeDisplayItem"}(w||(w={})),a.ShopEvent=w,function(e){e[e.startIndex=13e3]="startIndex",e[e.showMoreGameByBanner=13001]="showMoreGameByBanner",e[e.showMoreGameByIcon=13002]="showMoreGameByIcon",e[e.showMoreGame=13003]="showMoreGame",e[e.showMoreGameSide=13004]="showMoreGameSide",e[e.showMoreGameMiddle=13005]="showMoreGameMiddle"}(g||(g={})),a.LeYouRecommend=g,function(e){e[e.startIndex=14e3]="startIndex",e[e.appOnce=14001]="appOnce",e[e.sharedOut=14002]="sharedOut",e[e.sharedIn=14003]="sharedIn",e[e.video=14004]="video",e[e.levelUp=14005]="levelUp",e[e.task=14006]="task",e[e.action=14007]="action",e[e.pay=14008]="pay",e[e.money=14009]="money",e[e.item=14010]="item",e[e.battle=14011]="battle",e[e.equip=14012]="equip",e[e.equipLevel=14013]="equipLevel",e[e.equipDegree=14014]="equipDegree",e[e.equipPlayWay=14015]="equipPlayWay",e[e.event=14016]="event",e[e.clear=14017]="clear",e[e.error=14018]="error",e[e.unlockSkin=14019]="unlockSkin"}(S||(S={})),a.TongJi=S,function(e){e[e.startIndex=15e3]="startIndex",e[e.showFullScreenIcon=15001]="showFullScreenIcon",e[e.showYouziGameCollectionPage=15002]="showYouziGameCollectionPage"}(p||(p={})),a.YouZiRecommend=p,function(e){e[e.startIndex=16e3]="startIndex",e[e.loadConfigFinish=16001]="loadConfigFinish",e[e.enterGameFlow=16002]="enterGameFlow",e[e.enterLevel=16003]="enterLevel",e[e.navigateFail=16004]="navigateFail",e[e.endFirstFlow=16005]="endFirstFlow",e[e.showInitScene_RecommendDialog=16006]="showInitScene_RecommendDialog"}(I||(I={})),a.GameFlow=I,function(e){e[e.startIndex=17e3]="startIndex",e[e.showMoreGame=17001]="showMoreGame",e[e.initAdNode=17002]="initAdNode",e[e.showGameNativeAd=17003]="showGameNativeAd",e[e.hideGameNativeAd=17004]="hideGameNativeAd",e[e.showFinishNativeAd=17005]="showFinishNativeAd",e[e.hideFinishNativeAd=17006]="hideFinishNativeAd",e[e.showFinishGameBannerAd=17007]="showFinishGameBannerAd",e[e.hideFinishGameBannerAd=17008]="hideFinishGameBannerAd",e[e.clickNativeAd=17009]="clickNativeAd"}(F||(F={})),a.HeyGameSDK=F,o._RF.pop()}}}));

System.register("chunks:///_virtual/PCSDK.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./SDK.ts"],(function(t){"use strict";var e,n,u;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){u=t.default}],execute:function(){e._RF.push({},"3fdc4pjSqdOkJDbU+zjWyof","PCSDK",void 0);t("default",function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(u));e._RF.pop()}}}));

System.register("chunks:///_virtual/RecommendDataManager.ts",["cc","./AdConfig.ts","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts","./http_request.ts","./GlobalEnum.ts","./GamePlatformType.ts","./GameFlow.ts","./Loader.ts","./GamePlatform.ts","./GlobalPool.ts"],(function(e){"use strict";var t,n,a,o,i,r,s,d,u,c,f,l,m,g;return{setters:[function(e){t=e.cclegacy,n=e.JsonAsset,a=e.Prefab},function(e){o=e.AdConfig},function(e){i=e.defineProperty},function(e){r=e.EventType},function(e){s=e.default},function(e){d=e.default},function(e){u=e.GlobalEnum},function(e){c=e.GamePlatformType},function(e){f=e.default},function(e){l=e.default},function(e){m=e.default},function(e){g=e.default}],execute:function(){t._RF.push({},"41aa7Aqw4BHO4CSSBBAQXff","RecommendDataManager",void 0);var h={config:1,prefab:2},p=e("default",function(){function e(){}return e.init=function(e){var t=this;this.assetState={};var n=this.getJsonName(e);n&&l.loadBundle("Recommend",(function(){t.loadConfig(n),t.loadPrefab()}),!1)},e.getJsonName=function(e){switch(m.Config.type){case c.OPPO:return"RecommendConfig_OPPO";case c.QQ:return null;case c.TT:return"RecommendConfig_TT";case c.WX:case c.PC:return"RecommendConfig_WX";case c.VIVO:default:return null}},e.loadFinish=function(e){this.assetState[e]=!0;var t=!0;for(var n in h)if(!this.assetState[h[n]]){t=!1;break}t&&(this.allAssetLoadFinish=!0,this.assetState=null,s.emit(r.Common.RecommendEvent.assetLoadFinish))},e.loadConfig=function(e){var t=this;l.loadBundleRes("Recommend","Config/"+e,(function(n){null!==n?(t.config=n.json,t.loadFinish(h.config)):console.log("互推配置表加载失败：",e)}),n,!1)},e.loadPrefab=function(){var e=this,t="Prefab";l.loadBundleDir("Recommend",t,(function(n){if(null!==n){for(var a=n.length-1;a>=0;--a){var o=n[a];g.createPool(o.name,o,o.name)}e.loadFinish(h.prefab)}else console.log("互推预制件加载失败:",t)}),a,!1)},e.loadAdData=function(e,t,n){var a=this,i=o.AdID[e];if(n||(n=0),t&&this.data[i]){var r=this.getRecommendData(i,n);t(r)}else{var s={softid:m.Config.appId,locationid:i};d.postRequest(d.url_ad+"v1.1/api/getAdv.html",s,(function(e){if(a.data[i])t&&t(a.getRecommendData(i,n));else if(e&&e.result){var o=e.result;if(Array.isArray(o)){o.sort((function(e,t){var n=parseInt(e.weight);return parseInt(t.weight)<n?-1:1})),console.log(o);var r=f.getRecommendUIConfig(i);if(r&&r[u.Common.RecommendUIConfig.hideJumpedGame])for(var s=o.length-1;s>=0;--s)a.jumpRecord[o[s].appid]&&o.splice(s,1);a.data[i]=o;for(var d=[],c=o.length-1;c>=0;--c){var l=o[c].appid;d.push(l),void 0===a.jumpRecord[l]&&(a.jumpRecord[l]=0)}a.recommendRecord[i]={lastPtr:-1,ids:d},t&&t(a.getRecommendData(i,n))}else console.log("互推数据不是数组：",o)}}))}},e.getRecommendData=function(e,t){var n;void 0===t&&(t=0),"string"==typeof e?(n=parseInt(e),isNaN(n)&&(n=o.AdID[e])):n=e;var a=this.data[n];if(!a)return null;if(t<=0||0==a.length)return a;for(var i=[],r=0;r<t;++r)i.push(a[r%a.length]);return i},e.getConfig=function(e){return this.allAssetLoadFinish?this.config[e]:null},e.getRecommendRecord=function(e){var t=o.AdID[e];return this.recommendRecord[t]},e.getJumpRecommend=function(e){return this.jumpRecord[e]},e.getUnjumpData=function(e){"string"==typeof e&&(e=parseInt(e));var t=this.data[e];if(!t)return null;for(var n=t.length-1;n>=0;--n)if(0==this.jumpRecord[t[n].appid])return t[n];return null},e.getNextItemByAdID=function(e,t){var n=o.AdID[e];this.getNextItemByLocationid(n,t)},e.getNextItemByLocationid=function(e,t){"string"==typeof e&&(e=parseInt(e));var n=this.data[e];if(!n)return null;var a=this.recommendRecord[e].lastPtr;return a<t?a=t:a++,a>=n.length&&(a=t)>=n.length&&(a=Math.floor(Math.random()*(n.length-.001))),this.recommendRecord[e].lastPtr=a,this.data[e][a]},e.recordJumpGame=function(e){this.jumpRecord[e.appid]+=1},e.removeJumpedGame=function(e){for(var t in this.data)for(var n=this.data[t],a=n.length-1;a>=0;--a)if(n[a].appid==e.appid){n.splice(a,1);break}},e}());i(p,"data",{}),i(p,"recommendRecord",{}),i(p,"jumpRecord",{}),i(p,"config",void 0),i(p,"assetState",void 0),i(p,"allAssetLoadFinish",!1),t._RF.pop()}}}));

System.register("chunks:///_virtual/FinishNativeAd.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GlobalData.ts","./ResUtils.ts","./NativeAdView.ts"],(function(i){"use strict";var t,e,n,a,d,s,o,v,l,h,A;return{setters:[function(i){t=i.cclegacy,e=i._decorator,n=i.instantiate,a=i.UITransform,d=i.v3,s=i.Widget},function(i){o=i.defineProperty},function(i){v=i.NATIVE_AD_TYPE,l=i.NATIVE_AD_STYLE},function(i){h=i.ResUtils},function(i){A=i.NativeAdView}],execute:function(){var r;t._RF.push({},"43b44jhvMhJxIcbbnenmFee","FinishNativeAd",void 0);var c=e.ccclass;i("FinishNativeAd",c(r=function(){function i(){o(this,"adId",null),o(this,"nativeAd",null),o(this,"nativeAdView",null),o(this,"nativeAdViewCtrl",null),o(this,"nativeBannerAdView",null),o(this,"nativeBannerAdViewCtrl",null),o(this,"style",l.BANNER_AD),o(this,"viewAdBtn",null),o(this,"bgBtn",null),o(this,"count",0),o(this,"initCallBack",null),o(this,"bannerWidget",void 0),o(this,"nativeWidget",void 0)}var t=i.prototype;return t.initNativeStyle=function(i){void 0===i&&(i=null),this.style=i},t.addNodeToParent=function(i){this.createNativeAdView(i),this.createNativeBannerAdView(i)},t.initNativeAd=function(i){void 0===i&&(i=null),this.initCallBack=i,this.nativeAd&&(console.log("FinishNativeAd--initNativeAd"),HeyGameAdSDK.GameAdSDK.SDK.onNativeDestroy(this.nativeAd),this.nativeAd=null,this.adId=null),this.nativeAd=HeyGameAdSDK.GameAdSDK.SDK.createNativeAd(v.FINISH,this.onLoadNativeDataFinish.bind(this))},t.onLoadNativeDataFinish=function(i){i?(this.nativeAdViewCtrl&&this.nativeAdViewCtrl.initView(i),this.nativeBannerAdViewCtrl&&this.nativeBannerAdViewCtrl.initView(i),this.adId=i.adId,this.initCallBack&&this.initCallBack(!0)):(this.hideNativeAd(),this.initCallBack&&this.initCallBack(!1))},t.autoUpdateNativeAdData=function(){setInterval(this.initNativeAd.bind(this),1e3*(HeyGameAdSDK.GameAdSDK.SDK.delayTime+2))},t.createNativeAdView=function(i){var t=this;this.nativeAdView||h.loadPrefab("HeyGameSDK/native_ad_prefab",(function(e){e&&(t.nativeAdView=n(e),t.nativeAdViewCtrl=t.nativeAdView.getComponent(A),t.nativeAdViewCtrl.adClickCallBack=t.onNativeAdClick.bind(t),t.nativeAdViewCtrl.adCloseCallBack=t.onNativeAdClose.bind(t),i.addChild(t.nativeAdView),t.nativeWidget&&t.setWidget(t.nativeAdView,t.nativeWidget),t.nativeAdView.active=!1,t.count++,t.onNativeNodeCreateFinish())}))},t.onNativeNodeCreateFinish=function(){var i=this;this.count>=2&&(HeyGameConfig.HeyGameSDKConfig.onVIVOMiniGame?setTimeout((function(){i.initNativeAd()}),5e3):this.initNativeAd())},t.createNativeBannerAdView=function(i){var t=this;this.nativeBannerAdView||h.loadPrefab("HeyGameSDK/native_banner_ad_prefab",(function(e){e&&(t.nativeBannerAdView=n(e),t.nativeBannerAdViewCtrl=t.nativeBannerAdView.getComponent(A),t.nativeBannerAdViewCtrl.adClickCallBack=t.onNativeAdClick.bind(t),t.nativeBannerAdViewCtrl.adCloseCallBack=t.onNativeAdClose.bind(t),i.addChild(t.nativeBannerAdView),t.bannerWidget&&(t.setWidget(t.nativeBannerAdView,t.bannerWidget),t.bannerWidget=null),t.nativeBannerAdView.active=!1,t.count++,t.onNativeNodeCreateFinish())}))},t.onNativeAdClick=function(){var i=this;this.nativeAd&&HeyGameAdSDK.GameAdSDK.SDK.onNativeAdClick(this.nativeAd,this.adId,(function(t){t&&(HeyGameConfig.HeyGameSDKConfig.onVIVOMiniGame?setTimeout((function(){i.initNativeAd((function(){i.showNativeAd()}))}),4e3):i.initNativeAd((function(){i.showNativeAd()})))}))},t.onNativeAdClose=function(){var i=this;this.nativeAd&&HeyGameAdSDK.GameAdSDK.SDK.onNativeAdClose(this.nativeAd,this.adId,(function(t){t&&i.initNativeAd()})),this.viewAdBtn&&(this.viewAdBtn.active=!1),this.bgBtn&&(this.bgBtn.active=!1),HeyGameAdSDK.GameAdSDK.SDK.showBannerAd(106)},t.showNativeAd=function(i,t){var e=this;if(void 0===i&&(i=null),null!=i&&(this.style=i),null!=this.adId)switch(HeyGameAdSDK.GameAdSDK.SDK.hideBannerAd(),this.bgBtn&&(this.bgBtn.active=!0),this.viewAdBtn&&(this.viewAdBtn.active=!0),this.style){case l.BIG_AD:this.nativeBannerAdView&&(this.nativeBannerAdView.active=!1),t&&(this.nativeWidget=t),this.nativeAdView&&(t?this.setWidget(this.nativeAdView,t):this.nativeWidget&&this.setWidget(this.nativeAdView,this.nativeWidget),this.nativeAdView.active=!0);break;case l.BANNER_AD:this.nativeAdView&&(this.nativeAdView.active=!1),t&&(this.bannerWidget=t),this.nativeBannerAdView&&(t?(this.setWidget(this.nativeBannerAdView,t),this.bannerWidget=null):this.bannerWidget&&(this.setWidget(this.nativeBannerAdView,this.bannerWidget),this.bannerWidget=null),this.nativeBannerAdView.active=!0)}else this.initNativeAd((function(i){i?e.showNativeAd():HeyGameAdSDK.GameAdSDK.SDK.showBannerAd(107)}))},t.setWidget=function(i,t,e){var n=i.getComponent(a);void 0!==t.width&&(n.width=t.width),void 0!==t.height&&(n.height=t.height);var o=d(),v=!1;void 0!==t.x?(o.x=t.x,v=!0):o.x=i.position.x,void 0!==t.y?(o.y=t.y,v=!0):o.y=i.position.y,v&&(o.z=i.position.z,i.setPosition(o)),o.x=o.y=o.z=1,void 0!==t.scale&&(o.x=t.scale.x,o.y=t.scale.y),i.setScale(o);var l=i.getComponent(s);l||(l=i.addComponent(s)),l.isAbsoluteBottom=!0,l.isAbsoluteLeft=!0,l.isAbsoluteRight=!0,l.isAbsoluteTop=!0,l.isAbsoluteHorizontalCenter=!0,l.isAbsoluteVerticalCenter=!0,t&&(l.target=e||i.parent,void 0!==t.top?(l.isAlignTop=!0,l.isAbsoluteTop=t.top>1,l.top=parseFloat(t.top)):l.isAlignTop=!1,void 0!==t.bottom?(l.isAlignBottom=!0,l.isAbsoluteBottom=t.bottom>1,l.bottom=parseFloat(t.bottom)):l.isAlignBottom=!1,void 0!==t.left?(l.isAlignLeft=!0,l.isAbsoluteLeft=t.left>1,l.left=parseFloat(t.left)):l.isAlignLeft=!1,void 0!==t.right?(l.isAlignRight=!0,l.isAbsoluteRight=t.right>1,l.right=parseFloat(t.right)):l.isAlignRight=!1,l.isAlignHorizontalCenter=!!t.horizontalCenter,l.isAlignVerticalCenter=!!t.verticalCenter,this.updateWidget(i))},t.updateWidget=function(i){var t=i.getComponent(s);t&&t.updateAlignment();for(var e=i.children.length-1;e>=0;--e)this.updateWidget(i.children[e])},t.hideNativeAd=function(){this.nativeAdView&&(this.nativeAdView.active=!1),this.nativeBannerAdView&&(this.nativeBannerAdView.active=!1),this.viewAdBtn&&(this.viewAdBtn.active=!1),this.bgBtn&&(this.bgBtn.active=!1)},i}())||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/Recommend.ts",["cc","./AdConfig.ts","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./http_request.ts","./GlobalEnum.ts","./GlobalData2.ts","./yyComponent.ts","./GameFlow.ts","./Loader.ts","./GlobalPool.ts","./RecommendDataManager.ts","./RecommendContainer.ts"],(function(e){"use strict";var t,n,i,o,m,a,d,s,c,h,g,l,r,f,R,u,C,v,P,D,p;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Prefab,o=e.instantiate,m=e.Node,a=e.UITransform,d=e.v3},function(e){s=e.AdConfig},function(e){c=e.inheritsLoose,h=e.defineProperty,g=e.assertThisInitialized},function(e){l=e.EventType},function(e){r=e.default},function(e){f=e.GlobalEnum},function(e){R=e.default},function(e){u=e.default},function(e){C=e.default},function(e){v=e.default},function(e){P=e.default},function(e){D=e.default},function(e){p=e.default}],execute:function(){var b;t._RF.push({},"4460azqs/1CM7A+qOUvnNjl","Recommend",void 0);var I=n,S=I.ccclass;I.property,e("default",S(b=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,h(g(t),"sceneStack",void 0),h(g(t),"scheduledRecommend",void 0),h(g(t),"commonPrefabLoaded",!1),h(g(t),"littlePage",null),h(g(t),"littlePageConfig",void 0),h(g(t),"middlePage",null),h(g(t),"middlePageConfig",void 0),h(g(t),"bigPage",null),h(g(t),"bigPageConfig",void 0),h(g(t),"recommendDialog",null),h(g(t),"recommendDialogConfig",void 0),h(g(t),"insteadBannerRecommend",null),h(g(t),"singleRecommend",null),h(g(t),"singleID",void 0),t}c(t,e);var n=t.prototype;return n.init=function(){this.scheduledRecommend=!1,this.initSceneStack(),this.loadCommonPrefab(),this.onEvents()},n.onEvents=function(){this.once(l.Common.RecommendEvent.assetLoadFinish,this.onConfigLoadFinish,this),this.on(l.Common.RecommendEvent.clickRecommendItem,this.onClickRecommendItem,this),this.on(l.Common.RecommendEvent.autoNavigate,this.navigateGame,this),this.on(l.Common.RecommendEvent.showRecommend,this.addRecommend,this),this.on(l.Common.RecommendEvent.showBigPage,this.showBigPage,this),this.on(l.Common.RecommendEvent.showMiddlePage,this.showMiddlePage,this),this.on(l.Common.RecommendEvent.showLittlePage,this.showLittlePage,this),this.on(l.Common.RecommendEvent.showRecommendDialog,this.showRecommendDialog,this),this.on(l.Common.RecommendEvent.showInsteadBannerRecommend,this.showInsteadBannerRecommend,this),this.on(l.Common.RecommendEvent.showSingleRecommend,this.showSingleRecommend,this),this.on(l.Common.RecommendEvent.hideSingleRecommend,this.hideSingleRecommend,this),this.on(l.Common.SDKEvent.hideBanner,this.hideInsteadBannerRecommend,this),this.on(l.Common.UIEvent.entered,this.onEnterScene,this),this.on(l.Common.UIEvent.exited,this.onExitScene,this)},n.initSceneStack=function(){this.sceneStack=[]},n.reset=function(){this.scheduledRecommend=!1,this.resetSceneStack(),P.putAllChildren(this.node)},n.resetSceneStack=function(){this.sceneStack=[]},n.onEnterScene=function(e){if((this.hideInsteadBannerRecommend(),null!=e)&&(void 0!==D.getConfig(e)&&this.getCurScene()!=e)){for(var t=this.sceneStack.length-1;t>=0;--t)if(this.sceneStack[t]==e){this.sceneStack.splice(t,1);break}this.sceneStack.push(e),this.updateRecommends()}},n.getCurScene=function(){var e=this.sceneStack.length;return 0==e?null:this.sceneStack[e-1]},n.onExitScene=function(e){if(null!=e&&(this.hideInsteadBannerRecommend(),void 0!==D.getConfig(e)))if(this.getCurScene()==e)this.sceneStack.pop(),this.updateRecommends();else for(var t=this.sceneStack.length-1;t>=0;--t)if(this.sceneStack[t]==e){this.sceneStack.splice(t,1);break}},n.onConfigLoadFinish=function(){this.updateRecommends()},n.updateRecommends=function(){this.scheduledRecommend||(setTimeout(this.showCurSceneRecommend.bind(this),50),this.scheduledRecommend=!0)},n.showCurSceneRecommend=function(){var e;this.scheduledRecommend=!1,P.putAllChildren(this.node);for(var t=this.sceneStack.length-1;t>=0&&void 0===(e=D.getConfig(this.sceneStack[t]));--t)this.sceneStack.splice(t,1);if(e)for(var n=e.length-1;n>=0;--n)this.addRecommend(e[n])},n.addRecommend=function(e){var t=this,n=e.count||0,i=D.getRecommendData(e.AdID,n);if(!i||0!=i.length){var o=P.get(e.name,{itemType:e.itemType,widget:e.widget,items:i,nodeWidgets:e.nodeWidgets,count:n});this.node.addChild(o),i&&0!=i.length?this.recordRecommond(i):D.loadAdData(e.AdID,(function(e){0==e.length?P.put(o):o.getComponent(p).setRecommendData(e),t.recordRecommond(e)}),n)}},n.recordRecommond=function(e){for(var t="",n=e.length-1;n>=0;--n)t+=e[n].id+",";t=t.substr(0,t.length-2),r.postRequest("https://ad.geyian.ink/v1.1/api/adshow.html",{id:t},(function(){console.log("recordRecommond: "+t+" 上报曝光成功")}))},n.loadCommonPrefab=function(e){var t=this;this.commonPrefabLoaded?e&&e():v.loadBundle("Recommend",(function(){v.loadBundleDir("Recommend","Prefab",(function(n){for(var i=0;i<n.length;++i)P.createPool(n[i].name,n[i],n[i].name);t.commonPrefabLoaded=!0,e&&e()}),i,!1)}),!0,!1)},n.setNodeTop=function(e){var t=0;t=this.getMaxSibling(this.node,t),t=this.getMaxSibling(this.bigPage,t),t=this.getMaxSibling(this.middlePage,t),t=this.getMaxSibling(this.littlePage,t),t=this.getMaxSibling(this.recommendDialog,t),t=this.getMaxSibling(this.insteadBannerRecommend,t),e.setSiblingIndex(t)},n.getMaxSibling=function(e,t){if(!e)return t;var n=e.getSiblingIndex();return n<t?t:n},n.showLittlePage=function(e){var t=this;void 0===e&&(e={}),this.littlePageConfig=e,this.littlePage&&this.littlePage.activeInHierarchy?this.setNodeTop(this.littlePage):this.littlePage?this.showRecommendLittlePageData():this.loadCommonPrefab((function(){v.loadBundleRes("Recommend","SinglePrefab/Recommend_littlePage",(function(e){t.littlePage=o(e),t.littlePage.getComponent(p).init(),t.node.parent.addChild(t.littlePage),t.littlePage.setSiblingIndex(t.node.getSiblingIndex()+1),t.showRecommendLittlePageData()}),i,!0)}))},n.showRecommendLittlePageData=function(){var e=this,t=this.littlePage.getComponent(p).count,n=D.getRecommendData("littleView",t);this.littlePage.getComponent(p).show({items:n,data:this.littlePageConfig.data,config:this.littlePageConfig.config}),this.setNodeTop(this.littlePage),this.emit(l.Common.UIEvent.entered,f.UI.littlePage),n&&0!=n.length?this.recordRecommond(n):D.loadAdData("littleView",(function(t){e.littlePage.getComponent(p).setRecommendData(t),e.recordRecommond(t)}),t)},n.hideLittlePage=function(){this.littlePage&&(this.littlePage.getComponent(p).reset(),this.littlePage.active=!1),this.emit(l.Common.UIEvent.exited,f.UI.littlePage)},n.showMiddlePage=function(e){var t=this;if(void 0===e&&(e={}),this.middlePageConfig=e,this.middlePage&&this.middlePage.activeInHierarchy)return this.middlePage.getComponent(p).refreshRecommendData(),void this.setNodeTop(this.middlePage);this.middlePage?this.showRecommendMiddlePageData():this.loadCommonPrefab((function(){v.loadBundleRes("Recommend","SinglePrefab/Recommend_middlePage",(function(e){t.middlePage=o(e),t.middlePage.getComponent(p).init(),t.node.parent.addChild(t.middlePage),t.middlePage.setSiblingIndex(t.node.getSiblingIndex()+1),t.showRecommendMiddlePageData()}),i,!0)}))},n.showRecommendMiddlePageData=function(){var e=this,t=this.middlePage.getComponent(p).count,n=D.getRecommendData("middleView",t);this.middlePage.getComponent(p).show({items:n,data:this.middlePageConfig.data,config:this.middlePageConfig.config}),this.setNodeTop(this.middlePage),this.emit(l.Common.UIEvent.entered,f.UI.middlePage),n&&0!=n.length?this.recordRecommond(n):D.loadAdData("middleView",(function(t){e.middlePage.getComponent(p).setRecommendData(t),e.recordRecommond(t)}),t)},n.hideMiddlePage=function(){this.middlePage&&(this.middlePage.getComponent(p).reset(),this.middlePage.active=!1),this.emit(l.Common.UIEvent.exited,f.UI.middlePage)},n.showBigPage=function(e){var t=this;if(void 0===e&&(e={}),void 0!==e&&(this.bigPageConfig=e),this.bigPage&&this.bigPage.activeInHierarchy)return this.bigPage.getComponent(p).refreshRecommendData(),void this.setNodeTop(this.bigPage);this.bigPage?this.showRecommendBigPageData():this.loadCommonPrefab((function(){v.loadBundleRes("Recommend","SinglePrefab/Recommend_bigPage",(function(e){t.bigPage=o(e),t.bigPage.getComponent(p).init(),t.node.parent.addChild(t.bigPage),t.bigPage.setSiblingIndex(t.node.getSiblingIndex()+1),t.showRecommendBigPageData()}),i,!0)}))},n.showRecommendBigPageData=function(){var e=this,t=this.bigPage.getComponent(p).count,n=D.getRecommendData("bigView",t);this.bigPage.getComponent(p).show({items:n,data:this.bigPageConfig.data,config:this.bigPageConfig.config}),this.setNodeTop(this.bigPage),this.emit(l.Common.UIEvent.entered,f.UI.bigPage),n&&0!=n.length?this.recordRecommond(n):D.loadAdData("bigView",(function(t){e.bigPage.getComponent(p).setRecommendData(t),e.recordRecommond(t)}),t)},n.hideBigPage=function(){this.bigPage&&(this.bigPage.getComponent(p).reset(),this.bigPage.active=!1),this.emit(l.Common.UIEvent.exited,f.UI.bigPage)},n.showRecommendDialog=function(e){var t=this;if(void 0===e&&(e={}),this.recommendDialogConfig=e,this.recommendDialog&&this.recommendDialog.activeInHierarchy)return this.recommendDialog.getComponent(p).refreshRecommendData(),void this.setNodeTop(this.recommendDialog);this.recommendDialog?this.showRecommendDialogData():this.loadCommonPrefab((function(){v.loadBundleRes("Recommend","SinglePrefab/RecommendDialog",(function(e){t.recommendDialog=o(e),t.recommendDialog.getComponent(p).init(),t.node.parent.addChild(t.recommendDialog),t.recommendDialog.setSiblingIndex(t.node.getSiblingIndex()+1),t.showRecommendDialogData()}),i,!0)}))},n.showRecommendDialogData=function(){var e=this,t=this.recommendDialog.getComponent(p).count,n=D.getRecommendData("dialog",t);this.recommendDialog.getComponent(p).show({items:n,data:this.recommendDialogConfig.data,config:this.recommendDialogConfig.config}),this.setNodeTop(this.recommendDialog),this.emit(l.Common.UIEvent.entered,f.UI.recommendDialog),n&&0!=n.length?this.recordRecommond(n):D.loadAdData("dialog",(function(t){e.recommendDialog.getComponent(p).setRecommendData(t),e.recordRecommond(t)}),t)},n.hideRecommendDialog=function(){this.recommendDialog&&(this.recommendDialog.getComponent(p).reset(),this.recommendDialog.active=!1),this.emit(l.Common.UIEvent.exited,f.UI.recommendDialog)},n.showInsteadBannerRecommend=function(e){var t=this,n=e.count||0;if(this.insteadBannerRecommend)return this.insteadBannerRecommend.active=!0,this.setNodeTop(this.insteadBannerRecommend),this.insteadBannerRecommend.getComponent(p).setWidgetConfig({widget:e.widget}),void this.insteadBannerRecommend.getComponent(p).refreshRecommendData();var i=D.getRecommendData(e.AdID,n),o=P.get(e.name,{itemType:e.itemType,widget:e.widget,items:i,nodeWidgets:e.nodeWidgets,count:n});this.insteadBannerRecommend=o,this.node.parent.addChild(o),this.insteadBannerRecommend.setSiblingIndex(this.node.getSiblingIndex()+1),this.setNodeTop(this.insteadBannerRecommend),i&&0!=i.length?this.recordRecommond(i):D.loadAdData(e.AdID,(function(e){o.getComponent(p).setRecommendData(e),t.recordRecommond(e)}),n)},n.hideInsteadBannerRecommend=function(){this.insteadBannerRecommend&&(P.put(this.insteadBannerRecommend),this.insteadBannerRecommend=null)},n.showSingleRecommend=function(e){if(e)if("number"==typeof e){for(var t in s.AdID)if(s.AdID[t]===e){this.singleID=t;break}}else this.singleID=e;else this.singleID="singleBanner";if(this.emit(l.Common.SDKEvent.hideBanner),!this.singleRecommend){this.singleRecommend=new m;var n=this.node.parent,i=this.singleRecommend.getComponent(a);i.width=R.get(f.Common.GlobalDataType.canvasTransform).width,i.height=R.get(f.Common.GlobalDataType.canvasTransform).height,n.addChild(this.singleRecommend),this.singleRecommend.setPosition(0,0)}if(this.singleRecommend.active=!0,!(this.singleRecommend.children.length>0)){var o=D.getRecommendData(this.singleID);o&&0!=o.length?this.addSingleRecommend(o):D.loadAdData(this.singleID,this.addSingleRecommend.bind(this))}},n.addSingleRecommend=function(e){if(e&&0!=e.length&&this.singleRecommend.active&&!(this.singleRecommend.children.length>0)){var t=Math.floor(Math.random()*(e.length-1e-4)),n=P.get("RecommendItemIcon_common",e[t]);if(n){this.singleRecommend.addChild(n);var i=n.getComponent(a);i.setContentSize(750,260);var o=-.5*this.singleRecommend.getComponent(a).height+i.height*i.anchorY;n.setPosition(d(0,o,0))}}},n.hideSingleRecommend=function(){this.singleRecommend&&(P.putAllChildren(this.singleRecommend),this.singleRecommend.active=!1)},n.onClickRecommendItem=function(e){var t=C.getRecommendUIConfig(e.locationid);if(t)switch(t[f.Common.RecommendUIConfig.clickGameRefreshMode]){case 2:var n=e.RecommendItem;n&&n.refreshRecommendData();break;case 3:this.refreshRecommendUI(e)}if(D.getJumpRecommend(e.appid)>0){var i=D.getUnjumpData(e.locationid);i&&(e=i)}this.emit(l.Common.SDKEvent.navigateToMiniProgram,e,this.onNavigateComplate)},n.onNavigateComplate=function(e,t){e?this.onNavigateSuccess(t):(this.onNavigateFail(t),this.emit(l.Common.GameFlow.navigateFail,t))},n.onNavigateSuccess=function(e){D.recordJumpGame(e);var t=C.getRecommendUIConfig(e.locationid);t&&t[f.Common.RecommendUIConfig.hideJumpedGame]&&D.removeJumpedGame(e)},n.onNavigateFail=function(e){var t=C.getRecommendUIConfig(e.locationid);if(t)switch(t[f.Common.RecommendUIConfig.cancelJumpGameRefreshMode]){case 2:var n=e.RecommendItem;n&&n.refreshRecommendData();break;case 3:this.refreshRecommendUI(e)}},n.refreshRecommendUI=function(e){switch(parseInt(e.locationid)){case s.AdID.bigView:this.refreshRecommendData(this.bigPage);break;case s.AdID.middleView:this.refreshRecommendData(this.middlePage);break;case s.AdID.littleView:this.refreshRecommendData(this.littlePage);break;case s.AdID.dialog:this.refreshRecommendData(this.recommendDialog)}},n.refreshRecommendData=function(e){e&&e.activeInHierarchy&&e.getComponent(p).refreshRecommendData()},n.navigateGame=function(e){this.emit(l.Common.SDKEvent.navigateToMiniProgram,e)},t}(u))||b);t._RF.pop()}}}));

System.register("chunks:///_virtual/Init.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts","./GlobalEnum.ts","./GlobalData2.ts","./GamePlatformType.ts","./PlayerData.ts","./GameFlow.ts","./Loader.ts","./GamePlatform.ts","./GamePlatformConfig.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,l,u,f,d,c,h,m,p,g,y,b,L,v,C,F,S,P,w,B,D;return{setters:[function(t){n=t.cclegacy,e=t.Material,i=t.Enum,o=t.Node,a=t._decorator,r=t.PhysicsSystem2D,s=t.UITransform,l=t.game,u=t.v4,f=t.Sprite,d=t.director,c=t.Component},function(t){h=t.applyDecoratedDescriptor,m=t.inheritsLoose,p=t.initializerDefineProperty,g=t.assertThisInitialized,y=t.defineProperty},function(t){b=t.EventType},function(t){L=t.default},function(t){v=t.GlobalEnum},function(t){C=t.default},function(t){F=t.GamePlatformType},function(t){S=t.default},function(t){P=t.default},function(t){w=t.default},function(t){B=t.default},function(t){D=t.default}],execute:function(){var G,E,T,M,z,R,A,I,U,_,k;n._RF.push({},"4805ccI48pCd6oESz6VFiBg","Init",void 0);var H=a,K=H.ccclass,N=H.property;t("default",(G=N(e),E=N({type:i(F)}),T=N(o),M=N(o),K((A=h((R=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,p(g(n),"mat",A,g(n)),p(g(n),"type",I,g(n)),p(g(n),"platformConfig",U,g(n)),p(g(n),"bar",_,g(n)),y(g(n),"barTransform",null),p(g(n),"totalLength",k,g(n)),y(g(n),"preRate",0),y(g(n),"preBundleList",["UI","Role","Weapon","Hat","LevelColler","LevelScene","Audio"]),y(g(n),"necessaryBundleList",["MainScene","Recommend"]),y(g(n),"bundleLoadState",{}),y(g(n),"animFinished",!1),y(g(n),"playerDataLoaded",!1),y(g(n),"gameFlowConfigLoaded",!1),n}m(n,t);var e=n.prototype;return e.onLoad=function(){r.instance.enable=!0},e.start=function(){var t=this.node;C.set(v.Common.GlobalDataType.canvas,t);var n=t.getComponent(s);C.set(v.Common.GlobalDataType.canvasTransform,n),this.initMat(),this.initProgressBar(),this.onEvents(),l.addPersistRootNode(this.platformConfig);var e=this.findConfig();console.log("平台配置："),console.log(e),B.init(e),this.loadBundle(),this.playAnim()},e.onEvents=function(){L.on(b.Common.LoadAssetEvent.updateProgress,this.onUpdateProgress,this),L.once(b.Common.SDKEvent.inited,this.onSDKInited,this),L.once(b.Common.PlayerDataEvent.dataLoaded,this.onPlayerDataLoaded,this),L.once(b.Common.GameFlow.loadConfigFinish,this.onGameFlowConfigLoadFinish,this)},e.offEvents=function(){L.off(b.Common.LoadAssetEvent.updateProgress,this.onUpdateProgress,this),L.once(b.Common.GameFlow.loadConfigFinish,this.onGameFlowConfigLoadFinish,this)},e.initMat=function(){var t=this.node.getComponent(s),n=t.width/200,e=t.height/200,i=this.mat.passes[0].getHandle("offsetTile");this.mat.passes[0].setUniform(i,u(0,0,n,e))},e.findConfig=function(){for(var t=this.platformConfig.children,n=t.length-1;n>=0;--n){var e=t[n].getComponent(D);if(e.type==this.type)return e;var i=t[n];i.removeFromParent(),i.destroy()}return console.error("没有设置对应平台的配置！"),null},e.initProgressBar=function(){0==this.totalLength&&(this.totalLength=this.bar.getComponent(f).spriteFrame.originalSize.width),this.bar.setPosition(-.5*this.totalLength,this.bar.position.y),this.barTransform=this.bar.getComponent(s),this.barTransform.width=75,this.preRate=0},e.onUpdateProgress=function(t){if(t>this.preRate){var n=this.totalLength*t;n<75&&(n=75),this.barTransform.width=n,this.preRate=t}},e.loadBundle=function(){for(var t=this,n=function(n){w.loadSubpackage(t.necessaryBundleList[n],(function(){t.loadOneSubpackage(t.necessaryBundleList[n])}),!0)},e=0;e<this.necessaryBundleList.length;++e)n(e);for(var i=0,o=this.preBundleList.length;i<o;++i)w.loadBundle(this.preBundleList[i],null,!1,!1)},e.loadOneSubpackage=function(t){this.bundleLoadState[t]=!0,this.loadMainScene()},e.playAnim=function(){this.animFinished=!1,this.onAnimFinish()},e.onAnimFinish=function(){console.log("动画播放完成"),this.animFinished=!0,this.loadMainScene()},e.onSDKInited=function(){S.init()},e.onPlayerDataLoaded=function(){this.playerDataLoaded=!0,P.init()},e.onGameFlowConfigLoadFinish=function(){this.gameFlowConfigLoaded=!0,this.loadMainScene()},e.loadMainScene=function(){var t=this;if(this.animFinished&&this.playerDataLoaded&&this.gameFlowConfigLoaded){for(var n=this.necessaryBundleList.length-1;n>=0;--n)if(!this.bundleLoadState[this.necessaryBundleList[n]])return;w.loadBundleScene("MainScene","MainScene",(function(n){t.offEvents(),d.runScene(n)}),!1)}},n}(c)).prototype,"mat",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=h(R.prototype,"type",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.PC}}),U=h(R.prototype,"platformConfig",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=h(R.prototype,"bar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=h(R.prototype,"totalLength",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=R))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/NativeAdView.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./ResUtils.ts"],(function(t){"use strict";var i,e,a,o,n,l,s,r,c,d,u,h,g;return{setters:[function(t){i=t.cclegacy,e=t._decorator,a=t.Node,o=t.Label,n=t.Sprite,l=t.SpriteFrame,s=t.Component},function(t){r=t.applyDecoratedDescriptor,c=t.inheritsLoose,d=t.initializerDefineProperty,u=t.assertThisInitialized,h=t.defineProperty},function(t){g=t.ResUtils}],execute:function(){var p,f,m,C,v,w,D,b,I,A,k,y,L,z;i._RF.push({},"49afewJz0RH/bNfYkQ2KgVZ","NativeAdView",void 0);var U=e.ccclass,T=e.property;t("NativeAdView",(p=T(a),f=T(a),m=T(a),C=T(a),v=T(a),w=T(a),U((I=r((b=function(t){function i(){var i;return i=t.call(this)||this,d(u(i),"adImg",I,u(i)),d(u(i),"adLogo",A,u(i)),d(u(i),"adTitle",k,u(i)),d(u(i),"adDesc",y,u(i)),d(u(i),"adIcon",L,u(i)),d(u(i),"adClose",z,u(i)),h(u(i),"adData",null),h(u(i),"adClickCallBack",null),h(u(i),"adCloseCallBack",null),i}c(i,t);var e=i.prototype;return e.initView=function(t){this.adData=t,this.showAd()},e.showAd=function(){var t=this;this.adData&&(this.adImg.active=!1,this.adData.imgUrlList&&this.adData.imgUrlList.length>0&&g.loadImgUrl(this.adData.imgUrlList[0].split("?")[0],(function(i){i&&t.showAdImg(i)})),this.adLogo.active=!1,this.adData.logoUrl&&g.loadImgUrl(this.adData.logoUrl,(function(i){t.showAdLogo(i)})),this.adTitle&&this.adData.title&&this.showAdTitle(this.adData.title),this.adDesc&&this.adData.desc&&this.showAdDesc(this.adData.desc))},e.showAdTitle=function(t){this.adTitle.active=!0,this.adTitle.getComponent(o).string=t},e.showAdDesc=function(t){this.adDesc.active=!0,this.adDesc.getComponent(o).string=t},e.showAdImg=function(t){this.adImg.active=!0,this.adClose&&(this.adClose.active=!0),this.adImg.getComponent(n).spriteFrame=l.createWithImage(t)},e.showAdLogo=function(t){this.adLogo.active=!0,this.adLogo.getComponent(n).spriteFrame=l.createWithImage(t)},e.showAdIcon=function(t){this.adIcon.active=!0,this.adIcon.getComponent(n).spriteFrame=l.createWithImage(t)},e.onNativeAdClick=function(){console.log("onNativeAdClick"),this.adClickCallBack&&this.adClickCallBack()},e.onEventAdClose=function(){this.node.active=!1,this.adCloseCallBack&&this.adCloseCallBack()},i}(s)).prototype,"adImg",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(b.prototype,"adLogo",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(b.prototype,"adTitle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=r(b.prototype,"adDesc",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(b.prototype,"adIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=r(b.prototype,"adClose",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=b))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/RecommendManager.ts",["cc","./GamePlatformType.ts","./GamePlatform.ts","./RecommendDataManager.ts","./Recommend.ts"],(function(n){"use strict";var t,e,a,o,c;return{setters:[function(n){t=n.cclegacy},function(n){e=n.GamePlatformType},function(n){a=n.default},function(n){o=n.default},function(n){c=n.default}],execute:function(){t._RF.push({},"4d9775Zlg1AlYPqAHFIRaiS","RecommendManager",void 0);n("default",function(){function n(){}return n.init=function(n){var t=this.addRecommendComponent(n);t&&(t.init(),o.init(n))},n.addRecommendComponent=function(n){switch(a.Config.type){case e.OPPO:case e.PC:case e.WX:return n.addComponent(c);case e.TT:var t=window.tt.getSystemInfoSync();return"ios"==t.platform||t.appName,null;default:return null}},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SDK.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameConfig.ts","./GameEventType.ts","./EventManager.ts","./GlobalEnum.ts"],(function(o){"use strict";var i,e,n,t,s,r,d,h;return{setters:[function(o){i=o.cclegacy,e=o.sys},function(o){n=o.createClass,t=o.defineProperty},function(o){s=o.default},function(o){r=o.EventType},function(o){d=o.default},function(o){h=o.GlobalEnum}],execute:function(){o("Platform",void 0),i._RF.push({},"58947sP21dHI6brMjcbkNmW","SDK",void 0);o("default",function(){function o(){t(this,"shareTitleArr",["",""]),t(this,"shareImgArr",["",""]),t(this,"api",void 0),t(this,"config",void 0),t(this,"enterTime",void 0),t(this,"onshow_time",void 0),t(this,"onhide_time",void 0),t(this,"systemInfo",void 0),t(this,"platform",null),t(this,"systemVersion",void 0),t(this,"sdkVersion",void 0),t(this,"videoAd",void 0),t(this,"videoRecord",null),t(this,"videoSuccess",void 0),t(this,"videoFail",void 0),t(this,"videoQuit",void 0),t(this,"videoTongJi",null),t(this,"bannerRecord",null),t(this,"bannerShowing",!1),t(this,"insertAdRecord",null),t(this,"useBannerInsteadInsert",!1),t(this,"recordVideoData",null)}var i=o.prototype;return i.setSystemInfo=function(o,i,e){switch(this.systemVersion=i,this.sdkVersion=e,o.toUpperCase()){case a.ios:this.platform=a.ios;break;case a.android:this.platform=a.android;break;default:this.platform=a.pc}},i.systemLessThan=function(o){return this.lessThan(this.systemVersion,o)},i.sdkLessThan=function(o){return this.lessThan(this.sdkVersion,o)},i.lessThan=function(o,i){for(var e=o.split("."),n=i.split("."),t=Math.max(n.length,n.length);e.length<t;)e.push("0");for(;n.length<t;)n.push("0");for(var s=0;s<t;s++){var r=parseInt(e[s]),d=parseInt(n[s]);if(r<d)return!0;if(r>d)return!1}return!1},i.compareVersion=function(o,i){o=o.split("."),i=i.split(".");for(var e=Math.max(o.length,i.length);o.length<e;)o.push("0");for(;i.length<e;)i.push("0");for(var n=0;n<e;n++){var t=parseInt(o[n]),s=parseInt(i[n]);if(t>s)return 1;if(t<s)return-1}return 0},i.init=function(o){d.emit(r.Common.SDKEvent.inited)},i.onEvents=function(){d.on(r.Common.SDKEvent.showMsg,this.showMessage,this),d.on(r.Common.SDKEvent.showBanner,this.showBanner,this),d.on(r.Common.SDKEvent.hideBanner,this.removeBanner,this),d.on(r.Common.SDKEvent.checkVisibleBanner,this.checkVisibleBanner,this),d.on(r.Common.SDKEvent.showVideo,this.showVideo,this),d.on(r.Common.SDKEvent.startRecord,this.startRecord,this),d.on(r.Common.SDKEvent.pauseRecord,this.pauseRecord,this),d.on(r.Common.SDKEvent.resumeRecord,this.resumeRecord,this),d.on(r.Common.SDKEvent.stopRecord,this.stopRecord,this),d.on(r.Common.SDKEvent.shareRecord,this.shareRecord,this),d.on(r.Common.SDKEvent.showInsertAd,this.showInterstitialAd,this),d.on(r.Common.SDKEvent.navigateToMiniProgram,this.navigateToMiniProgram,this),d.on(r.Common.SDKEvent.vibrateLong,this.onVibrateLong,this),d.on(r.Common.SDKEvent.vibrateShort,this.onVibrateShort,this),d.on(r.Common.SDKEvent.showInsertByPauseLevel,this.showInsertAdByPauseLevel,this),d.on(r.Common.SDKEvent.triggerGC,this.triggerGC,this),d.on(r.Common.SDKEvent.showNativeAd,this.showNativeAd,this),d.on(r.Common.SDKEvent.hideNativeAd,this.hideNativeAd,this),d.on(r.Common.SDKEvent.hideAllNativeAd,this.hideAllNativeAd,this),d.on(r.Common.SDKEvent.quickShowNativeAd,this.quickShowNativeAd,this),d.on(r.Common.SDKEvent.quickHideNativeAd,this.quickHideNativeAd,this),d.on(r.Common.SDKEvent.shareToFriends,this.shareToAnyOne,this),d.on(r.Common.SDKEvent.showAppBox,this.showAppBox,this),d.on(r.Common.SDKEvent.showBlockAd,this.showBlockAd,this),d.on(r.Common.SDKEvent.hideBlockAd,this.hideBlockAd,this),d.on(r.Common.SDKEvent.addColorSign,this.addColorSign,this),d.on(r.Common.SDKEvent.subscribeMsg,this.subscribeMsg,this),d.on(r.Common.SDKEvent.getTableIconState,this.getTableIconState,this),d.on(r.Common.SDKEvent.addTableIcon,this.addTableIcon,this)},i.triggerGC=function(){},i.showInsertAdByPauseLevel=function(){this.showInterstitialAd(!1)},i.loadRecord=function(){var o={video:null,banner:null,insert:null,recordVideoData:null,time:0},i=e.localStorage.getItem("AdRecord");if(i){var n=JSON.parse(i),t=new Date,s=new Date(n.time);t.getMonth()==s.getMonth()&&t.getDate()==s.getDate()&&(o=n)}this.bannerRecord=new c(o.banner),this.videoRecord=new c(o.video),this.insertAdRecord=new c(o.insert),this.recordVideoData=new u(o.recordVideoData)},i.saveRecord=function(){var o={video:this.videoRecord,banner:this.bannerRecord,insert:this.insertAdRecord,recordVideoData:this.recordVideoData,time:Date.now()};e.localStorage.setItem("AdRecord",JSON.stringify(o))},i.showVideo=function(o,i,e,n){this.videoTongJi=null,this.canApiUseVideo()?(this.resetVideoCb(),"object"==typeof o?(this.videoSuccess=o.success,this.videoQuit=o.quit,this.videoFail=o.fail,void 0!==o.page&&(this.videoTongJi={type:o.page,battle:o.battle}),n=o.videoName):(this.videoSuccess=o,this.videoQuit=i,this.videoFail=e),this.videoFail||(this.videoFail=this.tipVideoFail.bind(this)),this.sendVideoTongJi(h.Common.VideoSubType.clickBtnVideo),this.onVideoStart(),this.getVideoAdUnitId()?this.showVideoAd(n):setTimeout(this.onVideoSuccess.bind(this),0)):"object"==typeof o?(o.page&&d.emit(r.Common.TongJi.video,{type:o.page,subType:h.Common.VideoSubType.videoFail,battle:o.battle}),o.fail&&o.fail()):e&&e()},i.onVideoStart=function(){d.emit(r.Common.AudioEvent.pause),d.emit(r.Common.DirectorEvent.pauseLevel),d.emit(r.Common.UIEvent.showTouchMask)},i.onVideoEnd=function(){console.log("视频播放调用结束，恢复游戏"),d.emit(r.Common.AudioEvent.resume),d.emit(r.Common.DirectorEvent.resumeLevel),d.emit(r.Common.UIEvent.hideTouchMask)},i.canApiUseVideo=function(){return!0},i.tipVideoFail=function(){this.showMessage("视频加载失败，请稍后再试~")},i.showVideoAd=function(o){this.onVideoSuccess()},i.getVideoAdUnitId=function(o){return this.config.videoAdUnitId[0]?this.config.videoAdUnitId[0]:(console.log("广告参数未填写"),null)},i.onVideoShow=function(){console.log("视频广告展示成功"),this.videoRecord.onShow()},i.onVideoHide=function(){console.log("视频广告未播放完即被关闭"),this.videoRecord.onHide()},i.onVideoSuccess=function(){console.log("视频广告观看成功！"),this.sendVideoTongJi(h.Common.VideoSubType.videoSuc),this.onVideoEnd();var o=this.videoSuccess;this.resetVideoCb(),o&&o()},i.onVideoFail=function(o){console.log("视频广告加载出错  ",o),this.sendVideoTongJi(h.Common.VideoSubType.videoFail),this.onVideoEnd();var i=this.videoFail;this.resetVideoCb(),i&&i()},i.onVideoQuit=function(){console.log("视频广告观看未完成"),this.sendVideoTongJi(h.Common.VideoSubType.videoQuit),this.onVideoEnd();var o=this.videoQuit;this.resetVideoCb(),o&&o()},i.sendVideoTongJi=function(o){this.videoTongJi&&d.emit(r.Common.TongJi.video,{type:this.videoTongJi.type,subType:o,battle:this.videoTongJi.battle})},i.resetVideoCb=function(){this.videoSuccess=null,this.videoQuit=null,this.videoFail=null},i.showBanner=function(o){console.log("SDK.showBanner"),o?d.emit(r.Common.SDKEvent.showBannerFail,o.style):d.emit(r.Common.SDKEvent.showBannerFail)},i.canApiUseBanner=function(){return!0},i.removeBanner=function(){},i.checkVisibleBanner=function(o,i){o?"function"==typeof o?o():o.target?o.cb.call(o.target,o.data):o.cb(o.data):i&&("function"==typeof i?i():i.target?i.cb.call(i.target,i.data):i.cb(i.data))},i.getBannerId=function(o){return this.config.BannerAdUnitId[0]},i.getAllBannerIds=function(){for(var o=[],i=this.config.BannerAdUnitId,e=i.length-1;e>=0;--e)i[e]&&o.indexOf(i[e])<0&&o.push(i[e]);return o},i.onBannerShow=function(){console.log("banner 显示成功"),this.bannerRecord.onShow(),this.bannerShowing=!0,d.emit(r.Common.SDKEvent.showBannerFinish)},i.onBannerHide=function(){console.log("banner 广告隐藏"),this.bannerRecord.onHide(),this.bannerShowing=!1},i.onBannerErr=function(o){console.log("banner 显示失败:",JSON.stringify(o)),this.bannerRecord.isShowing=!1,d.emit(r.Common.SDKEvent.showBannerFail)},i.preCreateBanner=function(o){},i.showInterstitialAd=function(o){},i.canApiUseInsert=function(){return!0},i.getInsertAdUnitId=function(){return this.config.InterstitialAdUnitId[0]?this.config.InterstitialAdUnitId[0]:(console.log("插屏广告参数未填写"),null)},i.onInsertShow=function(){console.log("插屏显示成功"),this.insertAdRecord.onShow()},i.onInsertHide=function(){console.log("关闭插屏"),this.insertAdRecord.onHide()},i.onInsertErr=function(o){console.log("插屏广告加载失败："+JSON.stringify(o)),this.insertAdRecord.isShowing=!1},i.showBannerInsteadInsert=function(){this.useBannerInsteadInsert&&(console.log("显示banner代替插屏"),this.showBanner()),this.useBannerInsteadInsert=!1},i.onVibrateShort=function(){s.driveConfig.vibrate&&this.vibrateShort()},i.vibrateShort=function(){},i.onVibrateLong=function(){s.driveConfig.vibrate&&this.vibrateLong()},i.vibrateLong=function(){},i.shareAppMessage=function(o){},i.shareToAnyOne=function(o,i,e){o&&o()},i.showMessage=function(o,i){d.emit(r.Common.UIEvent.showTip,o)},i.recordVideo=function(o){},i.shareRecordVideo=function(o,i){},i.navigateToMiniProgram=function(o){console.log("跳转小游戏，子类实现，data:",o)},i.getNativeAdId=function(){return this.config.nativeAdUnitId[0]?this.config.nativeAdUnitId[0]:(console.log("原生广告参数未填写"),null)},i.getAllNativeAdIds=function(){return this.config.nativeAdUnitId[0]?this.config.nativeAdUnitId:(console.log("原生广告参数未填写"),[])},i.showNativeAd=function(o){},i.hideNativeAd=function(o){},i.hideAllNativeAd=function(o){},i.quickShowNativeAd=function(o){},i.quickHideNativeAd=function(o){},i.getTableIconState=function(o){console.log("请在子类实现！")},i.addTableIcon=function(o,i){console.log("请在子类实现！")},i.startRecord=function(){this.recordVideo("start"),this.recordVideoData.onStart()},i.pauseRecord=function(){this.recordVideo("pause")},i.resumeRecord=function(){this.recordVideo("resume")},i.stopRecord=function(){this.recordVideoData.onEnd(),this.recordVideo("stop")},i.shareRecord=function(o,i){void 0===i&&(i=null),this.shareRecordVideo(o,i)},i.showAppBox=function(){},i.getAppBoxId=function(){return this.config.appBoxUnitId[0]?this.config.appBoxUnitId[0]:(console.log("盒子广告参数未填写"),null)},i.showBlockAd=function(o){},i.getBlockAdId=function(){return this.config.blockAdUnitId[0]?this.config.blockAdUnitId[0]:(console.log("积木广告参数未填写"),null)},i.hideBlockAd=function(){},i.addColorSign=function(o){},i.subscribeMsg=function(o){},o}());var a,c=function(){function o(o){t(this,"dayShowCount",void 0),t(this,"dayHideCount",void 0),t(this,"gameShowCount",void 0),t(this,"gameHideCount",void 0),t(this,"preShowTime",void 0),t(this,"preHideTime",void 0),t(this,"isShowing",void 0),this.isShowing=!1,this.gameShowCount=0,this.gameHideCount=0,o?(this.dayShowCount=o.dayShowCount,this.dayHideCount=o.dayHideCount,this.preShowTime=o.preShowTime,this.preHideTime=o.preHideTime):(this.dayShowCount=0,this.dayHideCount=0,this.preShowTime=0,this.preHideTime=0)}var i=o.prototype;return i.onShow=function(){this.isShowing=!0,this.dayShowCount++,this.gameShowCount++,this.preShowTime=Date.now()},i.onHide=function(){this.isShowing=!1,this.dayHideCount++,this.gameHideCount++,this.preHideTime=Date.now()},i.getShowSpaceTime=function(){return.001*(Date.now()-this.preShowTime)},i.getHideSpaceTime=function(){return.001*(Date.now()-this.preHideTime)},o}(),u=function(){function o(o){t(this,"startTime",void 0),t(this,"endTime",void 0),t(this,"gameShareCount",void 0),t(this,"dayShareCount",void 0),this.startTime=0,this.endTime=0,this.gameShareCount=0,this.dayShareCount=o?o.dayShareCount:0}var i=o.prototype;return i.onStart=function(){this.startTime=Date.now(),this.endTime=Date.now()},i.onEnd=function(){this.endTime=Date.now()},i.onShare=function(){this.gameShareCount++,this.dayShareCount++},n(o,[{key:"totalTime",get:function(){return.001*(this.endTime-this.startTime)}}]),o}();!function(o){o.pc="PC",o.ios="IOS",o.android="ANDROID"}(a||(a=o("Platform",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ALDManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts","./GlobalEnum.ts"],(function(e){"use strict";var n,t,o,a,m;return{setters:[function(e){n=e.cclegacy},function(e){t=e.defineProperty},function(e){o=e.EventType},function(e){a=e.default},function(e){m=e.GlobalEnum}],execute:function(){n._RF.push({},"5aa10EHgGJFXK2ZloCqjYEv","ALDManager",void 0);e("default",function(){function e(){t(this,"apiName","wx"),t(this,"api",void 0),t(this,"openId",void 0)}var n=e.prototype;return n.init=function(e){this.openId=e,this.api=window[this.apiName],this.api.aldStage&&(this.onEvents(),this.api.aldSendOpenid(this.openId))},n.onEvents=function(){a.on(o.Common.ALDEvent.levelStart,this.onStart,this),a.on(o.Common.ALDEvent.levelWin,this.onLevelWin,this),a.on(o.Common.ALDEvent.levelLose,this.onLevelLose,this),a.on(o.Common.ALDEvent.sendEvent,this.sendEvent,this),a.on(o.Common.ALDEvent.clickGame,this.clickGame,this),a.on(o.Common.ALDEvent.enterGameFlow,this.enterGameFlow,this),a.on(o.Common.ALDEvent.enterRecommendFlow,this.enterRecommendFlow,this),a.on(o.Common.ALDEvent.jumpGame,this.jumpGame,this),a.on(o.Common.ALDEvent.touchBanner,this.touchBanner,this)},n.onStart=function(e){var n={stageId:e.toString(),stageName:"第"+e+"关",userId:this.openId};this.api.aldStage.onStart(n)},n.onRunning=function(e){this.api.aldStage.onRunning(e)},n.onLevelWin=function(e){var n=this.convertData(e);n.event="complete",n.params={desc:"关卡胜利"},this.api.aldStage.onEnd(n)},n.onLevelLose=function(e){var n=this.convertData(e);n.event="fail",n.params={desc:"关卡失败"},this.api.aldStage.onEnd(n)},n.convertData=function(e){return{stageId:e.toString(),stageName:"第"+e+"关",userId:this.openId}},n.sendEvent=function(e){this.api.aldSendEvent(e.eventName,e.data)},n.enterGameFlow=function(e){var n=this.getGameFlowName(e);this.sendEvent({eventName:"进入"+n,data:{}})},n.getGameFlowName=function(e){switch(e){case m.Common.GameFlowStep.award:return"奖励页";case m.Common.GameFlowStep.initScene:return"加载页";case m.Common.GameFlowStep.level:return"关卡";case m.Common.GameFlowStep.lobby:return"首页";case m.Common.GameFlowStep.lose:return"失败页";case m.Common.GameFlowStep.recommendDialog:return"首页弹窗";case m.Common.GameFlowStep.win:return"成功页";default:return e}},n.enterRecommendFlow=function(e,n){var t=this.getGameFlowName(e),o=this.getRecommendFlowName(n);this.sendEvent({eventName:t+"进入"+o,data:{}})},n.getRecommendFlowName=function(e){switch(e){case m.Common.RecommendFlowStep.bigPage:return"大全导";case m.Common.RecommendFlowStep.insertAd:return"插屏广告";case m.Common.RecommendFlowStep.littlePage:return"小全导";case m.Common.RecommendFlowStep.middlePage:return"中全导";case m.Common.RecommendFlowStep.touchBannerUI:return"砸蛋";case m.Common.RecommendFlowStep.video:return"视频";default:return e}},n.clickGame=function(e,n){var t=this.getGameFlowName(e),o=this.getRecommendFlowName(n);this.sendEvent({eventName:t+"-"+o+"点击广告位",data:{}})},n.jumpGame=function(e,n){var t=this.getGameFlowName(e),o=this.getRecommendFlowName(n);this.sendEvent({eventName:t+"-"+o+"跳转广告位",data:{}})},n.touchBanner=function(e,n){var t=this.getGameFlowName(e),o=n?this.getRecommendFlowName(n):"";this.sendEvent({eventName:t+"-"+o+"点击banner",data:{}})},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts","./GlobalEnum.ts","./yyComponent.ts","./Loader.ts"],(function(n){"use strict";var t,e,o,i,s,u,r,a,l,c,d;return{setters:[function(n){t=n.cclegacy,e=n.instantiate,o=n.Widget,i=n.Layout,s=n.Prefab},function(n){u=n.defineProperty},function(n){r=n.EventType},function(n){a=n.default},function(n){l=n.GlobalEnum},function(n){c=n.default},function(n){d=n.default}],execute:function(){t._RF.push({},"5b708/73FlAXbGUAoQ4RyT8","UIManager",void 0);var U=n("default",function(){function n(){}return n.init=function(n){this.node=n,this.UIs={};for(var t=n.children.length-1;t>=0;--t){var e=n.children[t].getComponent(c);e&&e.uiType&&(this.UIs[e.uiType]=e)}this.onEvents()},n.onEvents=function(){a.on(r.Common.UIEvent.enter,this.enterUI,this),a.on(r.Common.UIEvent.exit,this.exitUI,this)},n.getUI=function(n){return this.UIs[n]?this.UIs[n]:(console.warn("UI尚未加载，无法获取：",n),null)},n.existUI=function(n){return!!this.node.getChildByName(n)},n.enterUI=function(n,t){var e=this,o=this.UIs[n];null!==o&&(o?setTimeout((function(){e.showUI(n,t)}),0):this.loadUI(n,t))},n.showUI=function(n,t){var e=this.UIs[n];e&&(e.show(t),a.emit(r.Common.UIEvent.entered,n))},n.loadUI=function(n,t){var u=this,r="UI";n==l.UI.lobby&&(r="MainScene"),d.loadBundle(r,(function(){d.loadBundleRes(r,n+"/"+n,(function(s){if(!s)return u.UIs[n]=null,void console.error("要显示的界面预制不存在：",n);if(!u.UIs[n]){var r=e(s);u.node.getChildByName(n).addChild(r);var a=r.getComponent(o);a&&a.updateAlignment();var l=r.getComponent(i);l&&l.updateLayout();var d=r.getComponent(c);d.init(),u.UIs[n]=d,u.showUI(n,t)}}),s,!0)}),!0)},n.exitUI=function(n){var t=this.UIs[n];t&&t.node.active&&(t.hide(),a.emit(r.Common.UIEvent.exited,n))},n}());u(U,"node",void 0),u(U,"UIs",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/yySpace.ts",["cc"],(function(o){"use strict";var r;return{setters:[function(o){r=o.cclegacy}],execute:function(){var c,d;o("yy",void 0),r._RF.push({},"5c225lM4t9OXJpnozkQhwgI","yySpace",void 0),(d=c||(c=o("yy",{}))).log=function(o,r){r?console.log("%c "+o+" %c "+r+" ","background: #35495E;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"):console.log("%c "+o+" ","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;")},d.warn=function(o,r){r?console.log("%c "+o+" %c "+r+" ","background: #FF7026;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"):console.log("%c "+o+" ","background: #FF7026;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;")},d.error=function(o,r){r?console.log("%c "+o+" %c "+r+" ","background: #FF2626;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #FFA800;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"):console.log("%c "+o+" ","background: #FF2626;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;")},window.yy=c,r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerDataTemplate.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GlobalEnum.ts"],(function(e){"use strict";var n,t,a,i,o;return{setters:[function(e){n=e.cclegacy,t=e.sys},function(e){a=e.createClass,i=e.defineProperty},function(e){o=e.GlobalEnum}],execute:function(){n._RF.push({},"5ea36wwlGhLP6nx4W1NN5MX","PlayerDataTemplate",void 0);e("default",function(){function e(){}return e.getData=function(){return{fristLoginTimer:0,gameData:{curLevel:1,asset:{gold:0,power:10},spinCount:0,lastFreeTime:0,unlockSkin:0,PlayerSkin:{cur:0,try:-1,owned:[1],videoCount:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0}},HatSkin:{cur:0,try:-1,owned:[],videoCount:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0}},WeaponSkin:{cur:{type:o.WeaponType.captain,id:1},try:{type:o.WeaponType.none,id:0},owned:{captain:[1],claw:[1],gun:[1],hunter:[1],katana:[1],knife:[1],trapper:[1]},videoCount:{captain:{1:0,2:0,3:0,4:0,5:0},claw:{1:0},gun:{1:0,2:0,3:0,4:0},hunter:{1:0,2:0,3:0,4:0,5:0},katana:{1:0,2:0,3:0,4:0,5:0,6:0,7:0},knife:{1:0,2:0,3:0,4:0},trapper:{1:0,2:0,3:0,4:0}}}}}},e}());var r=e("UserInfo",function(){function e(){}return a(e,null,[{key:"openid",get:function(){return this._openid||(this._openid=t.localStorage.getItem("openid")),this._openid},set:function(e){this._openid=e,t.localStorage.getItem("openid")}}]),e}());i(r,"fristLoginTimer",0),i(r,"needuserinfo",0),i(r,"_openid",""),i(r,"sessid","aaaa"),i(r,"userid",""),n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelCollerDataTemplate.ts",["cc","./GlobalEnum.ts"],(function(e){"use strict";var t,a,i;return{setters:[function(e){t=e.cclegacy,a=e.ERigidBody2DType},function(e){i=e.GlobalEnum}],execute:function(){t._RF.push({},"64146Na9V9J2b8WH59e5Poa","LevelCollerDataTemplate",void 0);e("default",function(){function e(){}return e.getData=function(){return{barrier1:{name:"barrier1",rigid:{group:i.RigidGroup.default,enabledContactListener:!1,bullet:!1,type:a.Static,allowSleep:!1,gravityScale:0,linearDamping:0,angularDamping:0,linearVelocity:{x:0,y:0},angularVelocity:0,fixedRotation:!0,awakeOnLoad:!0},collider:[{type:"p",tag:0,group:i.RigidGroup.default,density:1,sensor:!1,friction:0,restitution:0,offset:{x:0,y:0},points:[{x:-.5,y:-.5},{x:-.5,y:.5},{x:.5,y:.5},{x:.5,y:-.5}],size:{w:1,h:1},radius:.5}]},plane1:{name:"plane1",rigid:{group:i.RigidGroup.default,enabledContactListener:!1,bullet:!1,type:a.Static,allowSleep:!1,gravityScale:0,linearDamping:0,angularDamping:0,linearVelocity:{x:0,y:0},angularVelocity:0,fixedRotation:!0,awakeOnLoad:!0},collider:[{type:"p",tag:0,group:i.RigidGroup.default,density:1,sensor:!1,friction:0,restitution:0,offset:{x:0,y:0},points:[{x:-.075,y:-4.561},{x:-4.252,y:-3.274},{x:-5.372,y:-1.015},{x:-3.19,y:3.326},{x:.152,y:4.488},{x:3.297,y:4.014},{x:4.813,y:.426},{x:4.626,y:-3.239}]}]}}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalEnum.ts",["cc","./CommonEnum.ts"],(function(a){"use strict";var e,n;return{setters:[function(a){e=a.cclegacy},function(a){n=a.CommonEnum}],execute:function(){var t;a("GlobalEnum",void 0),e._RF.push({},"6826d7wVUNOP6Hip9cXyxIy","GlobalEnum",void 0),function(a){var e,t,i,o,r,l,k,p,u,c,d,s,g,m,y,f,T,_,b,A,I;a.Common=n;!function(a){a[a.player=0]="player",a[a.enemies=1]="enemies",a[a.colliderLayer=2]="colliderLayer",a[a.matchEnemies=3]="matchEnemies",a[a.matchMap=4]="matchMap"}(e||(e={})),a.myGlobalDataType=e,function(a){a.lobby="GameLobby",a.shop="ShopUI",a.chooseLevel="ChooseLevelUI",a.configSetting="ConfigSettingUI",a.playerAssetBar="PlayerAssetBar",a.getPower="GetPowerUI",a.tipPower="TipPowerUI",a.levelInfo="LevelInfoUI",a.levelController="LevelController",a.pauseLevel="PauseLevelUI",a.trySkin="TrySkinUI",a.levelTeach="TeachAnim",a.match="MatchUI",a.awardUI="AwardUI",a.winUI="WinUI",a.loseUI="LoseUI",a.resurgence="ResurgenceUI",a.touchBanner1="TouchBannerUI1",a.touchBanner2="TouchBannerUI2",a.touchBanner3="TouchBannerUI3",a.littlePage="Recommend_littlePage",a.middlePage="Recommend_middlePage",a.bigPage="Recommend_bigPage",a.recommendDialog="RecommendDialog",a.winNativeAdUI="WinNativeAdUI",a.loseNativeAdUI="LoseNativeAdUI",a.spin="SpinUI",a.getGoldByVideo="GetGoldByVideo"}(t||(t={})),a.UI=t,function(a){a.levelData="LevelData",a.playerSkin="PlayerSkin",a.RobotData="RobotData",a.MapData="MapData",a.WeaponAtkData="WeaponAtkData",a.GoodsData="GoodsData"}(i||(i={})),a.GameDataType=i,function(a){a.playerSkin="PlayerSkin",a.hat="hat",a.weapon="weapon",a.skin="skin"}(o||(o={})),a.GoodsType=o,function(a){a.clickBtn="ClickBtn",a.win="Win",a.lose="Lose",a.BGM="BGM_game1",a.BGM2="BGM_game2",a.BGMLobby="BGM_lobby",a.gold="Gold",a.reward="Reward",a.spin="wheelSpin",a.getSkin="getSkin",a.breakMetal="break_metal",a.breakStones="break_stones",a.breakWood="break_wood",a.killDouble="kill_double",a.killMulti="kill_multi",a.killUltra="kill_ultra",a.killed="kill_good",a.atkcaptain1="ATK_captain",a.atkcaptain2="ATK_captain",a.atkcaptain3="ATK_captain",a.atkcaptain4="ATK_captain",a.atkcaptain5="ATK_captain",a.atkclaw1="ATK_claw",a.atkgun1="ATK_gun",a.atkgun2="ATK_gun",a.atkgun3="ATK_gun",a.atkgun4="ATK_gun4",a.atkhunter1="ATK_hunter",a.atkhunter2="ATK_hunter2",a.atkhunter3="ATK_hunter",a.atkhunter4="ATK_hunter4",a.atkhunter5="ATK_hunter",a.atkkatana1="ATK_kadana",a.atkkatana2="ATK_kadana",a.atkkatana3="ATK_kadana",a.atkkatana4="ATK_kadana",a.atkkatana5="ATK_kadana",a.atkkatana6="ATK_kadana",a.atkkatana7="ATK_kadana",a.atkknife1="ATK_knife",a.atkknife2="ATK_knife",a.atkknife3="ATK_knife",a.atkknife4="ATK_knife",a.atktrapper1="ATK_trapper",a.atktrapper2="ATK_trapper",a.atktrapper3="ATK_trapper",a.atktrapper4="ATK_trapper",a.atkTrapperBoom="ATK_trapper_bomb"}(r||(r={})),a.AudioClip=r,function(a){a[a.lobby=0]="lobby",a[a.level=1]="level"}(l||(l={})),a.DirectState=l,k||(k={}),a.VideoName=k,function(a){a[a.inited=1]="inited",a[a.playing=2]="playing",a[a.win=3]="win",a[a.lose=4]="lose",a[a.lobby=5]="lobby",a[a.playerEntering=6]="playerEntering",a[a.playerDead=7]="playerDead",a[a.fighting=8]="fighting",a[a.waitTrySkin=9]="waitTrySkin",a[a.portalplayer=10]="portalplayer"}(p||(p={})),a.LevelState=p,function(a){a[a.follow=0]="follow"}(u||(u={})),a.LevelCameraState=u,function(a){a[a.left=0]="left",a[a.right=1]="right",a[a.up=2]="up",a[a.down=3]="down",a[a.count=4]="count"}(c||(c={})),a.KeyCode=c,function(a){a[a.ground=10]="ground",a[a.atkScope=20]="atkScope",a[a.map=30]="map",a[a.barrier=40]="barrier",a[a.gold=40]="gold",a[a.role=50]="role",a[a.weapon=60]="weapon",a[a.weaponSteak=80]="weaponSteak"}(d||(d={})),function(a){a[a.none=0]="none",a[a.pos=1]="pos",a[a.angle=2]="angle",a[a.scale=4]="scale",a[a.aabb=8]="aabb",a[a.speed=16]="speed",a[a.weaponType=32]="weaponType",a[a.weaponId=64]="weaponId",a[a.roleScale=128]="roleScale",a[a.all=4294967295]="all"}(s||(s={})),a.DirtyType=s,function(a){a.stand="idle",a.move="walk",a.atk="attack",a.atk0="attack_0",a.atk1="attack_1",a.atk2="attack_2",a.atk3="attack_3",a.win="attack|Victory",a.dead="die_claw"}(g||(g={})),a.RoleAnimType=g,function(a){a.none="none",a.captain="captain",a.claw="claw",a.gun="gun",a.hunter="hunter",a.katana="katana",a.knife="knife",a.trapper="trapper"}(m||(m={})),a.WeaponType=m,function(a){a.role="RigidRole",a.build="RigidBuild",a.gold="RigidGold"}(y||(y={})),a.RigidNode=y,function(a){a[a.default=1]="default",a[a.enmey=2]="enmey",a[a.player=4]="player",a[a.gold=8]="gold",a[a.ground=16]="ground"}(f||(f={})),a.RigidGroup=f,function(a){a[a.stand=0]="stand",a[a.move=1]="move",a[a.atkReading=2]="atkReading",a[a.atkEnter=3]="atkEnter",a[a.atking=4]="atking",a[a.atkEnd=5]="atkEnd",a[a.deadAnimPlaying=6]="deadAnimPlaying",a[a.deadAnimFinish=7]="deadAnimFinish",a[a.win=8]="win",a[a.jumpInPortal=9]="jumpInPortal",a[a.jumpOutPortal=10]="jumpOutPortal"}(T||(T={})),a.RoleState=T,function(a){a[a.breakBarrier=0]="breakBarrier",a[a.dynamicBarrier=1]="dynamicBarrier",a[a.staticBarrier=2]="staticBarrier"}(_||(_={})),a.BarrierType=_,function(a){a[a.barrier=0]="barrier",a[a.role=1]="role",a[a.atkBox=2]="atkBox",a[a.props=3]="props",a[a.buff=4]="buff"}(b||(b={})),a.CollerType=b,function(a){a[a.rect=0]="rect",a[a.fan=1]="fan"}(A||(A={})),a.AtkScopeType=A,function(a){a[a.line=0]="line",a[a.easeIn=1]="easeIn",a[a.easeOut=2]="easeOut",a[a.easeInOut=3]="easeInOut",a[a.easeOutIn=4]="easeOutIn",a[a.sinIn=5]="sinIn",a[a.sinOut=6]="sinOut",a[a.sinInOut=7]="sinInOut",a[a.sinOutIn=8]="sinOutIn"}(I||(I={})),a.EaseType=I}(t||(t=a("GlobalEnum",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameNativeAd.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GlobalData.ts","./ResUtils.ts","./NativeAdView.ts"],(function(t){"use strict";var i,e,n,a,d,s,o,A,v,h,l;return{setters:[function(t){i=t.cclegacy,e=t._decorator,n=t.instantiate,a=t.UITransform,d=t.v3,s=t.Widget},function(t){o=t.defineProperty},function(t){A=t.NATIVE_AD_TYPE,v=t.NATIVE_AD_STYLE},function(t){h=t.ResUtils},function(t){l=t.NativeAdView}],execute:function(){var r;i._RF.push({},"74c23Tbc89P1Z/HlaXKaltb","GameNativeAd",void 0);var c=e.ccclass;t("GameNativeAd",c(r=function(){function t(){o(this,"adId",null),o(this,"nativeAd",null),o(this,"nativeAdView",null),o(this,"nativeAdViewCtrl",null),o(this,"nativeBannerAdView",null),o(this,"nativeBannerAdViewCtrl",null),o(this,"style",v.BANNER_AD),o(this,"isStopAutoShowNativeAd",!1),o(this,"viewAdBtn",null),o(this,"bgBtn",null),o(this,"count",0),o(this,"bannerWidget",void 0),o(this,"nativeWidget",void 0)}var i=t.prototype;return i.initNativeStyle=function(t){void 0===t&&(t=null),this.style=t},i.addNodeToParent=function(t){this.createNativeAdView(t),this.createNativeBannerAdView(t)},i.initNativeAd=function(){this.nativeAd&&(console.log("GameNativeAd--initNativeAd"),HeyGameAdSDK.GameAdSDK.SDK.onNativeDestroy(this.nativeAd),this.nativeAd=null,this.adId=null,this.hideNativeAd(this.isStopAutoShowNativeAd)),this.nativeAd=HeyGameAdSDK.GameAdSDK.SDK.createNativeAd(A.GAME,this.onLoadNativeDataFinish.bind(this))},i.onLoadNativeDataFinish=function(t){t?(this.nativeAdViewCtrl&&this.nativeAdViewCtrl.initView(t),this.nativeBannerAdViewCtrl&&this.nativeBannerAdViewCtrl.initView(t),this.adId=t.adId,this.showNativeAd()):(this.hideNativeAd(this.isStopAutoShowNativeAd),this.isStopAutoShowNativeAd||HeyGameAdSDK.GameAdSDK.SDK.showBannerAd(101))},i.autoUpdateNativeAdData=function(){setInterval(this.initNativeAd.bind(this),1e3*HeyGameAdSDK.GameAdSDK.SDK.delayTime)},i.createNativeAdView=function(t){var i=this;this.nativeAdView||h.loadPrefab("HeyGameSDK/native_ad_prefab",(function(e){e&&(i.nativeAdView=n(e),i.nativeAdViewCtrl=i.nativeAdView.getComponent(l),i.nativeAdViewCtrl.adClickCallBack=i.onNativeAdClick.bind(i),i.nativeAdViewCtrl.adCloseCallBack=i.onNativeAdClose.bind(i),i.nativeWidget&&i.setWidget(i.nativeAdView,i.nativeWidget),i.nativeAdView.active=!1,t.addChild(i.nativeAdView),i.count++,i.onNativeNodeCreateFinish())}))},i.onNativeNodeCreateFinish=function(){this.count>=2&&(this.initNativeAd(),this.autoUpdateNativeAdData())},i.createNativeBannerAdView=function(t){var i=this;this.nativeBannerAdView||h.loadPrefab("HeyGameSDK/native_banner_ad_prefab",(function(e){e&&(i.nativeBannerAdView=n(e),i.nativeBannerAdViewCtrl=i.nativeBannerAdView.getComponent(l),i.nativeBannerAdViewCtrl.adClickCallBack=i.onNativeAdClick.bind(i),i.nativeBannerAdViewCtrl.adCloseCallBack=i.onNativeAdClose.bind(i),t.addChild(i.nativeBannerAdView),i.bannerWidget&&(i.setWidget(i.nativeBannerAdView,i.bannerWidget),i.bannerWidget=null),i.nativeBannerAdView.active=!1,i.count++,i.onNativeNodeCreateFinish())}))},i.onNativeAdClick=function(){var t=this;this.nativeAd&&HeyGameAdSDK.GameAdSDK.SDK.onNativeAdClick(this.nativeAd,this.adId,(function(i){i?HeyGameConfig.HeyGameSDKConfig.onVIVOMiniGame?setTimeout((function(){t.initNativeAd()}),5e3):t.initNativeAd():(t.hideNativeAd(!1),HeyGameAdSDK.GameAdSDK.SDK.showBannerAd(102))}))},i.onNativeAdClose=function(){var t=this;this.nativeAd&&HeyGameAdSDK.GameAdSDK.SDK.onNativeAdClose(this.nativeAd,this.adId,(function(i){i&&t.initNativeAd()})),this.viewAdBtn&&(this.viewAdBtn.active=!1),this.bgBtn&&(this.bgBtn.active=!1),HeyGameAdSDK.GameAdSDK.SDK.showBannerAd(103)},i.showNativeAd=function(t,i){if(void 0===t&&(t=null),null!=t&&(this.style=t),null!=this.adId||this.isStopAutoShowNativeAd)switch(this.bgBtn&&(this.bgBtn.active=!this.isStopAutoShowNativeAd),this.viewAdBtn&&(this.viewAdBtn.active=!this.isStopAutoShowNativeAd),HeyGameAdSDK.GameAdSDK.SDK.hideBannerAd(),this.style){case v.BIG_AD:this.nativeBannerAdView&&(this.nativeBannerAdView.active=!1),i&&(this.nativeWidget=i),this.nativeAdView&&(i?this.setWidget(this.nativeAdView,i):this.nativeWidget&&this.setWidget(this.nativeAdView,this.nativeWidget),this.nativeAdView.active=!this.isStopAutoShowNativeAd);break;case v.BANNER_AD:this.nativeAdView&&(this.nativeAdView.active=!1),i&&(this.bannerWidget=i),this.nativeBannerAdView&&(i?(this.setWidget(this.nativeBannerAdView,i),this.bannerWidget=null):this.bannerWidget&&(this.setWidget(this.nativeBannerAdView,this.bannerWidget),this.bannerWidget=null),this.nativeBannerAdView.active=!this.isStopAutoShowNativeAd)}else HeyGameAdSDK.GameAdSDK.SDK.showBannerAd(104)},i.setWidget=function(t,i,e){var n=t.getComponent(a);void 0!==i.width&&(n.width=i.width),void 0!==i.height&&(n.height=i.height);var o=d(),A=!1;void 0!==i.x?(o.x=i.x,A=!0):o.x=t.position.x,void 0!==i.y?(o.y=i.y,A=!0):o.y=t.position.y,A&&(o.z=t.position.z,t.setPosition(o)),o.x=o.y=o.z=1,void 0!==i.scale&&(o.x=i.scale.x,o.y=i.scale.y),t.setScale(o);var v=t.getComponent(s);v||(v=t.addComponent(s)),v.isAbsoluteBottom=!0,v.isAbsoluteLeft=!0,v.isAbsoluteRight=!0,v.isAbsoluteTop=!0,v.isAbsoluteHorizontalCenter=!0,v.isAbsoluteVerticalCenter=!0,i&&(v.target=e||t.parent,void 0!==i.top?(v.isAlignTop=!0,v.isAbsoluteTop=i.top>1,v.top=parseFloat(i.top)):v.isAlignTop=!1,void 0!==i.bottom?(v.isAlignBottom=!0,v.isAbsoluteBottom=i.bottom>1,v.bottom=parseFloat(i.bottom)):v.isAlignBottom=!1,void 0!==i.left?(v.isAlignLeft=!0,v.isAbsoluteLeft=i.left>1,v.left=parseFloat(i.left)):v.isAlignLeft=!1,void 0!==i.right?(v.isAlignRight=!0,v.isAbsoluteRight=i.right>1,v.right=parseFloat(i.right)):v.isAlignRight=!1,v.isAlignHorizontalCenter=!!i.horizontalCenter,v.isAlignVerticalCenter=!!i.verticalCenter,this.updateWidget(t))},i.updateWidget=function(t){var i=t.getComponent(s);i&&i.updateAlignment();for(var e=t.children.length-1;e>=0;--e)this.updateWidget(t.children[e])},i.hideNativeAd=function(t){void 0===t&&(t=!1),this.isStopAutoShowNativeAd=t,this.nativeAdView&&(this.nativeAdView.active=!1),this.nativeBannerAdView&&(this.nativeBannerAdView.active=!1),this.viewAdBtn&&(this.viewAdBtn.active=!1),this.bgBtn&&(this.bgBtn.active=!1)},t}())||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/Loader.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts"],(function(e){"use strict";var s,o,a,i,n,t,r;return{setters:[function(e){s=e.cclegacy,o=e.assetManager,a=e.error,i=e.log},function(e){n=e.defineProperty},function(e){t=e.EventType},function(e){r=e.default}],execute:function(){s._RF.push({},"76f22jaHdBP6q6d5du5twvn","Loader",void 0);var u=e("default",function(){function e(){}return e.showProgressBar=function(e){void 0===e&&(e=0),this.showMask(),r.emit(t.Common.LoadAssetEvent.showProgress,e)},e.updateProgress=function(e,s,o){var a=e/s;a>1&&(a=1),r.emit(t.Common.LoadAssetEvent.updateProgress,a)},e.hideProgressBar=function(e){void 0===e&&(e=1),r.emit(t.Common.LoadAssetEvent.hideProgress),this.hideMask(e)},e.showMask=function(e){void 0===e&&(e=1),r.emit(t.Common.UIEvent.showTouchMask,e)},e.hideMask=function(e){void 0===e&&(e=1),r.emit(t.Common.UIEvent.hideTouchMask,e)},e.loadBundle=function(e,s,o,a){void 0===o&&(o=!1),void 0===a&&(a=!1),this.loadSubpackage(e,s,o,a)},e.loadSubpackage=function(e,s,o,a){void 0===o&&(o=!1),void 0===a&&(a=!1);var i=this.subpackageRecords[e];switch(i||(i=new d(e,s,o),this.subpackageRecords[e]=i),i.state){case c.inited:o&&this.showSubpackageProgress(),a&&this.subpackageSequence.length>0?(this.subpackageSequence.splice(1,0,e),i.enterSequence()):(this.subpackageSequence.push(e),this.subpackageSequence.length>1?i.enterSequence():this._loadSubpackage(e));break;case c.waiting:if(o&&this.showSubpackageProgress(),i.pushCb(s,o),a&&this.subpackageSequence.length>0){var n=this.subpackageSequence.indexOf(e);n>1&&(this.subpackageSequence.splice(n,1),this.subpackageSequence.splice(1,0,e),i.enterSequence())}break;case c.turnTo:o&&this.showSubpackageProgress(),i.pushCb(s,o),this._loadSubpackage(e);break;case c.loading:o&&this.showSubpackageProgress(),i.pushCb(s,o);break;case c.finished:setTimeout((function(){s&&s()}),0)}},e._loadSubpackage=function(e){var s=this;this.subpackageRecords[e].loadStart(),o.loadBundle(e,(function(o,a){if(o)return console.error("子包加载出错：",e),void console.error(o);console.log("子包加载完成：",e);var i=s.subpackageSequence.indexOf(e);if(s.subpackageSequence.splice(i,1),s.hideSubpackageProgress(),s.subpackageRecords[e].loadFinish(),s.subpackageSequence.length>0){var n=s.subpackageSequence[0],t=s.subpackageRecords[n];t&&t.turnToLoad(),s.loadSubpackage(n,null,!!s.subpackageRecords[n].maskCount)}}))},e.showSubpackageProgress=function(){null===this.subpackageProgressTimer&&(this.showProgressBar(),this.subpackageProgress=0,this.subpackageProgressTimer=setInterval(this.updateSubpackageProgress.bind(this),100))},e.updateSubpackageProgress=function(){this.subpackageProgress+=.03,this.subpackageProgress>=1&&(this.subpackageProgress=0),r.emit(t.Common.LoadAssetEvent.updateProgress,this.subpackageProgress)},e.hideSubpackageProgress=function(){if(null!==this.subpackageProgressTimer){for(var e=0,s=this.subpackageSequence.length-1;s>=0;--s)e+=this.subpackageRecords[this.subpackageSequence[s]].maskCount;0==e&&(clearInterval(this.subpackageProgressTimer),this.subpackageProgressTimer=null,this.subpackageProgress=0,this.hideProgressBar())}},e.loadBundleRes=function(e,s,i,n,t){var r=this,u=o.getBundle(e);if(!u)return console.error("资源包 "+e+" 尚未加载，无法获取资源:",s),void i(null);var c=null;void 0===n?t=!0:"boolean"==typeof n?t=!!n:(c=n,void 0===t&&(t=!0)),t&&this.showMask(),null!==c?u.load(s,c,(function(e,s){if(t&&r.hideMask(),e)return a(e.message||e),void i(null);i(s)})):u.load(s,(function(e,s){if(t&&r.hideMask(),e)return a(e.message||e),void i(null);i(s)}))},e.loadBundleArray=function(e,s,i,n,t){var r=this,u=o.getBundle(e);if(!u)return console.error("资源包 "+e+" 尚未加载，无法获取资源数组:",s),void i(null);var c=null;void 0===n?t=!0:"boolean"==typeof n?t=!!n:(c=n,void 0===t&&(t=!0)),t&&this.showProgressBar(),c?u.load(s,c,this.updateProgress.bind(this),(function(e,s){if(t&&r.hideProgressBar(),e)return a(e.message||e),void i(null);i(s)})):u.load(s,this.updateProgress.bind(this),(function(e,s){if(t&&r.hideProgressBar(),e)return a(e.message||e),void i(null);i(s)}))},e.loadBundleDir=function(e,s,a,n,t){var r=this,u=o.getBundle(e);if(!u)return console.error("资源包 "+e+" 尚未加载，无法获取资源文件夹:",s),void a(null);var c=null;void 0===n?t=!0:"boolean"==typeof n?t=!!n:(c=n,void 0===t&&(t=!0)),t&&this.showProgressBar(),c?u.loadDir(s,c,this.updateProgress.bind(this),(function(e,s){if(t&&r.hideProgressBar(),e)return i(e),void a(null);a(s)})):u.loadDir(s,this.updateProgress.bind(this),(function(e,s){if(t&&r.hideProgressBar(),e)return i(e),void a(null);a(s)}))},e.loadBundleScene=function(e,s,a,i){var n=this,t=o.getBundle(e);if(!t)return console.error("资源包 "+e+" 尚未加载，无法加载场景:",s),void a(null);void 0===i&&(i=!0),i&&this.showProgressBar(),t.loadScene(s,this.updateProgress.bind(this),(function(e,s){i&&n.hideProgressBar(),e?console.error(e):a(s)}))},e.preLoadBundleRes=function(e,s,a){var i=o.getBundle(e);i&&(void 0===a?i.preload(s):i.preload(s,a))},e.preLoadBundleArray=function(e,s,a){var i=o.getBundle(e);i&&(void 0===a?i.preload(s):i.preload(s,a))},e.preLoadBundleDir=function(e,s,a){var i=o.getBundle(e);i&&(void 0===a?i.preloadDir(s):i.preloadDir(s,a))},e.preLoadBundleScene=function(e,s){var a=o.getBundle(e);a&&a.preloadScene(s)},e}());n(u,"dirAsset",{}),n(u,"singleAsset",{}),n(u,"subpackageRecords",{}),n(u,"subpackageSequence",[]),n(u,"subpackageProgressTimer",null),n(u,"subpackageProgress",0);var c,d=function(){function e(e,s,o){n(this,"name",void 0),n(this,"state",void 0),n(this,"cbs",void 0),n(this,"maskCount",void 0),this.name=e,this.state=c.inited,this.cbs=[],s&&this.pushCb(s),this.maskCount=o?1:0}var s=e.prototype;return s.pushCb=function(e,s){e&&this.cbs.push(e),s&&this.maskCount++},s.enterSequence=function(){this.state=c.waiting},s.loadStart=function(){this.state=c.loading},s.loadFinish=function(){for(;this.cbs.length>0;){var e=this.cbs.shift();e&&e()}this.state=c.finished,this.maskCount=0},s.turnToLoad=function(){this.state=c.turnTo},e}();!function(e){e[e.inited=1]="inited",e[e.waiting=2]="waiting",e[e.loading=3]="loading",e[e.finished=4]="finished",e[e.turnTo=5]="turnTo"}(c||(c={})),s._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData.ts",["cc"],(function(t){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"7a587oypPFFTqfhw/uMkWmT","GlobalData",void 0);t("NATIVE_AD_TYPE",{GAME:0,FINISH:1,LIST_ITEM_AD:2}),t("NATIVE_AD_STYLE",{BIG_AD:0,BANNER_AD:1});c._RF.pop()}}}));

System.register("chunks:///_virtual/GameFlow.ts",["cc","./AdConfig.ts","./_rollupPluginModLoBabelHelpers.js","./GameConfig.ts","./GameEventType.ts","./EventManager.ts","./http_request.ts","./GlobalEnum.ts","./GlobalData2.ts","./GamePlatformType.ts","./PlayerDataTemplate.ts","./PlayerData.ts","./GamePlatform.ts"],(function(o){"use strict";var e,n,t,i,m,a,l,s,r,c,d,g,h,C;return{setters:[function(o){e=o.cclegacy,n=o.sys},function(o){t=o.AdConfig},function(o){i=o.defineProperty},function(o){m=o.default},function(o){a=o.EventType},function(o){l=o.default},function(o){s=o.default},function(o){r=o.GlobalEnum},function(o){c=o.default},function(o){d=o.GamePlatformType},function(o){g=o.UserInfo},function(o){h=o.default},function(o){C=o.default}],execute:function(){e._RF.push({},"7bf15DaNuVOf5H9hYnVpxgr","GameFlow",void 0);var w=o("default",function(){function o(){}return o.init=function(){this.initFirstFlow(),this.initRecommendUIConfig(),this.initStorageConfig(),this.initDirectFlow(),this.onEvents(),this.loadConfig()},o.onEvents=function(){l.on(a.Common.GameFlow.endFirstFlow,this.endFirstFlow,this),l.on(a.Common.GameFlow.enterGameFlow,this.onEnterGameFlow,this),l.on(a.Common.GameFlow.navigateFail,this.onNavigateFail,this),l.on(a.Common.GameFlow.showInitScene_RecommendDialog,this.showInitScene_RecommendDialog,this),l.on(a.Common.RecommendEvent.clickRecommendItem,this.onClickRecommendItem,this),l.on(a.Common.SDKEvent.navigateSuccess,this.onNavigateSuccess,this),l.on(a.Common.SDKEvent.showBannerFinish,this.onBannerShowSuccess,this),l.on(a.Common.SDKEvent.showBannerFail,this.onBannerShowFail,this),l.on(a.Common.SDKEvent.hideBanner,this.onHideBanner,this),l.on(a.Common.SDKEvent.show,this.onGameShow,this),l.on(a.Common.SDKEvent.hide,this.onGameHide,this)},o.loadConfig=function(){setTimeout((function(){l.emit(a.Common.GameFlow.loadConfigFinish)}),100),console.error("测试阶段，不读取后台配置")},o.onGameShow_OPPO=function(o){o&&0==Object.keys(this.recommendFlowConfig).length&&this.loadConfig_OPPO(o)},o.loadConfig_OPPO=function(o){var e=s.url_ad+"v2.1/api/getGameParam.html",n={softid:C.Config.appId,query:{},scene:"",from_appid:"",openid:g.openid};if(o){var t;o.referrerInfo&&(t=o.referrerInfo.package),t||(t="");var i={query:o.query?JSON.stringify(o.query):"",scene:o.scene||"",from_appid:t,openid:g.openid};Object.assign(n,i)}console.log("拉取开关配置的请求数据：",n),s.postRequest(e,n,this.saveConfig.bind(this))},o.saveConfig=function(o){console.log("拉取到的开关配置：",o),l.emit(a.Common.GameFlow.loadConfigFinish);var e=o.result;if(e){for(var t in this.recommendFlowConfig=e,this.recommendFlowConfig)for(var i in this.recommendFlowConfig[t]){var s=this.recommendFlowConfig[t][i];for(var c in s){var d=s[c];"string"==typeof d&&d.indexOf("-")<0&&d.indexOf(",")<0&&(d=d.indexOf(".")>=0?parseFloat(d):parseInt(d),Number.isNaN(d)||(s[c]=d))}}var g=e.global.default;this.globalConfig=g;var h,C=this.globalConfig[r.Common.GameFlowGlobalConfig.guoshen];if(void 0!==C&&"string"==typeof C&&(this.globalConfig[r.Common.GameFlowGlobalConfig.guoshen]=parseInt(C)),m[r.Common.GameFlowGlobalConfig.guoshen]=this.globalConfig[r.Common.GameFlowGlobalConfig.guoshen],this.globalConfig[r.Common.GameFlowGlobalConfig.guoshen])for(var w in this.recommendFlowConfig)void 0!==this.recommendFlowConfig[w][r.Common.RecommendFlowStep.bigPage]&&(this.recommendFlowConfig[w][r.Common.RecommendFlowStep.bigPage][r.Common.RecommendFlowConfig.visible]=0),void 0!==this.recommendFlowConfig[w][r.Common.RecommendFlowStep.middlePage]&&(this.recommendFlowConfig[w][r.Common.RecommendFlowStep.middlePage][r.Common.RecommendFlowConfig.visible]=0),void 0!==this.recommendFlowConfig[w][r.Common.RecommendFlowStep.littlePage]&&(this.recommendFlowConfig[w][r.Common.RecommendFlowStep.littlePage][r.Common.RecommendFlowConfig.visible]=0),void 0!==this.recommendFlowConfig[w][r.Common.RecommendFlowStep.touchBannerUI]&&(this.recommendFlowConfig[w][r.Common.RecommendFlowStep.touchBannerUI][r.Common.RecommendFlowConfig.visible]=0);window.wx&&("number"==typeof(h=window.wx.getLaunchOptionsSync().scene)&&(h=h.toString()),console.log("进入场景：",h));var f=g.jumpkaiguan;for(var F in"string"==typeof f&&(f=parseInt(f)),this.navigateFailToLittlePage=!!f&&!this.globalConfig[r.Common.GameFlowGlobalConfig.guoshen],"string"==typeof(f=g.daoliukaiguan)&&(f=parseInt(f)),this.recommendInsteadBanner=!!f,this.recommendFlowConfig)if(void 0!==this.recommendFlowConfig[F].weiyi){var u=this.recommendFlowConfig[F].weiyi[r.Common.RecommendFlowConfig.mode];"string"==typeof u&&(u=parseInt(u)),u==r.Common.BannerTouchMode.recommend?this.recommendFlowConfig[F].weiyi[r.Common.RecommendFlowConfig.mode]=r.Common.BannerTouchMode.banner:u==r.Common.BannerTouchMode.banner&&(this.recommendFlowConfig[F].weiyi[r.Common.RecommendFlowConfig.mode]=r.Common.BannerTouchMode.moveButton)}if(Object.keys(this.storageConfig).length<=1){for(var v in this.recommendFlowConfig)for(var p in this.storageConfig[v]={},this.recommendFlowConfig[v])this.storageConfig[v][p]={count:0};n.localStorage.setItem(m.gameName+"recommendFlowRecord",JSON.stringify(this.storageConfig))}this.saveRecommendUIConfig(this.recommendFlowConfig),this.saveFirstFlow(this.globalConfig)}},o.initFirstFlow=function(){var o=h.getData("gameData.isFirstFlow");this.isFirstFlow=void 0===o||!!o},o.saveFirstFlow=function(o){0!==o.nowuchukaiguan&&"0"!==o.nowuchukaiguan||(this.isFirstFlow=!1)},o.endFirstFlow=function(){this.isFirstFlow=!1,l.emit(a.Common.PlayerDataEvent.updatePlayerData,{type:"gameData",attribute:"gameData.isFirstFlow",mode:"=",value:0,emit:!1,save:!1})},o.initDirectFlow=function(){this.recommendFlowSequence=[r.Common.RecommendFlowStep.video,r.Common.RecommendFlowStep.touchBannerUI,r.Common.RecommendFlowStep.insertAd,r.Common.RecommendFlowStep.bigPage,r.Common.RecommendFlowStep.middlePage,r.Common.RecommendFlowStep.littlePage,r.Common.RecommendFlowStep.dialog],this.levelToResultRecommendFlowSequence=[r.Common.RecommendFlowStep.bigPage,r.Common.RecommendFlowStep.middlePage,r.Common.RecommendFlowStep.littlePage,r.Common.RecommendFlowStep.dialog,r.Common.RecommendFlowStep.video,r.Common.RecommendFlowStep.touchBannerUI,r.Common.RecommendFlowStep.insertAd],this.recommendFlowPtr=0,this.recommendFlowConfig={},this.curGameFlowStep=r.Common.GameFlowStep.initScene},o.getConfig=function(o){return void 0!==o?this.recommendFlowConfig[o]:this.recommendFlowConfig},o.getGlobalConfig=function(o){return void 0!==o?this.globalConfig[o]:this.globalConfig},o.setGlobalConfig=function(o,e){this.globalConfig[o]=e},o.initStorageConfig=function(){var o=(new Date).getDate(),e=n.localStorage.getItem(m.gameName+"recommendFlowRecord");this.storageConfig=e?JSON.parse(e):{},this.storageConfig.saveDay!=o&&(this.storageConfig={saveDay:o})},o.getStorageConfigCount=function(o,e){return this.storageConfig&&this.storageConfig[o]&&this.storageConfig[o][e]?this.storageConfig[o][e].count:null},o.updateStorageConfigCount=function(o,e,t){this.storageConfig&&(this.storageConfig[o]||(this.storageConfig[o]={}),this.storageConfig[o][e]||(this.storageConfig[o][e]={}),this.storageConfig[o][e].count=t,n.localStorage.setItem(m.gameName+"recommendFlowRecord",JSON.stringify(this.storageConfig)))},o.initRecommendUIConfig=function(){this.recommendUIConfig={}},o.saveRecommendUIConfig=function(o){for(var e in this.recommendUIConfig={},o)o[e].daquandao&&1==o[e].daquandao.kaiguan&&(this.recommendUIConfig[t.AdID.bigView]=o[e].daquandao),o[e].zhongquandao&&1==o[e].zhongquandao.kaiguan&&(this.recommendUIConfig[t.AdID.middleView]=o[e].zhongquandao),o[e].xiaoquandao&&1==o[e].xiaoquandao.kaiguan&&(this.recommendUIConfig[t.AdID.littleView]=o[e].xiaoquandao),o[e].alert&&1==o[e].alert.kaiguan&&(this.recommendUIConfig[t.AdID.dialog]=o[e].alert)},o.getRecommendUIConfig=function(o){return this.recommendUIConfig[o]},o.onEnterGameFlow=function(o,e){this.recommendFlowPtr=-1,this.targetGameFlowStep=o,this.targetGameFlowData=e,this.curRecommendFlowConfig=this.getCurRecommendFlowConfig(),this.curRecommendFlowConfig?this.onNextRecommendFlow():this.enterGameFlow(o)},o.getCurRecommendFlowConfig=function(){var o=this.getCurRecommendFlowName(),e=f[o];return this.recommendFlowConfig[e]},o.getCurRecommendFlowName=function(){return null===this.targetGameFlowStep?null:this.curGameFlowStep+"_"+this.targetGameFlowStep},o.enterGameFlow=function(e){this.curRecommendStep=null;var n=this.getBtnMoveForBannerConfig(e);n&&(n=this.getFirstCfg(n,this.isFirstFlow)),this.curGameFlowStep=e,this.targetGameFlowStep=null;var t=this.targetGameFlowData;switch(this.targetGameFlowData=null,e!==r.Common.GameFlowStep.recommendDialog&&l.emit(a.Common.ALDEvent.enterGameFlow,e),e){case r.Common.GameFlowStep.initScene:break;case r.Common.GameFlowStep.recommendDialog:l.emit(a.Common.GameFlow.enterGameFlow,r.Common.GameFlowStep.lobby);break;case r.Common.GameFlowStep.lobby:l.emit(a.Common.DirectorEvent.enterLobby,t),this.enteredLobby=!0;break;case r.Common.GameFlowStep.level:l.emit(a.Common.GameFlow.enterLevel,t);break;case r.Common.GameFlowStep.award:l.emit(a.Common.UIEvent.enter,r.UI.awardUI,{data:t,config:n});break;case r.Common.GameFlowStep.win:if(l.emit(a.Common.UIEvent.enter,r.UI.winUI,{data:t,config:n}),C.Config.type==d.OPPO){var i=o.getGlobalConfig(r.Common.GameFlowGlobalConfig.showNativeAdUI);if(console.log("显示原生广告页UI:",i),i){var m=o.getGlobalConfig(r.Common.GameFlowGlobalConfig.showNativeAdUICount);console.log("原生广告页显示剩余次数：",m),"string"==typeof m&&(m=parseInt(m)),m>0&&(o.setGlobalConfig(r.Common.GameFlowGlobalConfig.showNativeAdUICount,m-1),l.emit(a.Common.UIEvent.enter,r.UI.winNativeAdUI))}}break;case r.Common.GameFlowStep.lose:if(l.emit(a.Common.UIEvent.enter,r.UI.loseUI,{data:t,config:n}),C.Config.type==d.OPPO){var s=o.getGlobalConfig(r.Common.GameFlowGlobalConfig.showNativeAdUI);if(console.log("显示原生广告页UI:",s),s){var c=o.getGlobalConfig(r.Common.GameFlowGlobalConfig.showNativeAdUICount);console.log("原生广告页显示剩余次数：",c),"string"==typeof c&&(c=parseInt(c)),c>0&&(o.setGlobalConfig(r.Common.GameFlowGlobalConfig.showNativeAdUICount,c-1),l.emit(a.Common.UIEvent.enter,r.UI.loseNativeAdUI))}}}},o.getBtnMoveForBannerConfig=function(o){var e;switch(o){case r.Common.GameFlowStep.recommendDialog:e=r.Common.GameFlowStep.recommendDialog+"_"+r.Common.GameFlowStep.lobby;break;case r.Common.GameFlowStep.award:case r.Common.GameFlowStep.win:case r.Common.GameFlowStep.lose:e=o+"_"+r.Common.GameFlowStep.recommendDialog}var n=f[e];return n&&this.recommendFlowConfig[n]?this.recommendFlowConfig[n].weiyi:null},o.onNextRecommendFlow=function(){var o=this.recommendFlowSequence,e=this.getCurRecommendFlowName(),n=f[e];n!=f.Level_AwardUI&&n!=f.Level_WinUI&&n!=f.Level_LoseUI||(o=this.levelToResultRecommendFlowSequence);for(var t=this.getCurRecommendFlowName();++this.recommendFlowPtr<o.length;)if(this.curGameFlowStep!=r.Common.GameFlowStep.initScene&&this.curGameFlowStep!=r.Common.GameFlowStep.recommendDialog||this.targetGameFlowStep!=r.Common.GameFlowStep.lobby&&this.targetGameFlowStep!=r.Common.GameFlowStep.recommendDialog||o[this.recommendFlowPtr]!=r.Common.RecommendFlowStep.dialog){var i=this.curRecommendFlowConfig[o[this.recommendFlowPtr]];if(void 0!==i&&0!=i[r.Common.RecommendFlowConfig.visible]){if(void 0!==i[r.Common.RecommendFlowConfig.count]){var m=this.getStorageConfigCount(t,o[this.recommendFlowPtr]);if(null===m&&(m=0),i[r.Common.RecommendFlowConfig.count]<=m)continue;this.updateStorageConfigCount(t,o[this.recommendFlowPtr],m+1)}return void this.enterRecommendFlow(o[this.recommendFlowPtr],i)}}else this.recommendFlowPtr++;this.recommendFlowPtr=-1,this.enterGameFlow(this.targetGameFlowStep)},o.enterRecommendFlow=function(o,e){var n=this;this.curRecommendStep=o;var t=this.curGameFlowStep;switch(l.emit(a.Common.ALDEvent.enterRecommendFlow,t,o),o!==r.Common.RecommendFlowStep.middlePage&&(e=this.getFirstCfg(e,this.isFirstFlow)),o){case r.Common.RecommendFlowStep.dialog:l.once(a.Common.RecommendEvent.closeRecommendDialog,this.onNextRecommendFlow,this),l.emit(a.Common.RecommendEvent.showRecommendDialog,{config:e});break;case r.Common.RecommendFlowStep.video:this.isFirstFlow?setTimeout((function(){n.onNextRecommendFlow()}),0):l.emit(a.Common.SDKEvent.showVideo,{success:this.onVideoSuccess.bind(this),fail:this.onVideoFail.bind(this),quit:this.onVideoQuit.bind(this)});break;case r.Common.RecommendFlowStep.touchBannerUI:if(this.isFirstFlow)setTimeout((function(){n.onNextRecommendFlow()}),0);else{e[r.Common.GameFlowGlobalConfig.mustTouchBanner]=this.globalConfig[r.Common.GameFlowGlobalConfig.mustTouchBanner];var i=this.getTouchBannerUI(e);l.emit(a.Common.SDKEvent.checkVisibleBanner,{cb:function(o){l.once(a.Common.UIEvent.touchBannerFinish,n.onNextRecommendFlow,n),l.emit(a.Common.UIEvent.enter,i,{config:o})},target:this,data:e},{cb:this.onNextRecommendFlow.bind(this)})}break;case r.Common.RecommendFlowStep.insertAd:this.isFirstFlow||l.emit(a.Common.SDKEvent.showInsertAd),setTimeout((function(){n.onNextRecommendFlow()}),0);break;case r.Common.RecommendFlowStep.bigPage:l.once(a.Common.RecommendEvent.closeBigPage,this.onNextRecommendFlow,this),l.emit(a.Common.RecommendEvent.showBigPage,{config:e});break;case r.Common.RecommendFlowStep.middlePage:l.once(a.Common.RecommendEvent.closeMiddlePage,this.onNextRecommendFlow,this),l.emit(a.Common.RecommendEvent.showMiddlePage,{config:e});break;case r.Common.RecommendFlowStep.littlePage:l.once(a.Common.RecommendEvent.closeLittlePage,this.onNextRecommendFlow,this),l.emit(a.Common.RecommendEvent.showLittlePage,{config:e});break;default:console.error("游戏导流节点未做处理：",o)}},o.getFirstCfg=function(o,e){if(void 0===e&&(e=!1),!e)return o;var n={};return Object.assign(n,o),n[r.Common.RecommendFlowConfig.mode]=1,n[r.Common.RecommendFlowConfig.resultBannerShowDelay]=0,n},o.getTouchBannerUI=function(o){var e=o.zadanstyle;return void 0===e?e="123":"number"==typeof e&&(e=e.toString()),"z"!==e&&"0"!==e||(e="123"),"TouchBannerUI"+e[Math.floor(Math.random()*(e.length-1e-4))]},o.onVideoSuccess=function(){this.onNextRecommendFlow()},o.onVideoFail=function(){this.onNextRecommendFlow()},o.onVideoQuit=function(){this.onNextRecommendFlow()},o.showInitScene_RecommendDialog=function(){if(o.getGlobalConfig("indexalertkaiguan")&&this.recommendFlowConfig&&this.recommendFlowConfig[f.InitScene_RecommendDialog]){var e=this.recommendFlowConfig[f.InitScene_RecommendDialog][r.Common.RecommendFlowStep.dialog];l.emit(a.Common.RecommendEvent.showRecommendDialog,{config:e})}},o.onClickRecommendItem=function(){l.emit(a.Common.ALDEvent.clickGame,this.curGameFlowStep,this.curRecommendStep)},o.onNavigateFail=function(o){this.isNavigating=!1,this.navigateFailToLittlePage&&this.enteredLobby&&(o&&o.locationid==t.AdID.bigView||o&&o.locationid==t.AdID.middleView||o&&o.locationid==t.AdID.littleView||l.emit(a.Common.RecommendEvent.showLittlePage))},o.onNavigateSuccess=function(){this.isNavigating=!0},o.onBannerShowSuccess=function(){this.bannerActive=!0},o.onBannerShowFail=function(o){this.bannerActive=!1,this.showRecommendInsteadBanner(o),l.emit(a.Common.SDKEvent.showBannerSuccess)},o.showRecommendInsteadBanner=function(o){console.log("GameFlow.showRecommendInsteadBanner.hideBanner"),l.emit(a.Common.SDKEvent.hideBanner);var e=c.get(r.Common.GlobalDataType.canvasTransform);if(e.width>e.height){var n={};if(o){switch(o.horizontal){case"left":n.left=20;break;case"middle":n.horizontalCenter=!0;break;case"right":n.right=20;break;default:n.horizontalCenter=!0}void 0!==o.top?n.top=o.top:void 0!==o.bottom?n.bottom=o.bottom:n.bottom=20}else n.horizontalCenter=!0,n.bottom=20;n.width=600,n.height=170,l.emit(a.Common.RecommendEvent.showInsteadBannerRecommend,{name:"RecommendBanner_H",AdID:"friend",itemType:"icon",widget:n})}else l.emit(a.Common.RecommendEvent.showInsteadBannerRecommend,{name:"RecommendBanner_H",AdID:"friend",itemType:"icon",widget:{left:0,right:0,bottom:20,height:170}})},o.onHideBanner=function(){this.bannerActive=!1},o.onGameShow=function(){this.isNavigating?(l.emit(a.Common.ALDEvent.jumpGame,this.curGameFlowStep,this.curRecommendStep),this.isNavigating=!1):this.bannerActive&&l.emit(a.Common.ALDEvent.touchBanner,this.curGameFlowStep,this.curRecommendStep)},o.onGameHide=function(){},o}());i(w,"isFirstFlow",!0),i(w,"recommendFlowConfig",void 0),i(w,"curRecommendFlowConfig",void 0),i(w,"recommendFlowSequence",void 0),i(w,"levelToResultRecommendFlowSequence",void 0),i(w,"recommendFlowPtr",void 0),i(w,"curRecommendStep",void 0),i(w,"curGameFlowStep",void 0),i(w,"targetGameFlowStep",void 0),i(w,"targetGameFlowData",void 0),i(w,"globalConfig",{}),i(w,"navigateFailToLittlePage",!1),i(w,"enteredLobby",!1),i(w,"recommendInsteadBanner",!1),i(w,"storageConfig",void 0),i(w,"recommendUIConfig",void 0),i(w,"isNavigating",!1),i(w,"bannerActive",!1);var f={InitScene_RecommendDialog:"loading",RecommendDialog_GameLobby:"alert",GameLobby_Level:"index",Level_AwardUI:"game",Level_WinUI:"game",Level_LoseUI:"game",AwardUI_RecommendDialog:"success",WinUI_RecommendDialog:"success",LoseUI_RecommendDialog:"fail",WinUI_Level:"nextlevel",LoseUI_Level:"nextlevel"};e._RF.pop()}}}));

System.register("chunks:///_virtual/HeyGamePlatform.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts","./GameNativeAd.ts","./FinishNativeAd.ts"],(function(e){"use strict";var i,n,t,a,o,d,s,m;return{setters:[function(e){i=e.cclegacy,n=e._decorator},function(e){t=e.defineProperty,a=e.createClass},function(e){o=e.EventType},function(e){d=e.default},function(e){s=e.GameNativeAd},function(e){m=e.FinishNativeAd}],execute:function(){var A,v,h;i._RF.push({},"7c517tANpZHg4eAOOzH8GS1","HeyGamePlatform",void 0);var f=n.ccclass;e("default",f((h=v=function(){function e(){t(this,"gameNativeAd",null),t(this,"finishNativeAd",null),console.log("HeyGamePlatform constructor"),HeyGameConfig.HeyGameSDKConfig.instance.init()}var i=e.prototype;return i.init=function(e){void 0===e&&(e=null),e&&localStorage.setItem("hey_game_openId",e),HeyGameAdSDK.GameDataSDK.instance.initGameSDK(),HeyGameAdSDK.GameAdSDK.instance.initGameSDK((function(){HeyGameConfig.HeyGameSDKConfig.onVIVOMiniGame})),this.initGameSDK()},i.initGameSDK=function(){(HeyGameConfig.HeyGameSDKConfig.onOPPOMiniGame||HeyGameConfig.HeyGameSDKConfig.onVIVOMiniGame||HeyGameConfig.HeyGameSDKConfig.onMobile||HeyGameConfig.HeyGameSDKConfig.onPC)&&(this.gameNativeAd=new s,this.finishNativeAd=new m)},i.initAdSDK=function(e,i){void 0===i&&(i=null),(HeyGameConfig.HeyGameSDKConfig.onOPPOMiniGame||HeyGameConfig.HeyGameSDKConfig.onVIVOMiniGame||HeyGameConfig.HeyGameSDKConfig.onMobile||HeyGameConfig.HeyGameSDKConfig.onPC)&&(this.gameNativeAd.initNativeStyle(i),this.gameNativeAd.addNodeToParent(e),this.finishNativeAd.initNativeStyle(i),this.finishNativeAd.addNodeToParent(e))},i.showGameNativeAd=function(e,i,n,t){var a=this;void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),(HeyGameConfig.HeyGameSDKConfig.onVIVOMiniGame||HeyGameConfig.HeyGameSDKConfig.onTTMiniGame)&&HeyGameAdSDK.GameAdSDK.SDK.isOpen&&HeyGameAdSDK.GameAdSDK.SDK.showInsertAd(201),this.gameNativeAd?(this.gameNativeAd.isStopAutoShowNativeAd=!1,this.gameNativeAd.bgBtn&&(this.gameNativeAd.bgBtn.off("click"),this.gameNativeAd.bgBtn=null),this.gameNativeAd.viewAdBtn&&(this.gameNativeAd.viewAdBtn.off("click"),this.gameNativeAd.viewAdBtn=null),this.gameNativeAd.bgBtn=i,this.gameNativeAd.bgBtn&&this.gameNativeAd.bgBtn.on("click",(function(e){a.gameNativeAd.onNativeAdClick()}),this),this.gameNativeAd.viewAdBtn=n,this.gameNativeAd.viewAdBtn&&this.gameNativeAd.viewAdBtn.on("click",(function(e){a.gameNativeAd.onNativeAdClick()}),this),this.gameNativeAd.showNativeAd(e,t)):HeyGameAdSDK.GameAdSDK.SDK.showBannerAd(105)},i.hideGameNativeAd=function(){this.gameNativeAd&&this.gameNativeAd.hideNativeAd(!0)},i.showFinishNativeAd=function(e,i,n,t){var a=this;void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),this.hideGameNativeAd(),this.finishNativeAd&&(this.finishNativeAd.bgBtn&&(this.finishNativeAd.bgBtn.off("click"),this.finishNativeAd.bgBtn=null),this.finishNativeAd.viewAdBtn&&(this.finishNativeAd.viewAdBtn.off("click"),this.finishNativeAd.viewAdBtn=null),this.finishNativeAd.bgBtn=i,this.finishNativeAd.bgBtn&&(this.finishNativeAd.bgBtn.active=!1,this.finishNativeAd.bgBtn.on("click",(function(e){a.finishNativeAd.onNativeAdClick()}),this)),this.finishNativeAd.viewAdBtn=n,this.finishNativeAd.viewAdBtn&&(this.finishNativeAd.viewAdBtn.active=!1,this.finishNativeAd.viewAdBtn.on("click",(function(e){a.finishNativeAd.onNativeAdClick()}),this)),this.finishNativeAd.showNativeAd(e,t))},i.hideFinishNativeAd=function(){this.finishNativeAd&&this.finishNativeAd.hideNativeAd()},i.addIconToDesktop=function(e){console.log("addIconToDesktop"),HeyGameAdSDK.GameAdSDK.SDK.hasShortcutInstalled((function(i){i?e(!1):HeyGameAdSDK.GameAdSDK.SDK.installShortcutIcon((function(i){i?HeyGameAdSDK.GameAdSDK.SDK.hasShortcutInstalled((function(i){e(i)})):e(!1)}))}))},i.showMoreGame=function(){var e=this;HeyGameAdSDK.GameAdSDK.SDK.showPlatformDrawerGameAd((function(i){i?(HeyGameAdSDK.GameAdSDK.SDK.hideBannerAd(),e.gameNativeAd&&e.gameNativeAd.hideNativeAd(!0)):e.gameNativeAd&&(e.gameNativeAd.isStopAutoShowNativeAd=!1,e.gameNativeAd.showNativeAd())}))},i.showFinishGameBannerAd=function(){HeyGameAdSDK.GameAdSDK.SDK.showPlatformBannerGameAd()},i.hideFinishGameBannerAd=function(){HeyGameAdSDK.GameAdSDK.SDK.hidePlatformBannerGameAd()},i.startGameEvent=function(){console.log("startGameEvent"),HeyGameAdSDK.GameAdSDK.SDK.startGameEvent(this)},i.endGameEvent=function(){console.log("endGameEvent"),HeyGameAdSDK.GameAdSDK.SDK.endGameEvent(this)},i.onLevelBegin=function(e){HeyGameAdSDK.GameAdSDK.SDK.onBegin(""+(2e7+e))},i.onLevelCompleted=function(e){HeyGameAdSDK.GameAdSDK.SDK.onCompleted(""+(2e7+e))},i.onLevelFailed=function(e,i){var n={missionId:""+(2e7+e),isStop:i};HeyGameAdSDK.GameAdSDK.SDK.onFailed(n)},i.showInsertAd=function(e){HeyGameAdSDK.GameAdSDK.SDK.showInsertAd(e)},i.showVideoAd=function(e,i){void 0===e&&(e=300),HeyGameAdSDK.GameAdSDK.SDK.showVideoAd(e,(function(e){switch(e){case 0:i&&i(!0);break;case 1:i&&i(!1);break;case 2:default:i&&i(!1)}}),(function(e){e?HeyGameConfig.HeyGameSDKConfig.onVIVOMiniGame&&d.emit(o.Common.AudioEvent.pause):HeyGameConfig.HeyGameSDKConfig.onVIVOMiniGame&&d.emit(o.Common.AudioEvent.resume)}))},a(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}(),t(v,"_instance",void 0),A=h))||A);i._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponAtkDataTemplate.ts",["cc","./GlobalEnum.ts"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.GlobalEnum}],execute:function(){a._RF.push({},"829adxOY6xEV6cQVsFX2PZS","WeaponAtkDataTemplate",void 0);t("default",function(){function t(){}return t.getData=function(){return{knife:{atkScope:{type:e.AtkScopeType.fan,radius:2.5,halfRadian:.78},atkTime:{atkEnter:.2,atking:.24,atkEnd:.26,effectStart:-1,effectEnd:-1}},captain:{atkScope:{type:e.AtkScopeType.fan,radius:3,halfRadian:.78},atkTime:{atkEnter:.25,atking:.32,atkEnd:.38,effectStart:.38,effectEnd:0}},claw:{atkScope:{type:e.AtkScopeType.fan,radius:2.5,halfRadian:.5},atkTime:{atkEnter:.33,atking:.43,atkEnd:.5,effectStart:-1,effectEnd:0}},gun:{atkScope:{type:e.AtkScopeType.rect,halfWidth:.5,length:4},atkTime:{atkEnter:.165,atking:.23,atkEnd:.265,effectStart:.23,effectEnd:0}},hunter:{atkScope:{type:e.AtkScopeType.fan,radius:4,halfRadian:.3},atkTime:{atkEnter:.265,atking:.28,atkEnd:.315,effectStart:.28,effectEnd:0}},katana:{atkScope:{type:e.AtkScopeType.fan,radius:3.5,halfRadian:.5},atkTime:{atkEnter:.28,atking:.315,atkEnd:.35,effectStart:-1,effectEnd:0}}}},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GlobalEnum.ts","./GlobalData2.ts","./WeaponAtkDataTemplate.ts","./LevelDataTemplate.ts","./MapDataTemplate.ts"],(function(a){"use strict";var t,e,n,i,l,s,o;return{setters:[function(a){t=a.cclegacy},function(a){e=a.defineProperty},function(a){n=a.GlobalEnum},function(a){i=a.default},function(a){l=a.default},function(a){s=a.default},function(a){o=a.default}],execute:function(){t._RF.push({},"8b8f7V7UqZE24WpKssNCDL7","GameData",void 0);var r=a("default",function(){function a(){}return a.init=function(){this.data={},this.levelData={},this.data[n.GameDataType.levelData]=s.getData(),this.levelData=this.data[n.GameDataType.levelData],this.data[n.GameDataType.MapData]=o.getData(),this.data[n.GameDataType.WeaponAtkData]=l.getData()},a.setData=function(a,t){for(var e in n.GameDataType){var i=this.getUrlsIndex(n.GameDataType[e],t);i>=0?this.data[n.GameDataType[e]]=a[i].json:console.warn("数据类型不存在：",n.GameDataType[e])}for(var l in n.GameDataType){var s=n.GameDataType[l];if(this.data[s]&&Array.isArray(this.data[s])){for(var o=this.data[s],r={},D=o.length-1;D>=0;--D)r[o[D].id]=o[D];this.data[s]=r}}this.levelData=this.data[n.GameDataType.levelData]},a.getUrlsIndex=function(a,t){for(var e=t.length-1;e>=0;--e)if(t[e].indexOf(a)>=0)return e;return-1},a.processLevelData=function(a){return{levelData:[],scope:{xMin:0,xMax:0,yMin:0,yMax:0}}},a.addData=function(a,t){this.data[a]?console.warn("对应类型的数据已经存在，请检查类型是否重名:",a):this.data[a]=t},a.getData=function(a,t){return void 0===this.data[a]?(console.warn("不存在对应类型的数据：",a),null):void 0===t?this.data[a]:this.data[a][t]},a.getLevelData=function(a,t){var e=this;if(this.levelData[a])setTimeout((function(){t(e.levelData[a])}),0);else if(null!==this.levelData[a]){var l=i.get(n.myGlobalDataType.matchMap),s={id:a,lv:a,data:{maps:[{n:"map"+l,p:{x:0,y:0,z:0},m:{}}]}};this.levelData[a]=s,t(this.levelData[a])}else 1!==a&&(a=1,this.getLevelData(a,t))},a}());e(r,"data",{}),e(r,"levelData",{}),t._RF.pop()}}}));

System.register("chunks:///_virtual/QuadTree.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var i,e,s;return{setters:[function(t){i=t.cclegacy},function(t){e=t.createClass,s=t.defineProperty}],execute:function(){i._RF.push({},"8c7fa3biFJGS7CcXK/b4T+c","QuadTree",void 0);t("default",function(){function t(t,i,e,n,h,r){s(this,"root",null),s(this,"maxDepth",7),s(this,"maxCount",10),this.init(t,i,e,n,h,r)}var i=t.prototype;return i.init=function(t,i,e,s,n,h){n&&n>0&&(this.maxDepth=n),h&&h>0&&(this.maxCount=h),this.root?(this.root.reset(),this.root.set(t,i,e,s,this.maxDepth,this.maxCount)):this.root=o.get(t,i,e,s,this.maxDepth,this.maxCount)},i.createChildren=function(t){(void 0===t||t<0||t>this.maxDepth)&&(t=this.maxDepth),this.root.splitTo(t)},i.reset=function(){this.root&&this.root.reset()},i.removeObj=function(t,i){if(void 0===i){var e=t[h];if(e&&e>0){var s=a[i];if(s)return void s.removeObj(t)}}else{var n=a[i];if(n)return void n.removeObj(t)}this.root.removeObj(t)},i.insertObj=function(t){return this.root.insertObj(t)},i.getObjs=function(t){var i=[],e=r.getObjRect(t);return this.root.getObjs(e,i),i},i.getObjsByAABB=function(t){var i=[];return this.root.getObjs(t,i),i},t}());var n,h=t("treeNodeId","treeNodeId"),r=t("TreeNode",function(){function t(i,e,n,h,r,o,c){s(this,"_id",void 0),s(this,"parent",null),s(this,"children",null),s(this,"objs",void 0),s(this,"xMin",void 0),s(this,"xMax",void 0),s(this,"zMin",void 0),s(this,"zMax",void 0),s(this,"centerX",void 0),s(this,"centerY",void 0),s(this,"depth",void 0),s(this,"count",void 0),s(this,"maxDepth",7),s(this,"maxCount",10),this._id=t._autoId++,a[this.Id]=this,this.set(i,e,n,h,r,o,c)}var i=t.prototype;return i.set=function(t,i,e,s,n,h,r){this.xMin=t,this.xMax=i,this.zMin=e,this.zMax=s,this.centerX=.5*(this.xMin+this.xMax),this.centerY=.5*(this.zMin+this.zMax),this.maxDepth=n,this.maxCount=h,this.objs=[],this.count=0,this.parent=r,this.depth=r?r.depth+1:0},i.splitTo=function(t){if(!(this.depth>=t)){this.createChildren();for(var i=this.children.length-1;i>=0;--i)this.children[i].splitTo(t)}},i.split=function(){this.createChildren();var i=this.objs;this.objs=[],this.count=0;for(var e=i.length-1;e>=0;--e){var s=i[e],h=t.getObjRect(s),r=this.getArea(h);r!=n.self?this.children[r].insertIntoSelf(s):this.insertIntoSelf(s)}this.count=this.objs.length},i.createChildren=function(){if(!this.children){var t=this.centerX,i=this.centerY;this.children=[],this.children[n.area0]=o.get(t,this.xMax,i,this.zMax,this.maxDepth,this.maxCount,this),this.children[n.area1]=o.get(this.xMin,t,i,this.zMax,this.maxDepth,this.maxCount,this),this.children[n.area2]=o.get(this.xMin,t,this.zMin,i,this.maxDepth,this.maxCount,this),this.children[n.area3]=o.get(t,this.xMax,this.zMin,i,this.maxDepth,this.maxCount,this)}},i.removeObj=function(i){var e=t.getObjRect(i);if(this.children){var s=this.getArea(e);s==n.self?this.removeFromSelf(i):this.children[s].removeObj(i)}else this.removeFromSelf(i)},i.removeFromSelf=function(t){var i=this.objs.indexOf(t);i>=0&&(this.objs.splice(i,1),this.count--,t[h]=-1)},i.insertObj=function(t){return this.children?this.insertIntoChildren(t):this.objs.length<this.maxCount||this.depth>=this.maxDepth?this.insertIntoSelf(t):(this.split(),this.insertIntoChildren(t))},i.insertIntoChildren=function(i){var e=t.getObjRect(i),s=this.getArea(e);return s!=n.self?this.children[s].insertObj(i):this.insertIntoSelf(i)},i.getArea=function(t){if(!this.children)return n.self;if(t.xMin>=this.centerX){if(t.zMin>=this.centerY)return n.area0;if(t.zMax<=this.centerY)return n.area3}else if(t.xMax<=this.centerX){if(t.zMin>=this.centerY)return n.area1;if(t.zMax<=this.centerY)return n.area2}return n.self},i.insertIntoSelf=function(t){return this.objs.push(t),this.count++,t[h]=this.Id,this.Id},t.contain=function(t,i){return t.xMin<=i.xMin&&t.xMax>=i.xMax&&t.zMin<=i.zMin&&t.zMax>=i.zMax},t.getObjRect=function(t){return t.getAABB()},i.getObjs=function(i,e){if(t.cross(i,this)){for(var s=this.count-1;s>=0;--s)e.push(this.objs[s]);if(this.children){var h=this.getArea(i);if(h==n.self)for(var r=this.children.length-1;r>=0;--r)this.children[r].getObjs(i,e);else this.children[h].getObjs(i,e)}}},t.cross=function(t,i){return t.xMin<=i.xMax&&t.xMax>=i.xMin&&t.zMin<=i.zMax&&t.zMax>=i.zMin},i.reset=function(){this.parent=null;for(var t=this.objs.length-1;t>=0;--t)this.objs[t][h]=-1;if(this.objs=[],this.count=0,this.depth=0,this.children){var i=this.children;this.children=null;for(var e=i.length-1;e>=0;--e)o.put(i[e])}},e(t,[{key:"Id",get:function(){return this._id}}]),t}());s(r,"_autoId",1),function(t){t[t.area0=0]="area0",t[t.area1=1]="area1",t[t.area2=2]="area2",t[t.area3=3]="area3",t[t.self=4]="self"}(n||(n={}));var o=function(){function t(){}return t.get=function(t,i,e,s,n,h,o){if(this.nodes.length>0){var a=this.nodes.pop();return a.set(t,i,e,s,n,h,o),a}return new r(t,i,e,s,n,h,o)},t.put=function(t){t.reset(),this.nodes.push(t)},t}();s(o,"nodes",[]);var a={};i._RF.pop()}}}));

System.register("chunks:///_virtual/MapDataTemplate.ts",["cc"],(function(n){"use strict";var x;return{setters:[function(n){x=n.cclegacy}],execute:function(){x._RF.push({},"8d4a56qZlRCz5J7/y1arMvE","MapDataTemplate",void 0);n("default",function(){function n(){}return n.getData=function(){return{map0:{name:"map0",scope:{xMin:0,xMax:0,zMin:0,zMax:0},collider:[],playerPos:{x:0,y:0,z:0},portalPos:[],enemyPos:[{x:-13.58,y:0,z:7.22}],staticBarriers:[{n:"muxiang",p:{x:10,y:0,z:0},e:0,s:1}],dynamicBarriers:[{n:"muxiang",p:{x:-3.35,y:0,z:-.07},e:0,s:1}],breakBarriers:[]},map1:{name:"map1",playerPos:{x:0,y:0,z:0},portalPos:[],enemyPos:[{x:-13.58,y:0,z:7.22},{x:-7.55,y:0,z:-4.3},{x:-9.33,y:0,z:-.42},{x:14.55,y:0,z:2.29},{x:4.07,y:0,z:16.67},{x:6.01,y:0,z:9.63},{x:-3.65,y:0,z:3.94},{x:8.7,y:0,z:-4.09},{x:1.06,y:0,z:-5.71},{x:8.23,y:0,z:4.11},{x:14.72,y:0,z:9.26},{x:-9.59,y:0,z:3.92},{x:-4.83,y:0,z:-9.62},{x:-.4,y:0,z:-15.52},{x:7.33,y:0,z:-11.75},{x:13.43,y:0,z:-3.71},{x:18.09,y:0,z:3.34},{x:4.5,y:0,z:-1.73},{x:.74,y:0,z:8.89},{x:-1.08,y:0,z:18.72},{x:2.01,y:0,z:3.34},{x:-1.86,y:0,z:.43},{x:-5.06,y:0,z:10.38}],collider:[[10.8,14.02,14.18,20.22,18.12,21.26,24.29,16.41,25.05,10.74,23.28,5.91,17.11,4.67,11.37,6.15],[12.72,21.98,16.45,19.63,16.94,17.14,13.68,13.49,10.12,13.23,7.18,14.52,6.65,18.41,7.8,21.93],[-2.12,21.36,-1.3,23.74,.02,24.34,2.47,23.01,3.08,21.06,2.75,19.27,.66,18.46,-1.45,18.64],[-7.68,18.99,-5.25,20.3,-3.74,19.8,-2.76,16.9,-3.72,14.88,-5.33,13.69,-7.61,14.59,-9.17,16.3],[-7.16,15.72,-6.81,14.05,-7.36,13.24,-9.25,13.17,-10.28,14.08,-10.71,15.24,-9.78,16.44,-8.5,17.06],[-5.91,12.4,-7.15,12.45,-7.62,12.98,-7.34,14.33,-6.51,14.9,-5.62,15,-4.94,14.13,-4.72,13.11],[-20.86,14.89,-15.87,17.41,-12.83,16.32,-10.99,10.38,-13.04,6.34,-16.36,3.99,-20.94,5.95,-24.02,9.5],[-11.72,.02,-18.72,-6.29,-24.14,-5.86,-29.77,2.97,-28.22,10.45,-23.87,15.74,-15.55,14.58,-8.97,10.19],[-17.8,-5.65,-17.68,-9.95,-19.44,-11.71,-24.17,-11.04,-26.31,-8.29,-26.86,-5.22,-24,-2.67,-20.52,-1.68],[-17.36,-13.87,-15.22,-15.67,-15.12,-17.29,-17.49,-19.3,-19.76,-19.15,-21.5,-18.09,-21.49,-15.59,-20.47,-13.47],[-6.25,-11.68,-2.9,-14.54,-2.77,-17.07,-6.51,-20.22,-10.07,-19.96,-12.79,-18.26,-12.76,-14.34,-11.12,-11.03],[3.87,-19.56,4.02,-20.47,3.7,-20.89,2.68,-20.89,2.14,-20.37,1.94,-19.73,2.47,-19.11,3.18,-18.8],[6.71,-17.11,8.79,-16.71,9.78,-17.41,9.84,-19.77,8.68,-21.03,7.23,-21.54,5.76,-20.36,5.01,-18.75],[13.99,-11.95,16.9,-13.32,17.48,-15.09,15.43,-18.02,12.87,-18.52,10.63,-17.84,9.9,-15.07,10.42,-12.42],[20.7,-9.25,19.88,-8.82,19.73,-8.3,20.35,-7.48,21.1,-7.36,21.74,-7.58,21.92,-8.39,21.74,-9.15],[20.29,-1.45,21.86,2.61,24.18,3.56,28.34,1.08,29.25,-2.32,28.56,-5.4,24.89,-6.65,21.27,-6.21],[25.43,3.62,24.02,4.37,23.78,5.26,24.86,6.66,26.14,6.85,27.23,6.46,27.53,5.07,27.21,3.77],[-.1,-23.04,23.11,-16.3,12.82,-21.49],[23.07,-16.28,23.97,2.07,25.18,-7.16],[23.93,2.05,16.47,20.02,21.91,12.71],[16.46,19.96,.73,22.38,8.59,23.58],[.73,22.38,-15.86,16.58,-9.37,21.27],[-15.86,16.6,-26.74,-5.27,-22.64,8.18],[-26.73,-5.23,-21.23,-16.36,-25.62,-11.88],[-21.23,-16.36,-.13,-23.04,-11.36,-22.47]],staticBarriers:[],dynamicBarriers:[{n:"muxiang",p:{x:-4.58,y:0,z:-4.28},e:0,s:1},{n:"muxiang",p:{x:10.73,y:0,z:.74},e:0,s:1},{n:"muxiang",p:{x:3.3,y:0,z:12.76},e:0,s:1},{n:"nangua",p:{x:-5.62,y:0,z:6.18},e:0,s:1},{n:"nangua",p:{x:15.89,y:0,z:6},e:0,s:1},{n:"nangua",p:{x:3.82,y:0,z:-8.28},e:0,s:1},{n:"nangua",p:{x:-.58,y:0,z:15.33},e:0,s:1},{n:"nangua",p:{x:8.98,y:0,z:9.95},e:0,s:1},{n:"nangua",p:{x:-2.71,y:0,z:-4.09},e:0,s:1}],breakBarriers:[{n:"shitouhuang",p:{x:-7.56,y:0,z:7.53},e:0,s:1},{n:"shitouhuang",p:{x:5.37,y:0,z:4.7},e:0,s:1},{n:"shitouhuang",p:{x:1.08,y:0,z:-8.1},e:0,s:1},{n:"shugan1a",p:{x:-4.11,y:0,z:-5.59},e:0,s:1},{n:"TREE__cv12a",p:{x:-7.18,y:0,z:6.05},e:0,s:1},{n:"TREE__cv14a",p:{x:1.56,y:0,z:14.9},e:0,s:1},{n:"TREE__cv19a",p:{x:10,y:0,z:8.15},e:0,s:1},{n:"TREE__cv2hei",p:{x:4.86,y:0,z:2.05},e:0,s:1},{n:"TREE__cv8a",p:{x:2.24,y:0,z:-10.05},e:0,s:1},{n:"TREE__cv8a",p:{x:10.68,y:0,z:-.93},e:0,s:1}],scope:{xMin:-29.77,xMax:29.25,zMin:-24.34,zMax:23.04}},map2:{name:"map2",playerPos:{x:0,y:0,z:0},portalPos:[],enemyPos:[{x:2.86,y:0,z:16.25},{x:8.78,y:0,z:12.29},{x:18.66,y:0,z:9.26},{x:1.05,y:0,z:9.27},{x:12.78,y:0,z:5.85},{x:-14.46,y:0,z:7.57},{x:-5.56,y:0,z:4.34},{x:6.26,y:0,z:1.79},{x:19.08,y:0,z:.48},{x:-14.7,y:0,z:-.84},{x:-6.04,y:0,z:-3.64},{x:4.92,y:0,z:-5.21},{x:16.34,y:0,z:-5.54},{x:-9.04,y:0,z:-8.49},{x:0,y:0,z:-1.01},{x:11.21,y:0,z:-1.56},{x:6.42,y:0,z:7.6},{x:15.37,y:0,z:13.84},{x:11.83,y:0,z:-8.28},{x:-1.85,y:0,z:-7.3},{x:4.26,y:0,z:-14.46},{x:8.55,y:0,z:-11.36},{x:-1.61,y:0,z:-17.19}],collider:[[9.52,24.42,15.71,27.82,19.59,26.58,22.18,19.16,19.77,13.98,15.68,10.86,9.81,13.14,5.77,17.47],[-8.63,21.7,-4.52,21.76,-2.87,20.06,-3.56,15.55,-6.21,13.54,-9.16,13.05,-11.56,15.82,-12.45,19.15],[-14.11,-14.34,-8.55,-10.71,-4.83,-11.6,-1.89,-18.36,-3.78,-23.39,-7.38,-26.6,-13.04,-24.88,-17.14,-21.1],[-12.01,10.46,-16.36,3.84,-20.86,3.03,-27.31,9.02,-27.65,15.42,-25.24,20.66,-18.23,21.49,-11.94,19.31],[-20.69,-3.05,-17.87,-9.54,-19.46,-13.3,-27.1,-15.19,-32.05,-12.31,-34.78,-7.94,-31.97,-2.3,-27.26,1.33],[-.3,-20.95,21.17,-14.95,11.75,-20.89],[21.2,-14.96,22.01,1.63,25.39,-7.09],[22,1.68,15.06,18.27,22.88,12.14],[14.93,18.33,.4,20.43,8.24,22.51],[.44,20.47,-14.41,15.16,-8.78,20.82],[-14.49,15.17,-24.47,-4.9,-23.3,10.2],[-24.43,-4.86,-19.48,-15.02,-26.42,-11.58],[-19.52,-15.05,-.05,-21.16,-11.17,-22.99]],staticBarriers:[],dynamicBarriers:[{n:"muxiang",p:{x:-18.81,y:0,z:.29},e:0,s:1},{n:"muxiang",p:{x:-17.76,y:0,z:.29},e:0,s:1},{n:"muxiang",p:{x:-16.78,y:0,z:.29},e:0,s:1},{n:"muxiang",p:{x:-17.89,y:0,z:1.33},e:0,s:1},{n:"muxiang",p:{x:9.23,y:0,z:-5.07},e:0,s:1},{n:"muxiang",p:{x:-4.05,y:0,z:7.45},e:0,s:1},{n:"nangua",p:{x:-1.2,y:0,z:-13.38},e:0,s:1},{n:"nangua",p:{x:3.2,y:0,z:-12.22},e:0,s:1},{n:"nangua",p:{x:16.78,y:0,z:-2.51},e:0,s:1},{n:"nangua",p:{x:-10.96,y:0,z:5.14},e:0,s:1},{n:"nangua",p:{x:-.95,y:0,z:2.49},e:0,s:1},{n:"nangua",p:{x:.59,y:0,z:2.49},e:0,s:1},{n:"nangua",p:{x:2.09,y:0,z:2.49},e:0,s:1},{n:"nangua",p:{x:12.29,y:0,z:9.68},e:0,s:1},{n:"nangua",p:{x:-10.45,y:0,z:-4.73},e:0,s:1},{n:"nangua",p:{x:14.23,y:0,z:2.31},e:0,s:1}],breakBarriers:[{n:"shitouhuang",p:{x:-13.88,y:0,z:10.21},e:0,s:1},{n:"shitouhuang",p:{x:-.26,y:0,z:13.9},e:0,s:1},{n:"shitouhuang",p:{x:4.9,y:0,z:12.46},e:0,s:1},{n:"shitouhuang",p:{x:14.38,y:0,z:-7.83},e:0,s:1},{n:"shitouhuang",p:{x:13.31,y:0,z:-5.66},e:0,s:1},{n:"shitouhuang",p:{x:7.44,y:0,z:-2.6},e:0,s:1},{n:"shitouhuang",p:{x:-.95,y:0,z:-5.31},e:0,s:1},{n:"shitouhuang",p:{x:-1.01,y:0,z:-3.7},e:0,s:1},{n:"shitouhuang",p:{x:2.14,y:0,z:-5.32},e:0,s:1},{n:"TREE",p:{x:16.48,y:0,z:7.6},e:-95.583,s:1},{n:"TREE__cv11huang",p:{x:-5.73,y:0,z:-10.8},e:0,s:1},{n:"TREE__cv12a",p:{x:6.72,y:0,z:14.93},e:0,s:1},{n:"TREE__cv13alv",p:{x:-7.42,y:0,z:-.28},e:0,s:1},{n:"TREE__cv16huang",p:{x:-6.39,y:0,z:-6.61},e:0,s:1},{n:"TREE__cv18lv",p:{x:-7.17,y:0,z:8.12},e:0,s:1},{n:"TREE__cv1lv",p:{x:-12.63,y:0,z:4.78},e:0,s:1},{n:"TREE__cv3huang",p:{x:1.59,y:0,z:-17.56},e:0,s:1},{n:"TREE__cv6huang",p:{x:9.93,y:0,z:2.94},e:0,s:1},{n:"TREE__cv8a",p:{x:14.83,y:0,z:-.62},e:0,s:1},{n:"tree2a",p:{x:-.8,y:0,z:5.78},e:0,s:1},{n:"tree3a",p:{x:-10.41,y:0,z:-6.6},e:0,s:1}],scope:{xMin:-34.78,xMax:25.39,zMin:-27.82,zMax:26.6}},map3:{name:"map3",playerPos:{x:0,y:0,z:0},portalPos:[],enemyPos:[{x:-11.5,y:0,z:18.08},{x:-3.98,y:0,z:11.88},{x:13.37,y:0,z:1.68},{x:-.26,y:0,z:19.54},{x:11.03,y:0,z:17.59},{x:-12.73,y:0,z:10.45},{x:-.75,y:0,z:-4.76},{x:4.21,y:0,z:13.61},{x:16.98,y:0,z:6.34},{x:14.14,y:0,z:11.15},{x:-18.27,y:0,z:4.29},{x:-16.89,y:0,z:-2.02},{x:-5.65,y:0,z:4.29},{x:2.09,y:0,z:7.14},{x:4.05,y:0,z:.66},{x:-14.43,y:0,z:-10.26},{x:-7.11,y:0,z:-1.55},{x:10.15,y:0,z:-10.22},{x:9.07,y:0,z:-3.78},{x:19.6,y:0,z:-3.11},{x:-12.12,y:0,z:-17.26},{x:-5.34,y:0,z:-14.41},{x:4.28,y:0,z:-12.17},{x:5.67,y:0,z:-17.26},{x:12.67,y:0,z:-17.26}],collider:[[-15.37,18.25,-17.07,15.39,-18.79,14.29,-18.18,21.67,-13.85,24.91,-10.59,22.68,-14.44,18.8],[21.62,7.97,21.81,9.07,23.5,9.84,29.08,-.22,25.63,-2.13,23.61,2.79,24.17,3.94,22.08,6.62],[8.39,22.39,6.88,22.64,6.36,23.35,13.26,25.34,14.19,22.22,12.34,22.33,11.61,23.19],[4.25,20.63,3.17,20.63,3.36,23.29,7.95,23.46,7.98,21.96,6.91,21.29,4.71,21.72],[14.08,21.08,13.42,22.82,13.57,23.44,19.63,22.19,19.36,13.32,18.85,13.24,16.15,17.89,15.46,19.89],[18.82,7.64,17.3,8.01,17.02,9.92,17.6,12.5,19.1,13.74,24.3,10.17,21.86,8.78,19.44,9.71],[31.34,-8.64,22.01,-8.28,21.18,-1.66,25.2,.77,27.05,.39],[9.46,-23.24,8.51,-22.5,16.04,-16.39,16.87,-17.37,14.74,-24.47],[-22.34,6.02,-23.17,6.3,-22.99,13.17,-17.78,16.15,-17.41,16],[-7.95,21.67,-11.13,22.41,-11.47,25.3,-.01,25.47,.42,22.32,-1.58,22.27,-6.56,22.1],[-22.19,-4.99,-25.08,-5.37,-26.5,4.95,-23.77,5.14,-23.44,2.23,-22.68,.88],[-15.91,-17.35,-17.95,-18.59,-22.2,-10.92,-20.02,-9.64,-16.69,-14.82],[-12.5,-23.51,-12.78,-21.46,-11.56,-20.65,-10.51,-20.58,-9.32,-21.01,-8.63,-19.84,-7.65,-19.84,-7.44,-21.11,-8.13,-23.62],[-13.42,-23.25,13.51,-23.42,-1.29,-29.37],[13.42,-23.42,26.94,.04,25.1,-14.21],[26.99,.02,13.39,23.41,25.49,14.31],[13.26,23.5,-13.29,23.33,-.53,29.57],[-13.23,23.34,-26.95,-.03,-26.86,15.21],[-27.16,0,-13.53,-23.24,-24.65,-13.93]],staticBarriers:[],dynamicBarriers:[{n:"muxiang",p:{x:-7.23,y:0,z:17.25},e:0,s:1},{n:"muxiang",p:{x:-16.29,y:0,z:-7.05},e:0,s:1},{n:"muxiang",p:{x:12.96,y:0,z:15.41},e:0,s:1},{n:"muxiang",p:{x:-13.8,y:0,z:13.59},e:0,s:1},{n:"muxiang",p:{x:-2.88,y:0,z:7.52},e:0,s:1},{n:"muxiang",p:{x:15.98,y:0,z:-5.04},e:0,s:1},{n:"muxiang",p:{x:-5.24,y:0,z:-11.6},e:0,s:1},{n:"nangua",p:{x:-11.97,y:0,z:-13.73},e:0,s:1},{n:"nangua",p:{x:-10.17,y:0,z:-13.63},e:0,s:1},{n:"nangua",p:{x:-8.06,y:0,z:-13.44},e:0,s:1},{n:"nangua",p:{x:-12.3,y:0,z:-11.84},e:0,s:1},{n:"nangua",p:{x:-10.49,y:0,z:-11.74},e:0,s:1},{n:"nangua",p:{x:-8.44,y:0,z:-11.48},e:0,s:1},{n:"nangua",p:{x:-7.04,y:0,z:7.66},e:0,s:1},{n:"nangua",p:{x:14.21,y:0,z:-11.6},e:0,s:1},{n:"nangua",p:{x:-2.7,y:0,z:14.2},e:0,s:1},{n:"nangua",p:{x:-.89,y:0,z:14.3},e:0,s:1},{n:"nangua",p:{x:1.22,y:0,z:14.49},e:0,s:1},{n:"nangua",p:{x:9.26,y:0,z:-.17},e:0,s:1},{n:"nangua",p:{x:-1.21,y:0,z:16.19},e:0,s:1}],breakBarriers:[{n:"shan5a",p:{x:8.71,y:0,z:12.72},e:0,s:1},{n:"shan7a",p:{x:-9.54,y:0,z:.95},e:0,s:1},{n:"shitou3a",p:{x:-.29,y:0,z:.34},e:0,s:1},{n:"shitou4a",p:{x:-3.5,y:0,z:4.52},e:0,s:1},{n:"shitou6a",p:{x:-5.78,y:0,z:-.6},e:0,s:1},{n:"shitouhuang",p:{x:16.32,y:0,z:-.81},e:0,s:1},{n:"shugan1a",p:{x:12.85,y:0,z:-8.39},e:0,s:1},{n:"TREE",p:{x:9.27,y:0,z:7.76},e:0,s:1},{n:"TREE__cv12a",p:{x:3.31,y:0,z:10.25},e:0,s:1},{n:"TREE__cv14a",p:{x:6.38,y:0,z:2.51},e:0,s:1},{n:"TREE__cv16huang",p:{x:-14.13,y:0,z:.24},e:0,s:1},{n:"TREE__cv19a",p:{x:9.2,y:0,z:-15.48},e:0,s:1},{n:"TREE__cv3huang",p:{x:-4.65,y:0,z:-5.8},e:0,s:1},{n:"tree1a",p:{x:-8.85,y:0,z:12.94},e:0,s:1},{n:"tree2a",p:{x:-11.25,y:0,z:-5.91},e:0,s:1},{n:"tree2a",p:{x:-4.88,y:0,z:-18.85},e:0,s:1},{n:"tree2a",p:{x:-20.01,y:0,z:-4.06},e:0,s:1},{n:"tree2a",p:{x:6.18,y:0,z:-9.34},e:0,s:1},{n:"tree2a",p:{x:4.01,y:0,z:-4.19},e:0,s:1},{n:"tree3a",p:{x:5.28,y:0,z:18.1},e:0,s:1}],scope:{xMin:-27.16,xMax:31.34,zMin:-29.57,zMax:29.37}},map4:{name:"map4",playerPos:{x:0,y:0,z:0},portalPos:[],enemyPos:[{x:-7.47,y:0,z:7.21},{x:6.19,y:0,z:9.29},{x:-11.92,y:0,z:1.56},{x:-3.83,y:0,z:2.68},{x:1.81,y:0,z:4.83},{x:5,y:0,z:.08},{x:-9.84,y:0,z:-3.26},{x:-4.05,y:0,z:-4.89},{x:2.11,y:0,z:-5.41},{x:4.56,y:0,z:-9.94}],collider:[[-11.03,4.61,-15.16,4.56,-8.21,16.22,2.58,13.45,-1.69,8.07,-8.43,8.03],[10.34,-8.87,6.05,-3.61,7.56,2.98,9.22,3.82,8.96,4.15,9.29,5.69,7.19,8.41,8.03,11.77,19.21,3.92],[-4.19,-17.62,-7.13,-14.01,-6.1,-9.65,-1.95,-7.54,2.24,-9.58,3.26,-14.05,.37,-17.64],[-13.86,-9.79,-15.47,-7.82,-14.96,-5.16,-12.62,-4.2,-10.2,-5.2,-9.78,-7.72,-11.34,-9.71],[-6.24,-13.03,6.38,-13.03,-.26,-16.93],[6.37,-13.04,14.13,-3.35,14.35,-10],[14.13,-3.33,11.15,8.91,15.22,3.71],[11.13,8.98,.11,14.26,7.22,14.07],[.05,14.32,-11.09,8.92,-7.82,14.13],[-11.11,8.89,-13.88,-3.45,-17.17,4.32],[-14,-3.59,-6.07,-12.79,-13.01,-10.03]],staticBarriers:[],dynamicBarriers:[{n:"muxiang",p:{x:-8.04,y:0,z:-.67},e:0,s:1},{n:"muxiang",p:{x:-6.97,y:0,z:-.49},e:0,s:1},{n:"muxiang",p:{x:-5.86,y:0,z:-.33},e:0,s:1},{n:"muxiang",p:{x:-6.73,y:0,z:-1.63},e:0,s:1},{n:"muxiang",p:{x:-7.12,y:0,z:.68},e:0,s:1},{n:"muxiang",p:{x:2.46,y:0,z:-8.45},e:0,s:1},{n:"muxiang",p:{x:3.76,y:0,z:-6.87},e:0,s:1},{n:"muxiang",p:{x:1.01,y:0,z:-7.12},e:0,s:1},{n:"muxiang",p:{x:6.38,y:0,z:6.89},e:0,s:1},{n:"muxiang",p:{x:4.17,y:0,z:7.43},e:0,s:1},{n:"muxiang",p:{x:-4.54,y:0,z:6.22},e:0,s:1},{n:"nangua",p:{x:-6.46,y:0,z:-6.21},e:0,s:1},{n:"nangua",p:{x:5.84,y:0,z:-6.25},e:0,s:1},{n:"nangua",p:{x:-.99,y:0,z:-1.37},e:0,s:1},{n:"nangua",p:{x:-7.96,y:0,z:8.8},e:0,s:1},{n:"nangua",p:{x:4.8,y:0,z:11.08},e:0,s:1}],breakBarriers:[{n:"shan5a",p:{x:1.8,y:0,z:.26},e:0,s:1},{n:"shan7a",p:{x:-8.11,y:0,z:3.59},e:0,s:1},{n:"shitou3a",p:{x:-2.29,y:0,z:.45},e:0,s:1},{n:"shitou4a",p:{x:-1.19,y:0,z:-4.95},e:0,s:1},{n:"shitouhuang",p:{x:-1.73,y:0,z:3.95},e:0,s:1},{n:"TREE__cv3huang",p:{x:-3.72,y:0,z:-1.65},e:0,s:1},{n:"TREE__cv3huang",p:{x:4.48,y:0,z:-3.94},e:-76.234,s:1},{n:"TREE__cv3huang",p:{x:-10.38,y:0,z:1.03},e:92.214,s:1},{n:"TREE__cv3huang",p:{x:.56,y:0,z:6.67},e:-156.919,s:1}],scope:{xMin:-17.17,xMax:19.21,zMin:-16.22,zMax:17.64}},map5:{name:"map5",playerPos:{x:0,y:0,z:0},portalPos:[],enemyPos:[{x:-7.47,y:0,z:7.21},{x:-1.82,y:0,z:10.67},{x:7.6,y:0,z:5.07},{x:-3.87,y:0,z:1.96},{x:2,y:0,z:3.92},{x:-3.56,y:0,z:-4.84},{x:1.33,y:0,z:-1.46},{x:6.18,y:0,z:-4.97},{x:.04,y:0,z:-6.8},{x:1.93,y:0,z:-9.7}],collider:[[-11.45,-8.64,-17.72,6.95,-13.35,12.25,-7.29,9.34,-5.81,2.85,-10.07,-2.5,-9.28,-5.95],[-5.44,10.28,-7.24,12.56,-1.5,15.33,-.86,12.51,-2.59,10.24],[4.83,9.93,3.65,11.41,4.01,13.36,9.38,12.7,11.65,8.35,7.36,8.31,6.1,9.89],[11.59,-6.03,7.37,-.71,8.86,5.8,10.64,6.75,10.86,8.01,11.93,8.51,16.67,.44],[4.36,-16.86,1.52,-13.23,2.56,-8.72,6.71,-6.74,10.89,-8.63,11.92,-13.25,9.03,-16.78],[-9.19,-14.52,-10.79,-12.52,-10.2,-10.04,-7.88,-8.93,-5.63,-10,-5.06,-12.55,-6.64,-14.53],[-6.24,-13.03,6.38,-13.03,-.26,-16.93],[6.37,-13.04,14.13,-3.35,14.35,-10],[14.13,-3.33,11.15,8.91,15.22,3.71],[11.13,8.98,.11,14.26,7.22,14.07],[.05,14.32,-11.09,8.92,-7.82,14.13],[-11.11,8.89,-13.88,-3.45,-17.17,4.32],[-14,-3.59,-6.07,-12.79,-13.01,-10.03]],staticBarriers:[],dynamicBarriers:[{n:"muxiang",p:{x:-8.93,y:0,z:3.68},e:0,s:1},{n:"muxiang",p:{x:-9.11,y:0,z:7.67},e:0,s:1},{n:"muxiang",p:{x:-3.76,y:0,z:12.32},e:0,s:1},{n:"muxiang",p:{x:-1.15,y:0,z:12.03},e:0,s:1},{n:"muxiang",p:{x:9.69,y:0,z:7.18},e:0,s:1},{n:"muxiang",p:{x:1.87,y:0,z:-12.29},e:0,s:1},{n:"muxiang",p:{x:-6.65,y:0,z:-10.21},e:0,s:1},{n:"muxiang",p:{x:-.72,y:0,z:.09},e:0,s:1},{n:"nangua",p:{x:1.92,y:0,z:-4.72},e:0,s:1},{n:"nangua",p:{x:-1.64,y:0,z:-2.8},e:0,s:1},{n:"nangua",p:{x:3.18,y:0,z:.83},e:0,s:1},{n:"nangua",p:{x:-5.27,y:0,z:4.61},e:0,s:1},{n:"nangua",p:{x:-6.01,y:0,z:.02},e:0,s:1},{n:"nangua",p:{x:-3.49,y:0,z:4.47},e:0,s:1},{n:"nangua",p:{x:-4.12,y:0,z:6.71},e:0,s:1},{n:"nangua",p:{x:.02,y:0,z:8.09},e:0,s:1},{n:"nangua",p:{x:-3.32,y:0,z:-8.57},e:0,s:1}],breakBarriers:[{n:"shitouhuang",p:{x:-1.73,y:0,z:3.95},e:0,s:1},{n:"shitouhuang",p:{x:4.05,y:0,z:5.84},e:0,s:1},{n:"shitouhuang",p:{x:-3.46,y:0,z:9.53},e:0,s:1},{n:"shitouhuang",p:{x:-.94,y:0,z:-8.92},e:0,s:1},{n:"shitouhuang",p:{x:5.59,y:0,z:-8.26},e:0,s:1},{n:"TREE__cv18lv",p:{x:-4.23,y:0,z:-6.67},e:0,s:1},{n:"TREE__cv1lv",p:{x:9.43,y:0,z:4.21},e:0,s:1},{n:"TREE__cv1lv",p:{x:-6.54,y:0,z:2.36},e:0,s:1},{n:"TREE__cv1lv",p:{x:5.14,y:0,z:-1.01},e:0,s:1},{n:"tree1a",p:{x:-.17,y:0,z:2.04},e:0,s:1},{n:"tree2a",p:{x:-3.88,y:0,z:-1.75},e:0,s:1},{n:"tree3a",p:{x:2.98,y:0,z:-7.93},e:0,s:1},{n:"tree3a",p:{x:-7.85,y:0,z:1.07},e:-68.996,s:1}],scope:{xMin:-17.72,xMax:16.67,zMin:-15.33,zMax:16.93}},map6:{name:"map6",playerPos:{x:0,y:0,z:0},portalPos:[],enemyPos:[{x:-.43,y:0,z:10.54},{x:-11.24,y:0,z:7.08},{x:-4.34,y:0,z:4.07},{x:3.34,y:0,z:5.19},{x:10.75,y:0,z:6.34},{x:-7.66,y:0,z:-1.07},{x:-.18,y:0,z:-.39},{x:7.29,y:0,z:1.03},{x:-4.69,y:0,z:-6.26},{x:3.52,y:0,z:-7.37}],collider:[[-9.92,.19,-14.58,-3.89,-16.7,7.75,-9.47,9.62,-7.51,8.31],[8.94,5.41,8.79,10.92,8.28,10.94,5.93,11.95,14.78,12.48,13.85,3.92],[-2.39,-12.03,-2.3,-13.96,-10.41,-11.77,-9.05,-9.06,-5.07,-9.65],[8.09,-12.3,8.5,-10.1,11.5,-9.78,13.72,-10.91],[-4.93,10.24,-5.92,10.27,-5.42,12.48,-4.14,11.5,-3.94,10.76],[-.21,-12.85,13,-9.14,7.51,-13.79],[13,-9.15,13.61,1.14,16.39,-4.05],[13.61,1.12,9.32,11.15,15.23,6.81],[9.26,11.16,.58,12.59,5.33,13.88],[.59,12.59,-8.89,9.24,-5.36,12.87],[-8.88,9.23,-14.98,-2.92,-15.1,5.78],[-14.97,-2.89,-11.9,-9.29,-16.05,-7.46],[-11.91,-9.3,-.2,-12.91,-7.6,-13.85]],staticBarriers:[],dynamicBarriers:[{n:"muxiang",p:{x:-8.93,y:0,z:3.68},e:0,s:1},{n:"muxiang",p:{x:-12.24,y:0,z:4.64},e:0,s:1},{n:"muxiang",p:{x:2.53,y:0,z:10.66},e:0,s:1},{n:"muxiang",p:{x:5.73,y:0,z:9.33},e:0,s:1},{n:"muxiang",p:{x:11.65,y:0,z:2.72},e:0,s:1},{n:"muxiang",p:{x:11.22,y:0,z:-2.34},e:0,s:1},{n:"muxiang",p:{x:3.33,y:0,z:-10.82},e:0,s:1},{n:"muxiang",p:{x:-1.26,y:0,z:-10.82},e:0,s:1},{n:"muxiang",p:{x:-5.89,y:0,z:-8.64},e:0,s:1},{n:"muxiang",p:{x:.72,y:0,z:-4.69},e:0,s:1},{n:"nangua",p:{x:-6.56,y:0,z:6.31},e:0,s:1},{n:"nangua",p:{x:-5.12,y:0,z:6.31},e:0,s:1},{n:"nangua",p:{x:-3.62,y:0,z:6.31},e:0,s:1},{n:"nangua",p:{x:4.05,y:0,z:1.78},e:0,s:1},{n:"nangua",p:{x:5.23,y:0,z:-3.61},e:0,s:1},{n:"nangua",p:{x:-3.89,y:0,z:-3.87},e:0,s:1},{n:"nangua",p:{x:-.21,y:0,z:-8.62},e:0,s:1}],breakBarriers:[{n:"shitouhuang",p:{x:.35,y:0,z:7.79},e:0,s:1},{n:"shitouhuang",p:{x:4.37,y:0,z:7.82},e:0,s:1},{n:"shitouhuang",p:{x:-8.58,y:0,z:1.86},e:0,s:1},{n:"shitouhuang",p:{x:-1.9,y:0,z:-6.57},e:0,s:1},{n:"shitouhuang",p:{x:6.71,y:0,z:-8.04},e:0,s:1},{n:"TREE",p:{x:-1.87,y:0,z:2.03},e:0,s:1},{n:"TREE__cv12a",p:{x:-6.56,y:0,z:-3.31},e:0,s:1},{n:"TREE__cv12a",p:{x:10.96,y:0,z:-.46},e:61.147,s:1},{n:"TREE__cv12a",p:{x:4.22,y:0,z:10.86},e:-82.181,s:1},{n:"TREE__cv12a",p:{x:5.67,y:0,z:-6.88},e:0,s:1},{n:"TREE__cv14a",p:{x:-4.46,y:0,z:-1.02},e:0,s:1},{n:"TREE__cv14a",p:{x:-1.16,y:0,z:5.18},e:0,s:1},{n:"TREE__cv19a",p:{x:2.13,y:0,z:-2.3},e:0,s:1},{n:"TREE__cv19a",p:{x:5.61,y:0,z:3.67},e:-59.052,s:1},{n:"TREE__cv8a",p:{x:-5.44,y:0,z:8.15},e:0,s:1},{n:"TREE__cv8a",p:{x:8.45,y:0,z:6.34},e:-87.567,s:1}],scope:{xMin:-16.7,xMax:16.39,zMin:-13.88,zMax:13.96}}}},n}());x._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,s;return{setters:[function(e){t=e.cclegacy},function(e){n=e.defineProperty,s=e.createClass}],execute:function(){t._RF.push({},"923b3ZTA9BPFb6bNUNyeF3N","EventManager",void 0);var i=e("default",function(){function e(){}return e.on=function(e,t,n){this.events.hasOwnProperty(e)||(this.events[e]=[]);for(var s=this.events[e].length-1;s>=0;--s)if(this.events[e][s].equal(t,n))return null;var i=new r(t,n);return this.events[e].push(i),i},e.once=function(e,t,n){this.onceEvents.hasOwnProperty(e)||(this.onceEvents[e]=[]);for(var s=this.onceEvents[e].length-1;s>=0;--s)if(this.onceEvents[e][s].equal(t,n))return null;var i=new r(t,n);return this.onceEvents[e].push(i),i},e.off=function(e,t,n){if(!t)return this.events[e]=[],void(this.onceEvents[e]=[]);if(t instanceof r){if(this.events.hasOwnProperty(e))for(var s=this.events[e].length-1;s>=0;--s)if(this.events[e][s].id==t.id){this.events[e].splice(s,1);break}if(this.onceEvents.hasOwnProperty(e))for(var i=this.onceEvents[e].length-1;i>=0;--i)if(this.onceEvents[e][i].id==t.id){this.onceEvents[e].splice(i,1);break}}else{if(this.events.hasOwnProperty(e))for(var o=this.events[e].length-1;o>=0;--o)if(this.events[e][o].equal(t,n)){this.events[e].splice(o,1);break}if(this.onceEvents.hasOwnProperty(e))for(var h=this.onceEvents[e].length-1;h>=0;--h)if(this.onceEvents[e][h].equal(t,n)){this.onceEvents[e].splice(h,1);break}}},e.offGroup=function(e,t){if(this.events.hasOwnProperty(e))for(var n=t.length-1;n>=0;--n)for(var s=this.events[e].length-1;s>=0;--s)if(this.events[e][s].id==t[n].id){this.events[e].splice(s,1);break}if(this.onceEvents.hasOwnProperty(e))for(var i=t.length-1;i>=0;--i)for(var r=this.onceEvents[e].length-1;r>=0;--r)if(this.onceEvents[e][r].id==t[i].id){this.onceEvents[e].splice(r,1);break}},e.emit=function(e,t,n,s,i,r){if(this.events.hasOwnProperty(e))for(var o=this.events[e],h=o.length-1;h>=0;--h)void 0===t?o[h].cb.call(o[h].target):void 0===n?o[h].cb.call(o[h].target,t):o[h].cb.call(o[h].target,t,n);if(this.onceEvents.hasOwnProperty(e)){for(var v=this.onceEvents[e],c=v.length-1;c>=0;--c)void 0===t?v[c].cb.call(v[c].target):void 0===n?v[c].cb.call(v[c].target,t):v[c].cb.call(v[c].target,t,n);delete this.onceEvents[e]}},e}());n(i,"events",{}),n(i,"onceEvents",{});var r=e("Handler",function(){function e(t,s){n(this,"_id",void 0),n(this,"cb",void 0),n(this,"target",void 0),this._id=e.idCount++,this.target=s,this.cb=t}return e.prototype.equal=function(e,t){return this.target===t&&this.cb==e},s(e,[{key:"id",get:function(){return this._id}}]),e}());n(r,"idCount",0),t._RF.pop()}}}));

System.register("chunks:///_virtual/HeyGameOPPOSDK.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts","./SDK.ts","./GlobalData.ts","./HeyGamePlatform.ts"],(function(e){"use strict";var n,i,t,o,s,a,h,l,c,d;return{setters:[function(e){n=e.cclegacy},function(e){i=e.inheritsLoose,t=e.defineProperty,o=e.assertThisInitialized},function(e){s=e.EventType},function(e){a=e.default},function(e){h=e.default},function(e){l=e.NATIVE_AD_STYLE,c=e.NATIVE_AD_TYPE},function(e){d=e.default}],execute:function(){n._RF.push({},"952658LRsFCAo4NhpxXEjEG","HeyGameOPPOSDK",void 0);e("default",function(e){function n(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,t(o(n),"apiName","qg"),t(o(n),"sceneid",0),t(o(n),"channel_id",void 0),t(o(n),"curNativeAdType",null),n}i(n,e);var h=n.prototype;return h.init=function(e){this.api=window[this.apiName],d.instance.init(),a.emit(s.Common.SDKEvent.inited)},h.onEvents=function(){a.on(s.Common.SDKEvent.showMsg,this.showMessage,this),a.on(s.Common.SDKEvent.showVideo,this.showVideo,this),a.on(s.Common.SDKEvent.showInsertAd,this.showInterstitialAd,this),a.on(s.Common.SDKEvent.vibrateLong,this.onVibrateLong,this),a.on(s.Common.SDKEvent.vibrateShort,this.onVibrateShort,this),a.on(s.Common.SDKEvent.triggerGC,this.triggerGC,this),a.on(s.Common.SDKEvent.showNativeAd,this.showNativeAd,this),a.on(s.Common.SDKEvent.hideAllNativeAd,this.hideAllNativeAd,this),a.on(s.Common.SDKEvent.shareToFriends,this.shareToAnyOne,this),a.on(s.Common.SDKEvent.getTableIconState,this.getTableIconState,this),a.on(s.Common.SDKEvent.addTableIcon,this.addTableIcon,this),a.on(s.Common.HeyGameSDK.initAdNode,this.initAdSDK,this),a.on(s.Common.HeyGameSDK.showFinishGameBannerAd,this.showFinishGameBanner,this),a.on(s.Common.HeyGameSDK.hideFinishGameBannerAd,this.hideFinishGameBanner,this),a.on(s.Common.HeyGameSDK.clickNativeAd,this.onClickNativeAd,this),a.on(s.Common.ALDEvent.levelStart,this.onLevelStart,this),a.on(s.Common.ALDEvent.levelWin,this.onLevelWin,this),a.on(s.Common.ALDEvent.levelLose,this.onLevelLose,this),a.on(s.Common.ALDEvent.levelExit,this.onLevelExit,this),a.on(s.Common.HeyGameSDK.showMoreGame,this.showMoreGame,this)},h.initAdSDK=function(e){d.instance.initAdSDK(e,l.BIG_AD)},h.showVideoAd=function(e){var n=this;console.log("播放视频,301"),d.instance.showVideoAd(301,(function(e){e?n.onVideoSuccess():(n.onVideoQuit(),n.onVideoHide())}))},h.showBanner=function(e){},h.showInterstitialAd=function(e){console.log("显示插屏,201"),d.instance.showInsertAd(201)},h.showNativeAd=function(e){if(e.visible){switch(e.style){case l.BIG_AD:case l.BANNER_AD:break;case"BIG_AD":e.style=l.BIG_AD;break;case"BANNER_AD":e.style=l.BANNER_AD;break;default:return void console.warn("未定义的原生广告样式:",e.style)}switch(e.type){case"GAME":this.hideFinishNativeAd(),this.showGameNativeAd(e);break;case"FINISH":this.hideGameNativeAd(),this.showFinishNativeAd(e);break;default:return void console.warn("未定义的原生广告类型:",e.type)}}else this.hideAllNativeAd()},h.showGameNativeAd=function(e){console.log("显示游戏中原生广告",e),d.instance.showGameNativeAd(e.style,null,null,e.widget),this.curNativeAdType=c.GAME},h.hideGameNativeAd=function(){console.log("隐藏游戏中原生广告"),d.instance.hideGameNativeAd(),this.curNativeAdType=null},h.showFinishNativeAd=function(e){console.log("显示结算页原生广告"),d.instance.showFinishNativeAd(e.style,null,null,e.widget),this.curNativeAdType=c.FINISH},h.hideFinishNativeAd=function(){console.log("隐藏结算页原生广告"),d.instance.hideFinishNativeAd(),this.curNativeAdType=null},h.showFinishGameBanner=function(){console.log("显示结算页banner广告"),d.instance.showFinishGameBannerAd()},h.hideFinishGameBanner=function(){console.log("隐藏结算页banner广告"),d.instance.hideFinishGameBannerAd()},h.hideAllNativeAd=function(){this.hideFinishNativeAd(),this.hideGameNativeAd()},h.onClickNativeAd=function(){if(console.log("点击按钮查看原生广告 "+this.curNativeAdType),null!==this.curNativeAdType)switch(this.curNativeAdType){case c.GAME:d.instance.gameNativeAd&&d.instance.gameNativeAd.onNativeAdClick();break;case c.FINISH:d.instance.finishNativeAd&&d.instance.finishNativeAd.onNativeAdClick()}},h.onVibrateLong=function(){HeyGameAdSDK.GameAdSDK.SDK.vibrateLong()},h.onVibrateShort=function(){HeyGameAdSDK.GameAdSDK.SDK.vibrateShort()},h.getTableIconState=function(e){HeyGameAdSDK.GameAdSDK.SDK.hasShortcutInstalled((function(n){e(n)}))},h.addTableIcon=function(e,n){console.log("添加到桌面"),d.instance.addIconToDesktop((function(i){i?e():n&&n()}))},h.showMoreGame=function(){console.log("显示九宫格"),d.instance.showMoreGame()},h.onLevelStart=function(e){console.log("HEY_SDK收到关卡【开始】事件"),d.instance.onLevelBegin(e.lv),d.instance.startGameEvent()},h.onLevelWin=function(e){console.log("HEY_SDK收到关卡【胜利】事件"),d.instance.onLevelCompleted(e.lv),d.instance.endGameEvent()},h.onLevelLose=function(e){console.log("HEY_SDK收到关卡【失败】事件"),d.instance.onLevelFailed(e.lv,!1),d.instance.endGameEvent()},h.onLevelExit=function(e){console.log("HEY_SDK收到关卡【退出】事件"),d.instance.onLevelFailed(e.lv,!0)},n}(h));n._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData2.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.defineProperty}],execute:function(){e._RF.push({},"9b7f5ivRhVLHI3Ksq5fSQwC","GlobalData",void 0);var u=t("default",function(){function t(){}return t.get=function(t){return this.data[t]},t.set=function(t,e){this.data[t]=e},t}());n(u,"data",{}),e._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlatformType.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var t;e("GamePlatformType",void 0),a._RF.push({},"a0a33dEZ9RBsqUmmWr+YJ9q","GamePlatformType",void 0),function(e){e[e.PC=0]="PC",e[e.WX=1]="WX",e[e.TT=2]="TT",e[e.QQ=3]="QQ",e[e.OPPO=4]="OPPO",e[e.VIVO=5]="VIVO",e[e.XiaoMi=6]="XiaoMi",e[e.LeYou=7]="LeYou",e[e.DYB_QQ=8]="DYB_QQ",e[e.Blue_Android=9]="Blue_Android",e[e.Blue_IOS=10]="Blue_IOS",e[e.HeyGameOPPO=11]="HeyGameOPPO",e[e.HeyGameVIVO=12]="HeyGameVIVO"}(t||(t=e("GamePlatformType",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/CommonEnum.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var o,a,i,t,c,d,m,r,u,l,h,s,g,B,w,v;e("CommonEnum",void 0),n._RF.push({},"a8e95f63ChBYooqnlS/QEyx","CommonEnum",void 0),a=o||(o=e("CommonEnum",{})),function(e){e[e.startIndex=1e4]="startIndex",e[e.levelDataVersion=10001]="levelDataVersion",e[e.canvas=10002]="canvas",e[e.canvasTransform=10003]="canvasTransform",e[e.rootUI=10004]="rootUI",e[e.rootRecommond=10005]="rootRecommond",e[e.levelCamera=10006]="levelCamera"}(i||(i={})),a.GlobalDataType=i,function(e){e.item="RecommendItem",e.drawer="RecommendDrawer",e.banner="RecommendBanner",e.matrix="RecommendMatrix",e.primary="RecommendPrimary",e.primary_tt="RecommendPrimary_TT",e.btnCenter_tt="RecommendBtnCenter_TT",e.btnSide_tt="RecommendBtnSide_TT"}(t||(t={})),a.RecommendPrefab=t,function(e){e.iconNameBg="RecommendItem_iconNameBg",e.icon="RecommendItem_icon"}(c||(c={})),a.RecommendItemType=c,function(e){e[e.left=1]="left",e[e.right=2]="right"}(d||(d={})),a.RecommendDrawerType=d,function(e){e[e.pingpong=1]="pingpong",e[e.left=2]="left",e[e.right=3]="right"}(m||(m={})),a.RecommendBannerType=m,function(e){e.initScene="InitScene",e.recommendDialog="RecommendDialog",e.lobby="GameLobby",e.level="Level",e.award="AwardUI",e.win="WinUI",e.lose="LoseUI"}(r||(r={})),a.GameFlowStep=r,function(e){e.dialog="alert",e.video="shipin",e.touchBannerUI="zadan",e.insertAd="chaping",e.bigPage="daquandao",e.middlePage="zhongquandao",e.littlePage="xiaoquandao"}(u||(u={})),a.RecommendFlowStep=u,function(e){e.visible="kaiguan",e.mode="daochumode",e.count="cishu",e.touchBannerRandomMode="zadanmode",e.touchBannerClickCount="chuxian",e.touchBannerRepeatCount="chongfucishu",e.resultBannerShowDelay="chuxian",e.resultBtnMoveDelay="yidong",e.recommendBannerShowDelay="chuxian",e.recommendBannerHideDelay="xiaoshi",e.recommendBtnShowDelay="yanchishow",e.preClickCount="diaochu",e.shanPinShowBannerDelay="chuxian",e.shanPinShowBannerDelay2="chuxian2",e.shanPinHideBannerDelay="yidong",e.shanPinHideBannerDelay2="yidong2"}(l||(l={})),a.RecommendFlowConfig=l,function(e){e.hideJumpedGame="jumpedhidekaiguan",e.randomJumpGame="jumpedrandomkaiguan",e.clickGameRefreshMode="clickedbehavior",e.cancelJumpGameRefreshMode="canceledbehavior"}(h||(h={})),a.RecommendUIConfig=h,function(e){e.guoshen="gdtguoshenkaiguan",e.mustTouchBanner="zadanbidiankaiguan",e.levelTouchBanner="playingwuchucishu",e.autoRefreshBanner="switchbannerkaiguan",e.nowuchukaiguan="nowuchukaiguan",e.showVideoOnCancelVideoTog="autovideokaiguan",e.autoShowAppBox="boxadkaiguan",e.showNativeAdUI="rawadkaiguan",e.showNativeAdUICount="rawadcishu",e.nativeAdOPPOHideBtnClose="adclosekaiguan",e.nativeAdUIShowBtnScan="jumpadkaiguan",e.autoSelectVideoTog="videoselectkaiguan",e.levelShowBanner="playingspkaiguan",e.indexalertkaiguan="indexalertkaiguan"}(s||(s={})),a.GameFlowGlobalConfig=s,function(e){e[e.normal=1]="normal",e[e.recommend=2]="recommend",e[e.banner=3]="banner",e[e.moveButton=4]="moveButton",e[e.showBannerTwice=5]="showBannerTwice",e[e.showSingleRecommend=6]="showSingleRecommend",e[e.moveButtonFast=7]="moveButtonFast"}(g||(g={})),a.BannerTouchMode=g,function(e){e[e.base=0]="base",e[e.bannerToucher_recommendPage=1]="bannerToucher_recommendPage",e[e.bannerToucher_resultUI=2]="bannerToucher_resultUI",e[e.noneBannerButton=3]="noneBannerButton"}(B||(B={})),a.BannerTouchType=B,function(e){e[e.none=1]="none",e[e.touched=2]="touched"}(w||(w={})),a.CtrlState=w,function(e){e[e.showVideoBtn=7]="showVideoBtn",e[e.openVideoWindow=0]="openVideoWindow",e[e.closeVideoWindow=1]="closeVideoWindow",e[e.clickBtnVideo=2]="clickBtnVideo",e[e.videoQuit=3]="videoQuit",e[e.videoSuc=4]="videoSuc",e[e.getAward=5]="getAward",e[e.videoFail=6]="videoFail"}(v||(v={})),a.VideoSubType=v,n._RF.pop()}}}));

System.register("chunks:///_virtual/CommonGameConfig.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(i){"use strict";var t,n,o,e;return{setters:[function(i){t=i.cclegacy,n=i.sys},function(i){o=i.createClass,e=i.defineProperty}],execute:function(){t._RF.push({},"adf24pKBfVFoZ3UCJW+E7Fs","CommonGameConfig",void 0);var f=i("default",function(){function i(){}return i.initAudioConfig=function(){if(!this._audioConfig){var i=n.localStorage.getItem("audioConfig");this._audioConfig=i?JSON.parse(i):new r}},i.initDriveConfig=function(){if(!this._driveConfig){var i=n.localStorage.getItem("driveConfig");this._driveConfig=i?JSON.parse(i):new g}},o(i,null,[{key:"audioConfig",get:function(){return this.initAudioConfig(),this._audioConfig},set:function(i){this.initAudioConfig(),this._audioConfig.bgm=!!i.bgm,this._audioConfig.effect=!!i.effect,n.localStorage.setItem("audioConfig",JSON.stringify(this._audioConfig))}},{key:"driveConfig",get:function(){return this.initDriveConfig(),this._driveConfig},set:function(i){this.initDriveConfig(),this._driveConfig.vibrate=!!i.vibrate,n.localStorage.setItem("driveConfig",JSON.stringify(this._driveConfig))}}]),i}());e(f,"gameName","bxqcjy2"),e(f,"_audioConfig",null),e(f,"_driveConfig",null);var r=function(){e(this,"bgm",!0),e(this,"effect",!0)},g=function(){e(this,"vibrate",!0)};t._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalPool.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./yyComponent.ts"],(function(t){"use strict";var o,e,i,n,l;return{setters:[function(t){o=t.cclegacy,e=t.instantiate},function(t){i=t.defineProperty,n=t.createClass},function(t){l=t.default}],execute:function(){o._RF.push({},"ae615r/ewxBWItVZs4jX0Qa","GlobalPool",void 0);var s=t("default",function(){function t(){}return t.createPool=function(t,o,e){this.allPools.hasOwnProperty(t)||(this.allPools[t]=new a(o,e))},t.get=function(t,o){return this.allPools[t]?this.allPools[t].get(o):(console.error("未创建对应名称的对象池，获取实例失败：",t),null)},t.put=function(t,o){if(o||(o=t.name),!this.allPools[o]){var e=t.getComponent(o);return e&&e.unuse&&e.unuse(),void t.destroy()}this.allPools[o].put(t)},t.putAllChildren=function(t,o){if(void 0===o&&(o=!1),0!=t.children.length)if(o){var e=t.children[0].name;if(this.allPools[e])for(var i=this.allPools[e],n=t.children.length-1;n>=0;--n)i.put(t.children[n]);else for(var l=t.children.length-1;l>=0;--l){var s=t.children[l].getComponent(e);s&&s.unuse&&s.unuse(),t.children[l].destroy()}}else for(var r=t.children.length-1;r>=0;--r){var a=t.children[r];this.put(a)}},t.clear=function(t){if(t)this.allPools.hasOwnProperty(t)&&(this.allPools[t].clear(),delete this.allPools[t]);else{for(var o in this.allPools)this.allPools[o].clear();this.allPools={}}},t.getSize=function(t){return this.allPools[t]?this.allPools[t].count:0},t.preCreate=function(t,o){this.allPools[t]&&this.allPools[t].preCreate(o)},t}());i(s,"allPools",{});var r=t("customPoolScript","customPoolScript"),a=t("AutoNodePool",function(){function t(t,o){(i(this,"prefab",void 0),i(this,"scripteName",void 0),i(this,"pool",void 0),i(this,"_count",void 0),this.prefab=t,this.scripteName=o,o&&!t.data.getComponent(o))&&(t.data.getComponent(l)?this.scripteName=l:(console.warn("预制件"+t.name+"中不存在脚本："+o),this.scripteName=null));this.pool=[],this._count=0}var o=t.prototype;return o.get=function(t){if(this._count>0){var o=this.pool.pop();this._count--;var i=o[r];return i&&i.reuse&&i.reuse(t),o}var n=e(this.prefab);if(this.scripteName){var l=n.getComponent(this.scripteName);n[r]=l,l.init&&l.init(t)}return n},o.put=function(t){var o=t[r];o&&o.unuse&&o.unuse(),t.parent&&(t.removeFromParent(),this.pool.push(t),this._count++)},o.clear=function(){for(var t=this.pool.length-1;t>=0;--t){var o=this.pool[t],e=o[r];e&&e.unuse&&e.unuse(),o.destroy()}this.pool=[],this._count=0},o.preCreate=function(t){var o=t-this._count;if(!(o<=0))for(var i=0;i<o;++i){var n=e(this.prefab);if(this.scripteName){var l=n.getComponent(this.scripteName);n[r]=l,l.init&&l.init()}this.pool.push(n),this._count++}},n(t,[{key:"count",get:function(){return this._count}}]),t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/AdvertManager.ts",["cc","./AdConfig.ts","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts","./GamePlatformType.ts","./Loader.ts","./GamePlatform.ts"],(function(e){"use strict";var t,n,i,o,s,a,c,r,d;return{setters:[function(e){t=e.cclegacy,n=e.JsonAsset},function(e){i=e.AdConfig},function(e){o=e.defineProperty},function(e){s=e.EventType},function(e){a=e.default},function(e){c=e.GamePlatformType},function(e){r=e.default},function(e){d=e.default}],execute:function(){t._RF.push({},"af351BqYLlHHK5KW/3Kz+pN","AdvertManager",void 0);var u=e("default",function(){function e(){}return e.initSceneStack=function(){this.sceneStack=[]},e.resetSceneStack=function(){this.sceneStack=[]},e.initAdvertConfig=function(){var e=this,t="AdvertConfig";switch(d.Config.type){case c.PC:t+="_QQ";break;case c.WX:t+="_WX";break;case c.QQ:t+="_QQ";break;case c.OPPO:t+="_OPPO";break;case c.HeyGameOPPO:t+="_HeyGameOPPO";break;case c.HeyGameVIVO:t+="_HeyGameVIVO"}r.loadBundleRes("MainScene","JSONData/"+t,(function(t){t?e.advertConfig=t.json:console.error("广告配置文件加载失败，将无法显示部分场景的广告")}),n,!1)},e.getAdvertConfig=function(e){return this.advertConfig?this.advertConfig[e]:null},e.initCurAdvertState=function(){this.curAdvertState={}},e.resetCurAdvertState=function(){this.curAdvertState={}},e.init=function(){this.scheduledAdvert=!1,this.initAdvertConfig(),this.initCurAdvertState(),this.initSceneStack(),this.onEvents()},e.onEvents=function(){a.on(s.Common.UIEvent.entered,this.onEnterScene,this),a.on(s.Common.UIEvent.exited,this.onExitScene,this),a.on(s.Common.RecommendEvent.drawerStartOpen,this.onDrawerStartOpen,this),a.on(s.Common.RecommendEvent.drawerClosed,this.onDrawerClosed,this)},e.reset=function(){this.scheduledAdvert=!1,this.resetCurAdvertState(),this.resetSceneStack()},e.onEnterScene=function(e){if(null!=e&&(void 0!==this.getAdvertConfig(e)&&this.getCurScene()!=e)){for(var t=this.sceneStack.length-1;t>=0;--t)if(this.sceneStack[t]==e){this.sceneStack.splice(t,1);break}this.sceneStack.push(e),this.updateAdverts()}},e.getCurScene=function(){var e=this.sceneStack.length;return 0==e?null:this.sceneStack[e-1]},e.onExitScene=function(e){if(null!=e&&void 0!==this.getAdvertConfig(e)){if(this.getCurScene()==e)this.sceneStack.pop();else for(var t=this.sceneStack.length-1;t>=0;--t)if(this.sceneStack[t]==e){this.sceneStack.splice(t,1);break}this.updateAdverts()}},e.updateAdverts=function(){this.scheduledAdvert||(setTimeout(this.showCurSceneAdvert.bind(this),40),this.scheduledAdvert=!0)},e.showCurSceneAdvert=function(){this.scheduledAdvert=!1;for(var e=null,t=this.sceneStack.length-1;t>=0;--t){var n=this.sceneStack[t];if(e=this.getAdvertConfig(n))break}e&&(this.curAdvertState=e,console.log("UI队列：",this.sceneStack),this.processBannerConfig(e),this.processBlockAd(e),this.processNativeAd(e))},e.processBannerConfig=function(e){if(void 0!==e.banner&&e.banner.visble){var t=i.bannerID[e.banner.bannerID];t&&this.showBanner({id:t,style:e.banner.style})}else this.hideBanner()},e.showBanner=function(e){console.log("广告管理器：显示banner,",e),a.emit(s.Common.SDKEvent.showBanner,e)},e.hideBanner=function(){console.log("广告管理器：隐藏banner"),a.emit(s.Common.SDKEvent.hideBanner)},e.processBlockAd=function(e){console.log("积木广告：",e),e.blockAd&&e.blockAd.visble?this.showBlockAd(e.blockAd):this.hideBlockAd()},e.showBlockAd=function(e){console.log("广告管理器：显示积木广告",e),a.emit(s.Common.SDKEvent.showBlockAd,e)},e.hideBlockAd=function(){console.log("广告管理器：隐藏积木广告"),a.emit(s.Common.SDKEvent.hideBlockAd)},e.processNativeAd=function(e){if(void 0===e.nativeAd)return a.emit(s.Common.SDKEvent.hideAllNativeAd),void(this.curNativeAdData=null);null!==this.curNativeAdData&&this.curNativeAdData.type!==e.nativeAd.type&&a.emit(s.Common.SDKEvent.hideNativeAd,this.curNativeAdData.type),this.curNativeAdData=e.nativeAd,a.emit(s.Common.SDKEvent.showNativeAd,e.nativeAd)},e.onDrawerStartOpen=function(){null!==this.curNativeAdData&&a.emit(s.Common.SDKEvent.quickHideNativeAd,this.curNativeAdData.type)},e.onDrawerClosed=function(){null!==this.curNativeAdData&&a.emit(s.Common.SDKEvent.quickShowNativeAd,this.curNativeAdData)},e}());o(u,"sceneStack",void 0),o(u,"scheduledAdvert",void 0),o(u,"advertConfig",null),o(u,"curAdvertState",null),o(u,"curNativeAdData",null),t._RF.pop()}}}));

System.register("chunks:///_virtual/Action3dManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var i,n,e,r,o,s,a;return{setters:[function(t){i=t.cclegacy,n=t.v3,e=t.Sprite},function(t){r=t.defineProperty,o=t.createClass,s=t.inheritsLoose,a=t.assertThisInitialized}],execute:function(){var u;t("ActionMngType",void 0),i._RF.push({},"b26d3htEkFMfJARkhObfcES","Action3dManager",void 0),function(t){t.UI="UI",t.Level="Level"}(u||(u=t("ActionMngType",{})));var h=t("default",function(){function t(){r(this,"allActions",[]),this.allActions=[]}t.getMng=function(i){return this.allMngs[i]||(this.allMngs[i]=new t),this.allMngs[i]};var i=t.prototype;return i.update=function(t){for(var i=this.allActions.length-1;i>=0;--i){var n=this.allActions[i];if(n&&(n.update(t),n.finished)){var e=i;for(e>=this.allActions.length&&(e=this.allActions.length-1);e>=0;--e)if(this.allActions[e].Id==n.Id){this.allActions.splice(e,1);break}}}},i.runAction=function(t,i){this.stopAllActions(t),i.resetFinishState(),i.setTarget(t),this.allActions.push(i)},i.stopAllActions=function(t){for(var i=this.allActions.length-1;i>=0;--i)this.allActions[i].node==t&&this.allActions.splice(i,1)},t.delay=function(t){return new f(t)},t.moveTo=function(t,i,n,e){return new p(t,i,n,e)},t.moveBy=function(t,i,n,e){return new g(t,i,n,e)},t.jumpTo=function(t,i,n,e,r){return new d(t,i,n,e,r)},t.jumpBy=function(t,i,n,e,r){return new v(t,i,n,e,r)},t.scaleTo=function(t,i,n,e){return new y(t,i,n,e)},t.rotateTo=function(t,i,n,e){return new x(t,i,n,e)},t.rotateBy=function(t,i,n,e){return new z(t,i,n,e)},t.rotateTo2d=function(t,i){return new m(t,i)},t.rotateBy2d=function(t,i){return new b(t,i)},t.fadeTo=function(t,i){return new w(t,i)},t.fadeBy=function(t,i){return new T(t,i)},t.tweenTo=function(t,i,n,e){return void 0===e&&(e=!1),new A(t,i,n,e)},t.tweenBy=function(t,i,n,e){return void 0===e&&(e=!1),new V(t,i,n,e)},t.callFun=function(t,i,n){return new _(t,i,n)},t.thread=function(t,i){return new S(t,i)},t.sequence=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return new M(i)},t.spawn=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return new j(i)},t.repeatForever=function(t,i){return void 0===i&&(i=0),new I(t,i)},t.easeIn=function(t){return new F(t)},t.easeOut=function(t){return new C(t)},t.easeInOut=function(t){return new P(t)},t.easeOutIn=function(t){return new B(t)},t.easeExponentialIn=function(){return new k},t.easeExponentialOut=function(){return new E},t.easeExponentialInOut=function(){return new N},t.easeSinIn=function(){return new L},t.easeSinOut=function(){return new R},t.easeSinInOut=function(){return new J},t.easeSinOutIn=function(){return new q},t.easeElasticIn=function(t){return new U(t)},t.easeElasticOut=function(t){return new D(t)},t.easeElasticInOut=function(t){return new H(t)},t.easeBounceIn=function(){return new G},t.easeBounceOut=function(){return new K},t}());r(h,"allMngs",{});var c=t("Action3d",function(){function t(){r(this,"myId",null),r(this,"node",void 0),r(this,"_easeList",void 0)}var i=t.prototype;return i.setTarget=function(t){this.node=t},i.easing=function(){this._easeList=[];for(var t=0,i=arguments.length;t<i;++t)this._easeList.push(t<0||arguments.length<=t?void 0:arguments[t]);return this},i.computeEaseTime=function(t){var i=this._easeList;if(!i||0===i.length)return t;for(var n=0,e=i.length;n<e;n++)t=i[n].easing(t);return t},i.resetFinishState=function(){},i.update=function(t){},o(t,[{key:"Id",get:function(){return null===this.myId&&(this.myId=t._id++),this.myId}},{key:"binded",get:function(){return!!this.node}},{key:"finished",get:function(){return!1}}]),t}());r(c,"_id",0);var l=t("FiniteTimeAction3d",function(t){s(n,t);var i=n.prototype;function n(i){var n;return n=t.call(this)||this,r(a(n),"duration",void 0),r(a(n),"elapse",void 0),r(a(n),"_paused",!1),n.duration=i,n.elapse=0,n}return i.resetFinishState=function(){this.elapse=0},i.update=function(t){var i=this.addElapseTime(t);this.step(i)},i.addElapseTime=function(t){this.elapse+=t;var i=1;return this.duration>0&&(i=this.elapse/this.duration)>1&&(i=1),i=this.computeEaseTime(i)},i.step=function(t){},i.interpolation=function(t,i,n){return t+(i-t)*n},o(n,[{key:"finished",get:function(){return this.elapse>=this.duration}},{key:"paused",get:function(){return this._paused}}]),n}(c)),f=t("DelayTime",function(t){function i(){return t.apply(this,arguments)||this}return s(i,t),i}(l)),p=t("MoveTo3d",function(t){function i(i,n,e,o){var s;return s=t.call(this,i)||this,r(a(s),"original",void 0),r(a(s),"target",void 0),r(a(s),"curValue",void 0),s.target="number"==typeof n?{x:n,y:e,z:o}:{x:n.x,y:n.y,z:n.z},s.curValue={x:0,y:0,z:0},s}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.node=t,this.original={x:t.position.x,y:t.position.y,z:t.position.z}},n.step=function(t){this.curValue.x=this.interpolation(this.original.x,this.target.x,t),this.curValue.y=this.interpolation(this.original.y,this.target.y,t),this.curValue.z=this.interpolation(this.original.z,this.target.z,t),this.node.setPosition(this.curValue.x,this.curValue.y,this.curValue.z)},i}(l)),g=t("MoveBy3d",function(t){function i(i,n,e,o){var s;return s=t.call(this,i)||this,r(a(s),"original",void 0),r(a(s),"target",void 0),r(a(s),"curValue",void 0),s.target="number"==typeof n?{x:n,y:e,z:o}:{x:n.x,y:n.y,z:n.z},s.curValue={x:0,y:0,z:0},s}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.node=t,this.original={x:t.position.x,y:t.position.y,z:t.position.z}},n.step=function(t){this.curValue.x=this.original.x+this.target.x*t,this.curValue.y=this.original.y+this.target.y*t,this.curValue.z=this.original.z+this.target.z*t,this.node.setPosition(this.curValue.x,this.curValue.y,this.curValue.z)},i}(l)),d=t("JumpTo3d",function(t){function i(i,n,e,o,s){var u;return u=t.call(this,i)||this,r(a(u),"original",void 0),r(a(u),"target",void 0),r(a(u),"curValue",void 0),r(a(u),"jumpSpeed",void 0),r(a(u),"gravity",void 0),"number"==typeof n?(u.target={x:n,y:e,z:o},u.gravity=s):(u.target={x:n.x,y:n.y,z:n.z},u.gravity=e),u.curValue={x:0,y:0,z:0},u.jumpSpeed={x:0,y:0,z:0},u}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.node=t,this.original={x:t.position.x,y:t.position.y,z:t.position.z};var i=1/this.duration;this.jumpSpeed.x=(this.target.x-this.original.x)*i,this.jumpSpeed.y=(this.target.y-this.original.y+.5*this.gravity*this.duration*this.duration)*i,this.jumpSpeed.z=(this.target.z-this.original.z)*i},n.step=function(t){var i=this.duration*t;this.curValue.x=this.original.x+this.jumpSpeed.x*i,this.curValue.y=this.original.y+this.jumpSpeed.y*i-.5*this.gravity*i*i,this.curValue.z=this.original.z+this.jumpSpeed.z*i,this.node.setPosition(this.curValue.x,this.curValue.y,this.curValue.z)},i}(l)),v=t("JumpBy3d",function(t){function i(i,n,e,o,s){var u;return u=t.call(this,i)||this,r(a(u),"original",void 0),r(a(u),"target",void 0),r(a(u),"jumpOffset",void 0),r(a(u),"curValue",void 0),r(a(u),"jumpSpeed",void 0),r(a(u),"gravity",void 0),"number"==typeof n?(u.jumpOffset={x:n,y:e,z:o},u.gravity=s):(u.jumpOffset=n,u.gravity=e),u.curValue={x:0,y:0,z:0},u.jumpSpeed={x:0,y:0,z:0},u}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.node=t,this.original={x:t.position.x,y:t.position.y,z:t.position.z},this.target={x:this.original.x+this.jumpOffset.x,y:this.original.y+this.jumpOffset.y,z:this.original.z+this.jumpOffset.z};var i=1/this.duration;this.jumpSpeed.x=(this.target.x-this.original.x)*i,this.jumpSpeed.y=(this.target.y-this.original.y+.5*this.gravity*this.duration*this.duration)*i,this.jumpSpeed.z=(this.target.z-this.original.z)*i},n.step=function(t){var i=this.duration*t;this.curValue.x=this.original.x+this.jumpSpeed.x*i,this.curValue.y=this.original.y+this.jumpSpeed.y*i-.5*this.gravity*i*i,this.curValue.z=this.original.z+this.jumpSpeed.z*i,this.node.setPosition(this.curValue.x,this.curValue.y,this.curValue.z)},i}(l)),y=t("ScaleTo3d",function(t){function i(i,n,e,o){var s;return s=t.call(this,i)||this,r(a(s),"original",void 0),r(a(s),"target",void 0),s.target="number"==typeof n?{x:n,y:e,z:o}:{x:n.x,y:n.y,z:n.z},s}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.node=t,this.original={x:t.scale.x,y:t.scale.y,z:t.scale.z}},n.step=function(t){var i=this.interpolation(this.original.x,this.target.x,t),n=this.interpolation(this.original.y,this.target.y,t),e=this.interpolation(this.original.z,this.target.z,t);this.node.setScale(i,n,e)},i}(l)),x=t("RotateTo3d",function(t){function i(i,n,e,o){var s;return s=t.call(this,i)||this,r(a(s),"original",void 0),r(a(s),"target",void 0),r(a(s),"cacheV3",void 0),s.target="number"==typeof n?{x:n,y:e,z:o}:{x:n.x,y:n.y,z:n.z},s.cacheV3={x:0,y:0,z:0},s}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.node=t,this.original={x:t.eulerAngles.x,y:t.eulerAngles.y,z:t.eulerAngles.z}},n.step=function(t){this.cacheV3.x=this.interpolation(this.original.x,this.target.x,t),this.cacheV3.y=this.interpolation(this.original.y,this.target.y,t),this.cacheV3.z=this.interpolation(this.original.z,this.target.z,t),this.node.eulerAngles=this.cacheV3},i}(l)),z=t("RotateBy3d",function(t){function i(i,n,e,o){var s;return s=t.call(this,i)||this,r(a(s),"original",void 0),r(a(s),"target",void 0),s.target="number"==typeof n?{x:n,y:e,z:o}:{x:n.x,y:n.y,z:n.z},s}s(i,t);var e=i.prototype;return e.setTarget=function(t){this.node=t,this.original={x:t.eulerAngles.x,y:t.eulerAngles.y,z:t.eulerAngles.z}},e.step=function(t){var i=this.original.x+this.target.x*t,e=this.original.y+this.target.y*t,r=this.original.z+this.target.z*t;this.node.eulerAngles=n(i,e,r)},i}(l)),m=t("RotateTo2d",function(t){function i(i,n){var e;return e=t.call(this,i)||this,r(a(e),"original",void 0),r(a(e),"target",void 0),e.target=n,e}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.node=t,this.original=t.angle},n.step=function(t){var i=this.interpolation(this.original,this.target,t);this.node.angle=i},i}(l)),b=t("RotateBy2d",function(t){function i(i,n){var e;return e=t.call(this,i)||this,r(a(e),"original",void 0),r(a(e),"target",void 0),e.target=n,e}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.node=t,this.original=t.angle},n.step=function(t){var i=this.original+this.target*t;this.node.angle=i},i}(l)),w=t("FadeTo",function(t){function i(i,n){var e;return e=t.call(this,i)||this,r(a(e),"sprite",void 0),r(a(e),"original",void 0),r(a(e),"target",void 0),e.target=n,e}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.node=t,this.sprite=t.getComponent(e),this.original=this.sprite.color.a},n.step=function(t){var i=this.interpolation(this.original,this.target,t),n=this.sprite.color;this.sprite.color.set(n.r,n.g,n.b,i)},i}(l)),T=t("FadeBy",function(t){function i(i,n){var e;return e=t.call(this,i)||this,r(a(e),"sprite",void 0),r(a(e),"original",void 0),r(a(e),"target",void 0),e.target=n,e}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.node=t,this.sprite=t.getComponent(e),this.original=this.sprite.color.a},n.step=function(t){var i=this.original+this.target*t,n=this.sprite.color;this.sprite.color.set(n.r,n.g,n.b,i)},i}(l)),A=function(t){function i(i,n,e,o){var s;return s=t.call(this,i)||this,r(a(s),"obj",void 0),r(a(s),"attribute",void 0),r(a(s),"original",void 0),r(a(s),"targetValue",void 0),r(a(s),"isNumber",void 0),r(a(s),"newAttribute",void 0),s.attribute=n,s.targetValue=e,s.isNumber="number"==typeof e,s.newAttribute=o,s}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.obj=t,void 0!==t[this.attribute]?this.original=JSON.parse(JSON.stringify(t[this.attribute])):console.error("对象不存在属性"+this.attribute+"，动作TweenTo将无法生效")},n.step=function(t){if(this.isNumber)this.obj[this.attribute]=this.interpolation(this.original,this.targetValue,t);else if(this.newAttribute){var i={};for(var n in this.original)i[n]=this.interpolation(this.original[n],this.targetValue[n],t);this.obj[this.attribute]=i}else for(var e in this.original)this.obj[this.attribute][e]=this.interpolation(this.original[e],this.targetValue[e],t)},i}(l),V=function(t){function i(i,n,e,o){var s;return s=t.call(this,i)||this,r(a(s),"obj",void 0),r(a(s),"attribute",void 0),r(a(s),"original",void 0),r(a(s),"targetValue",void 0),r(a(s),"isNumber",void 0),r(a(s),"newAttribute",void 0),s.attribute=n,s.targetValue=e,s.isNumber="number"==typeof e,s.newAttribute=o,s}s(i,t);var n=i.prototype;return n.setTarget=function(t){this.obj=t,void 0!==t[this.attribute]?this.original=JSON.parse(JSON.stringify(t[this.attribute])):console.error("对象不存在属性"+this.attribute+"，动作TweenTo将无法生效")},n.step=function(t){if(this.isNumber)this.obj[this.attribute]=this.original+this.targetValue*t;else if(this.newAttribute){var i={};for(var n in this.original)i[n]=this.original[n]+this.targetValue[n]*t;this.obj[this.attribute]=i}else for(var e in this.original)this.obj[this.attribute][e]=this.original[e]+this.targetValue[e]*t},i}(l),_=t("CallFun3d",function(t){s(n,t);var i=n.prototype;function n(i,n,e){var o;return o=t.call(this)||this,r(a(o),"target",void 0),r(a(o),"cb",void 0),r(a(o),"data",void 0),r(a(o),"_finished",!1),o.cb=i,o.target=n,o.data=e,o}return i.resetFinishState=function(){this._finished=!1},i.update=function(t){this.finished||(this.target?this.cb.call(this.target,this.data||null):this.cb(this.data||null),this._finished=!0)},o(n,[{key:"finished",get:function(){return this._finished}}]),n}(c)),S=t("Thread",function(t){function i(i,n){var e;return e=t.call(this)||this,r(a(e),"target",void 0),r(a(e),"cb",void 0),e.cb=i,e.target=n,e}return s(i,t),i.prototype.update=function(t){this.target?this.cb.call(this.target,t):this.cb(t)},i}(c)),M=t("Sequence3d",function(t){s(n,t);var i=n.prototype;function n(i){var n;return n=t.call(this)||this,r(a(n),"actions",void 0),r(a(n),"curActionPtr",void 0),n.curActionPtr=0,n.actions=[].concat(i),n}return i.resetFinishState=function(){for(var t=this.actions.length-1;t>=0;--t)this.actions[t].resetFinishState();this.curActionPtr=0,this.setCurActionTarget()},i.setTarget=function(t){this.node=t,this.setCurActionTarget()},i.update=function(t){if(!this.finished){var i=this.actions[this.curActionPtr];i.update(t),i.finished&&(this.curActionPtr++,this.setCurActionTarget())}},i.setCurActionTarget=function(){!this.finished&&this.node&&this.actions[this.curActionPtr].setTarget(this.node)},i.pushAction=function(t){this.actions.push(t)},o(n,[{key:"finished",get:function(){return this.curActionPtr>=this.actions.length}}]),n}(c)),j=t("Spawn3d",function(t){s(n,t);var i=n.prototype;function n(i){var n;return n=t.call(this)||this,r(a(n),"actions",void 0),r(a(n),"remainCount",void 0),n.actions=[].concat(i),n.remainCount=n.actions.length,n}return i.resetFinishState=function(){for(var t=this.actions.length-1;t>=0;--t)this.actions[t].resetFinishState();this.remainCount=this.actions.length},i.setTarget=function(t){this.node=t;for(var i=this.actions.length-1;i>=0;--i)this.actions[i].setTarget(t)},i.update=function(t){if(!this.finished)for(var i=0,n=this.actions.length;i<n;++i)this.actions[i].finished||(this.actions[i].update(t),this.actions[i].finished&&this.remainCount--)},i.pushAction=function(t){this.actions.push(t),this.node&&t.setTarget(this.node)},o(n,[{key:"finished",get:function(){return this.remainCount<=0}}]),n}(c)),I=t("RepeatForever",function(t){s(n,t);var i=n.prototype;function n(i,n){var e;return void 0===n&&(n=0),e=t.call(this)||this,r(a(e),"action",void 0),r(a(e),"count",0),r(a(e),"finishCount",0),e.action=i,e.count=n,e.finishCount=0,e}return i.resetFinishState=function(){this.finishCount=0,this.action.resetFinishState()},i.setTarget=function(t){this.node=t,this.action.setTarget(t)},i.update=function(t){this.action.update(t),this.action.finished&&(this.finishCount++,(this.count<=0||this.finishCount<this.count)&&this.action.resetFinishState())},o(n,[{key:"finished",get:function(){return this.count>0&&this.finishCount>=this.count}}]),n}(c)),O=function(){function t(){}return t.prototype.easing=function(t){return t},t}(),F=function(t){function i(i){var n;return n=t.call(this)||this,r(a(n),"_rate",void 0),n._rate=i,n}return s(i,t),i.prototype.easing=function(t){return Math.pow(t,this._rate)},i}(O),C=function(t){function i(i){var n;return n=t.call(this)||this,r(a(n),"_rate",void 0),n._rate=i,n}return s(i,t),i.prototype.easing=function(t){return Math.pow(t,1/this._rate)},i}(O),P=function(t){function i(i){var n;return n=t.call(this)||this,r(a(n),"_rate",void 0),n._rate=i,n}return s(i,t),i.prototype.easing=function(t){return(t*=2)<1?.5*Math.pow(t,this._rate):1-.5*Math.pow(2-t,this._rate)},i}(O),B=function(t){function i(i){var n;return n=t.call(this)||this,r(a(n),"_rate",void 0),n._rate=i,n}return s(i,t),i.prototype.easing=function(t){return(t*=2)<1?1-.5*Math.pow(2-t,this._rate):.5*Math.pow(t,this._rate)},i}(O),k=function(t){function i(){return t.apply(this,arguments)||this}return s(i,t),i.prototype.easing=function(t){return 0===t?0:Math.pow(2,10*(t-1))},i}(O),E=function(t){function i(){return t.apply(this,arguments)||this}return s(i,t),i.prototype.easing=function(t){return 1===t?1:1-Math.pow(2,-10*t)},i}(O),N=function(t){function i(){return t.apply(this,arguments)||this}return s(i,t),i.prototype.easing=function(t){return 1!==t&&0!==t?(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1))):t},i}(O),L=function(t){function i(){return t.apply(this,arguments)||this}return s(i,t),i.prototype.easing=function(t){return 1-Math.sin(1.57*(1-t))},i}(O),R=function(t){function i(){return t.apply(this,arguments)||this}return s(i,t),i.prototype.easing=function(t){return Math.sin(1.57*t)},i}(O),J=function(t){function i(){return t.apply(this,arguments)||this}return s(i,t),i.prototype.easing=function(t){return.5*Math.sin(3.14*t+4.71)+.5},i}(O),q=function(t){function i(){return t.apply(this,arguments)||this}return s(i,t),i.prototype.easing=function(t){return t<.5?.5*Math.sin(3.14*t):1-.5*Math.sin(3.14*(1-t))},i}(O),U=function(t){function i(i){var n;return n=t.call(this)||this,r(a(n),"_period",void 0),n._period=i||.3,n}return s(i,t),i.prototype.easing=function(t){return 0===t||1===t?t:(t-=1,-Math.pow(2,10*t)*Math.sin((t-this._period/4)*Math.PI*2/this._period))},i}(O),D=function(t){function i(i){var n;return n=t.call(this)||this,r(a(n),"_period",void 0),n._period=i||.3,n}return s(i,t),i.prototype.easing=function(t){return 0===t||1===t?t:Math.pow(2,-10*t)*Math.sin((t-this._period/4)*Math.PI*2/this._period)+1},i}(O),H=function(t){function i(i){var n;return n=t.call(this)||this,r(a(n),"_period",void 0),n._period=i||.3,n}return s(i,t),i.prototype.easing=function(t){var i=0,n=this._period;if(0===t||1===t)i=t;else{t*=2,n||(n=this._period=.3*1.5);var e=n/4;i=(t-=1)<0?-.5*Math.pow(2,10*t)*Math.sin((t-e)*Math.PI*2/n):Math.pow(2,-10*t)*Math.sin((t-e)*Math.PI*2/n)*.5+1}return i},i}(O),G=function(t){function i(){return t.apply(this,arguments)||this}s(i,t);var n=i.prototype;return n.easing=function(t){return 1-this._bounceTime(1-t)},n._bounceTime=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},i}(O),K=function(t){function i(){return t.apply(this,arguments)||this}s(i,t);var n=i.prototype;return n.easing=function(t){return this._bounceTime(t)},n._bounceTime=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},i}(O);i._RF.pop()}}}));

System.register("chunks:///_virtual/RecommendContainer.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./GlobalEnum.ts","./yyComponent.ts","./GlobalPool.ts"],(function(t){"use strict";var e,n,o,i,s,a,r,h,c,d,m,l,u,p,f,g,v,y,C;return{setters:[function(t){e=t.cclegacy,n=t.Node,o=t._decorator,i=t.UITransform,s=t.Layout,a=t.ScrollView,r=t.v2,h=t.find,c=t.v3,d=t.Widget},function(t){m=t.applyDecoratedDescriptor,l=t.inheritsLoose,u=t.initializerDefineProperty,p=t.assertThisInitialized,f=t.defineProperty},function(t){g=t.EventType},function(t){v=t.GlobalEnum},function(t){y=t.default},function(t){C=t.default}],execute:function(){var T,w,b,A,R,P;e._RF.push({},"ba32fZzFh9Kwr/9o3ZFk9hA","RecommendContainer",void 0);var S=o,I=S.ccclass,L=S.property;t("default",(T=L(n),w=L({tooltip:"容器中要显示的广告位数量，0表示显示全部内容"}),I((R=m((A=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,u(p(e),"content",R,p(e)),f(p(e),"contentTransform",null),f(p(e),"contentParentTransform",null),u(p(e),"count",P,p(e)),f(p(e),"data",void 0),f(p(e),"pauseTime",0),f(p(e),"recommendMoveSpd",50),f(p(e),"moveLeft",!0),f(p(e),"moveUp",!0),e}l(e,t);var n=e.prototype;return n.initContentTransform=function(){this.contentTransform=this.content.getComponent(i),this.contentParentTransform=this.content.parent.getComponent(i)},n.pauseUpdateContent=function(){this.pauseTime=5},n.init=function(t){this.onEvents(),t&&this.setData(t)},n.onEvents=function(){this.on(g.Common.RecommendEvent.clickRecommendItem,this.pauseUpdateContent,this)},n.reset=function(){this.resetItems()},n.resetItems=function(){C.putAllChildren(this.content)},n.reuse=function(t){this.reset(),this.setData(t)},n.unuse=function(){this.reset()},n.show=function(e){t.prototype.show.call(this,e),this.pauseTime=0},n.hide=function(){this.reset(),this.node.active=!1},n.setRecommendData=function(t){if(this.node.activeInHierarchy&&0==this.content.children.length){this.data.items=t,this.addItems(t,this.data.itemType),this.content.getComponent(s).updateLayout(),this.content.setPosition(0,0);var e=this.content.parent.parent.getComponent(a);e&&e.scrollTo(r(0,0),0)}},n.refreshRecommendData=function(){if(this.node.activeInHierarchy){var t=[].concat(this.content.children);this.content.removeAllChildren();for(var e=t.length-1;e>=0;--e){var n=Math.round(Math.random()*(t.length-1));this.content.addChild(t[n]),t.splice(n,1)}}},n.delayShowBannerToucher=function(t,e){if(t){if(!e)return t.node.active=!0,void t.show();var n=e.config;n&&n[v.Common.RecommendFlowConfig.recommendBtnShowDelay]?(t.node.active=!1,setTimeout((function(){t.node.active=!0,t.show(n)}),1e3*n[v.Common.RecommendFlowConfig.recommendBtnShowDelay])):(t.node.active=!0,t.show(n))}},n.delayShowNode=function(t,e){if(t)if(e){var n=e.config;n&&n[v.Common.RecommendFlowConfig.recommendBtnShowDelay]?(t.active=!1,setTimeout((function(){t.active=!0}),1e3*n[v.Common.RecommendFlowConfig.recommendBtnShowDelay])):t.active=!0}else t.active=!0},n.autoRandomJump=function(){if(this.data&&this.data.items&&!(this.data.items.length<=0)){var t=Math.floor(Math.random()*(this.data.items.length-1e-5)),e=this.data.items[t];this.emit(g.Common.RecommendEvent.autoNavigate,e)}},n.setWidgetConfig=function(t){this.data||(this.data={}),void 0!==t.scale&&(this.data.scale=t.scale),void 0!==t.pos&&(this.data.pos=t.pos),void 0!==t.widget&&(this.data.widget=t.widget),this.setWidget(this.node.children[0],this.data.widget,h("Canvas/Recommend"))},n.setData=function(t){if(this.data=t,this.setNodeWidget(),t.items&&t.items.length>0){var e=t.items;this.addItems(e,t.itemType),this.content.getComponent(s).updateLayout(),this.content.setPosition(0,0);var n=this.content.parent.parent.getComponent(a);n&&n.scrollTo(r(0,0),0)}},n.setNodeWidget=function(){void 0!==this.data.scale&&this.node.setScale(this.data.scale),void 0!==this.data.pos&&this.node.setPosition(this.data.pos),void 0!==this.data.widget&&this.setWidget(this.node.children[0],this.data.widget,h("Canvas/Recommend"))},n.addItems=function(t,e){var n=this.count;(n<=0||n>t.length)&&(n=t.length);for(var o="RecommendItem_"+e,i=0;i<n;++i){var s=this.getItem(o,t[i]);this.content.addChild(s)}},n.getItem=function(t,e){return C.get(t,e)},n.setWidget=function(t,e,n){var o=t.getComponent(i);void 0!==e.width&&(o.width=e.width),void 0!==e.height&&(o.height=e.height);var s=c(),a=!1;void 0!==e.x?(s.x=e.x,a=!0):s.x=t.position.x,void 0!==e.y?(s.y=e.y,a=!0):s.y=t.position.y,a&&(s.z=t.position.z,t.setPosition(s)),s.x=s.y=s.z=1,void 0!==e.scale&&(s.x=e.scale.x,s.y=e.scale.y),t.setScale(s);var r=t.getComponent(d);r||(r=t.addComponent(d)),r.isAbsoluteBottom=!0,r.isAbsoluteLeft=!0,r.isAbsoluteRight=!0,r.isAbsoluteTop=!0,r.isAbsoluteHorizontalCenter=!0,r.isAbsoluteVerticalCenter=!0,e&&(r.target=n||t.parent,void 0!==e.top?(r.isAlignTop=!0,r.isAbsoluteTop=e.top>1,r.top=parseFloat(e.top)):r.isAlignTop=!1,void 0!==e.bottom?(r.isAlignBottom=!0,r.isAbsoluteBottom=e.bottom>1,r.bottom=parseFloat(e.bottom)):r.isAlignBottom=!1,void 0!==e.left?(r.isAlignLeft=!0,r.isAbsoluteLeft=e.left>1,r.left=parseFloat(e.left)):r.isAlignLeft=!1,void 0!==e.right?(r.isAlignRight=!0,r.isAbsoluteRight=e.right>1,r.right=parseFloat(e.right)):r.isAlignRight=!1,r.isAlignHorizontalCenter=!!e.horizontalCenter,r.isAlignVerticalCenter=!!e.verticalCenter,this.updateWidget(t))},n.updateWidget=function(t){var e=t.getComponent(d);e&&e.updateAlignment();for(var n=t.children.length-1;n>=0;--n)this.updateWidget(t.children[n])},n.updateRecommendH=function(t){var e;this.pauseTime>0?this.pauseTime-=t:this.contentTransform.width<=this.contentParentTransform.width||(this.moveLeft?(e=this.content.position.x-t*this.recommendMoveSpd)+this.contentTransform.width<=this.contentParentTransform.width&&(e=this.contentParentTransform.width-this.contentTransform.width,this.moveLeft=!1):(e=this.content.position.x+t*this.recommendMoveSpd)>=0&&(e=0,this.moveLeft=!0),this.content.setPosition(e,0))},n.updateRecommendV=function(t){var e;this.pauseTime>0?this.pauseTime-=t:this.contentTransform.height<=this.contentParentTransform.height||(this.moveUp?(e=this.content.position.y+t*this.recommendMoveSpd)-this.contentTransform.height+this.contentParentTransform.height>=0&&(e=this.contentTransform.height-this.contentParentTransform.height,this.moveUp=!1):(e=this.content.position.y-t*this.recommendMoveSpd)<=0&&(e=0,this.moveUp=!0),this.content.setPosition(0,e))},e}(y)).prototype,"content",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=m(A.prototype,"count",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=A))||b));e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerData.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameConfig.ts","./GameEventType.ts","./EventManager.ts","./http_request.ts","./GlobalEnum.ts","./PlayerDataTemplate.ts"],(function(a){"use strict";var t,e,n,i,r,o,s,u,l;return{setters:[function(a){t=a.cclegacy,e=a.sys,n=a.log},function(a){i=a.defineProperty},function(a){r=a.default},function(a){o=a.EventType},function(a){s=a.default},null,function(a){u=a.GlobalEnum},function(a){l=a.default}],execute:function(){t._RF.push({},"bc9d8TfjwRC0J+4t02oPAHq","PlayerData",void 0);var D=a("default",function(){function a(){}return a.init=function(){this.Data=l.getData();var a=e.localStorage.getItem(r.gameName+"needResetPlayerData7");if(!a||!JSON.parse(a)){var t=e.localStorage.getItem(r.gameName+"PlayerData");t&&(t=JSON.parse(t),this.copyObject(this.Data,t))}e.localStorage.setItem(r.gameName+"needResetPlayerData7",JSON.stringify(!1)),this.resetTrySkin(),this.onEvents(),this.loadData()},a.copyObject=function(a,t){for(var e in t)switch(typeof t[e]){case"number":case"boolean":case"string":a[e]=t[e];break;case"object":Array.isArray(t[e])?a[e]=[].concat(t[e]):(null==a[e]&&(a[e]={}),this.copyObject(a[e],t[e]))}},a.loadData=function(){s.emit(o.Common.PlayerDataEvent.dataLoaded)},a.onEvents=function(){s.on(o.Common.PlayerDataEvent.updatePlayerData,this.onUpdatePlayerData,this),s.on(o.Common.PlayerDataEvent.trySkinEnd,this.onTrySkinEnd,this)},a.onUpdatePlayerData=function(a){if(a.attribute.indexOf(".")<0)this.updateData(this.Data,a.attribute,a.value,a.mode);else{for(var t=a.attribute.split("."),e=this.Data,i=0;i<t.length-1;++i){if(null==e[t[i]])return n("修改玩家数据失败，玩家数据未定义对应属性："+t[i]),void n(a);e=e[t[i]]}this.updateData(e,t[t.length-1],a.value,a.mode)}void 0!==a.save&&!0!==a.save||this.saveData(),void 0!==a.emit&&!0!==a.emit||s.emit(o.Common.PlayerDataEvent.playerDataChanged,{attribute:a.attribute,value:this.getData(a.attribute)})},a.updateData=function(a,t,e,i){var r=e;switch("string"==typeof e&&(r=parseFloat(e),isNaN(r)&&(r=e)),i){case"+":a[t]+=r;break;case"-":a[t]-=r;break;case"*":a[t]*=r;break;case"=":a[t]=r;break;case"push":a[t].push(r);break;default:n("数据修改失败，未定义的数据修改方式："+i)}},a.getData=function(a){if(!a)return this.Data;if(a.indexOf(".")<0)return this.Data[a];for(var t=a.split("."),e=this.Data,n=0;n<t.length;++n){if(null==e[t[n]])return e;e=e[t[n]]}return e},a.saveData=function(){e.localStorage.setItem(r.gameName+"PlayerData",JSON.stringify(this.Data))},a.addGold=function(a){this.Data.gameData.asset.gold+=a,s.emit(o.Common.PlayerDataEvent.playerDataChanged,{type:"gameData",attribute:"gameData.asset.gold",value:this.Data.gameData.asset.gold})},a.subGold=function(a){a<=this.Data.gameData.asset.gold?this.Data.gameData.asset.gold-=a:this.Data.gameData.asset.gold=0,s.emit(o.Common.PlayerDataEvent.playerDataChanged,{type:"gameData",attribute:"gameData.asset.gold",value:this.Data.gameData.asset.gold})},a.getCurSkinId=function(a){var t=this.Data.gameData[a],e=t.try;return-1==e&&(e=t.cur),e},a.unlockSkin=function(a,t){var e=this.Data.gameData[a];e.owned.indexOf(t)>=0||(e.owned.push(t),s.emit(o.Common.PlayerDataEvent.playerDataChanged,{type:"gameData",attribute:"gameData."+a+".owned",value:e.owned}))},a.setCurSkin=function(a,t){var e=this.Data.gameData[a];e.cur!=t&&(e.cur=t,s.emit(o.Common.PlayerDataEvent.playerDataChanged,{type:"gameData",attribute:"gameData."+a+".cur",value:e.cur}))},a.onTrySkin=function(a,t){this.Data.gameData[a].try=t},a.onTrySkinEnd=function(a){if(void 0!==a){var t=this.Data.gameData[a].try;this.Data.gameData[a].try="number"==typeof t?-1:{type:u.WeaponType.none,id:0}}else this.resetTrySkin()},a.resetTrySkin=function(){var a=this.Data.gameData;a.PlayerSkin.try=-1,a.HatSkin.try=-1,a.WeaponSkin.try={type:u.WeaponType.none,id:0}},a}());i(D,"Data",{}),t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameConfig.ts","./GameEventType.ts","./EventManager.ts","./GlobalEnum.ts","./Loader.ts"],(function(o){"use strict";var i,t,u,e,l,s,n,c,f,d;return{setters:[function(o){i=o.cclegacy,t=o.Node,u=o.AudioSource,e=o.warn},function(o){l=o.defineProperty},function(o){s=o.default},function(o){n=o.EventType},function(o){c=o.default},function(o){f=o.GlobalEnum},function(o){d=o.default}],execute:function(){i._RF.push({},"c3ffd4uKblBBKHFHlRW8W83","AudioManager",void 0);var p=o("default",function(){function o(){}return o.init=function(){this.bgmAudioSourceNode||(this.bgmAudioSourceNode=new t("bgmAudioSourceNode"),this.bgmAudioSource=this.bgmAudioSourceNode.addComponent(u),this.bgmAudioSource.playOnAwake=!1),this.effectAudioSourceNode||(this.effectAudioSourceNode=new t("effectAudioSourceNode"),this.effectAudioSource=this.effectAudioSourceNode.addComponent(u),this.effectAudioSource.playOnAwake=!1),this.onEvents()},o.onEvents=function(){c.on(n.Common.AudioEvent.playBGM,this.playBGM,this),c.on(n.Common.AudioEvent.playClickBtn,this.playClickBtn,this),c.on(n.Common.AudioEvent.playEffect,this.playEffect,this),c.on(n.Common.AudioEvent.stopEffect,this.stopEffect,this),c.on(n.Common.AudioEvent.stopBGM,this.stop,this),c.on(n.Common.AudioEvent.pause,this.pauseBGM,this),c.on(n.Common.AudioEvent.resume,this.resumeBGM,this)},o.onLevelInit=function(){this.loopClips=[]},o.playClickBtn=function(){this.playEffect(f.AudioClip.clickBtn)},o.playEffect=function(o,i){var t=this;null==i?i={isLoop:!1,volume:1}:(null==i.isLoop&&(i.isLoop=!1),null==i.volume&&(i.volume=1),i.isLoop&&this.loopClips.indexOf(o)<0&&this.loopClips.push(o)),void 0===this.allClips[o]?d.loadBundle("Audio",(function(){d.loadBundleRes("Audio",o,(function(u){if(!u)return t.allClips[o]=null,void e("要播放的音效资源未找到：",o);t.allClips[o]=u,t._playEffect(o,i.isLoop,i.volume)}),!1)}),!1):this._playEffect(o,i.isLoop,i.volume)},o._playEffect=function(o,i,t){if(void 0===i&&(i=!1),void 0===t&&(t=1),s.audioConfig.effect&&null!==this.allClips[o]){var u=this.allClips[o];i?(this.effectAudioSource.clip=u,this.effectAudioSource.loop=!0,this.effectAudioSource.play()):this.effectAudioSource.playOneShot(u,t)}},o.stopEffect=function(o){if(this.allClips[o]){this.effectAudioSource.stop();var i=this.loopClips.indexOf(o);i>=0&&this.loopClips.splice(i,1)}},o.playBGM=function(o,i){var t=this;if(void 0===i&&(i=!0),s.audioConfig.bgm&&this.curBGM&&this.curBGM==o&&this.allClips[this.curBGM]){var u=this.allClips[this.curBGM];return this.bgmAudioSource.clip=u,this.bgmAudioSource.loop=!0,void(1!=this.bgmAudioSource.state&&this.bgmAudioSource.play())}void 0===this.allClips[o]?d.loadBundle("Audio",(function(){d.loadBundleRes("Audio",o,(function(u){if(!u)return t.allClips[o]=null,void e("要播放的音效资源未找到：",o);t.allClips[o]=u,t._playBGM(o,i)}),!1)}),!1):this._playBGM(o,i)},o._playBGM=function(o,i){if(s.audioConfig.bgm&&null!==this.allClips[o]){this.curBGM&&this.bgmAudioSource.stop();var t=this.allClips[o];this.bgmAudioSource.clip=t,this.bgmAudioSource.loop=!0,this.curBGM=o,this.bgmAudioSource.play()}},o.stop=function(){this.curBGM&&(this.bgmAudioSource.stop(),this.curBGM=null)},o.pauseBGM=function(){this.curBGM&&this.bgmAudioSource.pause()},o.resumeBGM=function(){this.curBGM&&this.bgmAudioSource.play()},o.onGameOver=function(){for(var o=this.loopClips.length-1;o>=0;o--){var i=this.loopClips[o];this.stopEffect(i)}},o}());l(p,"allClips",{}),l(p,"loopClips",[]),l(p,"bgmAudioSource",null),l(p,"bgmAudioSourceNode",null),l(p,"effectAudioSource",null),l(p,"effectAudioSourceNode",null),l(p,"curBGM",null),i._RF.pop()}}}));

System.register("chunks:///_virtual/WXSDK.ts",["cc","./AdConfig.ts","./_rollupPluginModLoBabelHelpers.js","./GameEventType.ts","./EventManager.ts","./http_request.ts","./GlobalEnum.ts","./GlobalData2.ts","./SDK.ts","./PlayerDataTemplate.ts","./ALDManager.ts","./GameFlow.ts"],(function(n){"use strict";var e,t,i,o,r,s,a,h,c,l,d,u,f,p,m,g;return{setters:[function(n){e=n.cclegacy,t=n.sys},function(n){i=n.AdConfig},function(n){o=n.inheritsLoose,r=n.createClass,s=n.defineProperty,a=n.assertThisInitialized},function(n){h=n.EventType},function(n){c=n.default},function(n){l=n.default},function(n){d=n.GlobalEnum},function(n){u=n.default},function(n){f=n.default},function(n){p=n.UserInfo},function(n){m=n.default},function(n){g=n.default}],execute:function(){e._RF.push({},"c40cdLxs1FA0ZE1thrryygV","WXSDK",void 0);var v,w=window.wx,B=(n("default",function(n){function e(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i))||this,s(a(e),"apiName","wx"),s(a(e),"sceneid",0),s(a(e),"channel_id",void 0),e}o(e,n);var r=e.prototype;return r.init=function(){this.api=window[this.apiName],this.systemInfo=this.api.getSystemInfoSync(),v=this.systemInfo,B.width=v.screenWidth,B.height=v.screenHeight,console.log("系统信息："),console.log(JSON.stringify(this.systemInfo)),this.api.showShareMenu({withShareTicket:!1}),this.login();var n=this.getAllBannerIds();b.init(n),this.updateGame()},r.updateGame=function(){var n=w.getUpdateManager();n.onCheckForUpdate((function(n){console.log(n.hasUpdate)})),n.onUpdateReady((function(){w.showModal({title:"更新提示",content:"新版本已经准备好，是否重启应用？",success:function(e){e.confirm&&n.applyUpdate()},showCancel:!1,cancelText:"",cancelColor:"",confirmText:"确定",confirmColor:"#576B95",fail:function(n){},complete:function(n){}})})),n.onUpdateFailed((function(){}))},r.login=function(n,e){var i=this;void 0===n&&(n=null),void 0===e&&(e=null);var o=this.api.getLaunchOptionsSync();console.log("launch_data",o),this.channel_id=o.query.channelId,this.sceneid=o.scene;var r=this;this.api.login({success:function(s){if(console.log("wx loagin success!!!",s),s.code){l.postRequest(l.url_login+"v1.1/api/User/sendSessionCode.html",{code:s.code},(function(s){var a,f,g;console.log("request sendSessionCode",s),p.needuserinfo=s.result.needuserinfo,p.openid=s.result.openid,p.sessid=s.result.sessid,p.userid=s.result.userid,(new m).init(p.openid),a=s.result.sessid,f=r,g="v1.1/api/Utils/init.html",l.postRequest(l.url_login+g,{sessid:a},(function(n){f.objShareData=n.result.share,w.showShareMenu({withShareTicket:!0});var e=Math.floor(Math.random()*(f.objShareData.length-1));console.log("onShareAppMessage index",e),console.log("share_info_res",n.result),u.set(d.Common.GlobalDataType.levelDataVersion,JSON.stringify(n.result.config)),w.onShareAppMessage((function(){return{title:n.result.share[e].title,imageUrl:n.result.share[e].img}}))})),c.emit(h.Common.SDKEvent.inited);var v=l.url_buy+"v1.1/api/Activity/uclick.html",B=o.referrerInfo.appId?o.referrerInfo.appId:"",b=o.query.key?o.query.key:"",I={appid:i.config.appId,openid:t.localStorage.getItem("openid"),posttime:Math.floor(.001*Date.now()),key:b,wxopenid:s.result.openid,fromapp:B};l.postRequest(v,I,(function(i){console.log("uclickData",i),function(t,i){r.onshow_time=w.getPerformance().now(),w.onShow((function(){r.onshow_time=w.getPerformance().now(),c.emit(h.Common.AudioEvent.resume),c.emit(h.Common.SDKEvent.show)})),w.onHide(function(n){try{if(c.emit(h.Common.AudioEvent.resume),c.emit(h.Common.SDKEvent.hide,n),!n||!n.mode)return;if("close"===n.mode)return c.emit(h.Common.SDKEvent.hide,n);if(!n.targetPagePath)return;if(-1!==n.targetPagePath.indexOf("weixinadinfo")&&-1!==n.targetPagePath.indexOf("gdt_vid"))return-1!==n.targetPagePath.indexOf("mp.weixin.qq.com/mp/ad_biz_info")?n.adType="关注公众号链接":n.adType="电商链接",c.emit(h.Common.SDKEvent.touchBanner,n);if(-1!==n.targetPagePath.indexOf("SnsAdNativeLandingPagesPreviewUI"))return n.adType="APP下载页",c.emit(h.Common.SDKEvent.touchBanner,n);"hide"===n.mode?-1!==n.targetPagePath.indexOf("SnsAdNativeLandingPagesPreviewUI")?(n.adType="APP下载页",c.emit(h.Common.SDKEvent.touchBanner,n)):-1!==n.targetPagePath.indexOf("weixinadinfo")&&-1!==n.targetPagePath.indexOf("gdt_vid")?(-1!==n.targetPagePath.indexOf("mp.weixin.qq.com/mp/ad_biz_info")?n.adType="关注公众号链接":n.adType="电商链接",c.emit(h.Common.SDKEvent.touchBanner,n)):-1===n.targetPagePath.indexOf("SelectConversationUI")&&-1===n.targetPagePath.indexOf("MMUINavigationController")&&-1===n.targetPagePath.indexOf("mp.weixin.qq.com/mp/wapreportwxadevlog?action=get_page&appid=wx")&&-1===n.targetPagePath.indexOf("AppBrandProfileUI")&&n.targetPagePath.indexOf("NewWAProfileViewController"):"launchMiniProgram"===n.mode?-1!==n.targetPagePath.indexOf("weixinadinfo")&&-1!==n.targetPagePath.indexOf("gdt_vid")?(n.adType="微信小游戏",c.emit(h.Common.SDKEvent.touchBanner,n)):n.targetPagePath.indexOf("wx"):"back"===n.mode&&9===n.targetAction&&n.targetPagePath.indexOf("wx")}catch(n){console.error(n)}r.onhide_time=w.getPerformance().now();var e=Math.floor((r.onhide_time-r.onshow_time)/1e3);if(i){var t=l.url_buy+"v1.1/api/Activity/stay.html",o={appid:r.config.appId,openid:i,posttime:Math.floor(.001*Date.now()),time:e};l.postRequest(t,o,(function(n){})),c.emit(h.Common.SDKEvent.hide)}}.bind(this)),n&&n.call(e)}(0,i.Result.OpenId),t.localStorage.setItem("openid",i.Result.OpenId)}))}))}},fail:function(n){console.log("login失败",n)}})},r.triggerGC=function(){this.api.triggerGC()},r.showVideoAd=function(n){var e=this,t=this.getVideoAdUnitId(n);t?(this.videoAd||(this.videoAd=this.api.createRewardedVideoAd({adUnitId:t}),this.videoAd.onLoad((function(){console.log("视频广告加载完毕")})),this.videoAd.onError((function(n){console.log("视频广告错误：",JSON.stringify(n))})),this.videoAd.onClose((function(n){n&&n.isEnded||void 0===n?e.onVideoSuccess():(e.onVideoQuit(),e.onVideoHide())}))),this.videoAd.show().then(this.onVideoShow.bind(this)).catch((function(n){e.videoAd.load().then((function(){e.videoAd.show().then(e.onVideoShow.bind(e))})).catch(e.onVideoFail.bind(e))}))):this.onVideoFail("视频id获取失败")},r.showBanner=function(n){if(n.bannerID&&!n.id)n.id=i.bannerID[n.bannerID],n.id||(n.id=this.getAllBannerIds()[0]);else if(n.id&&!n.bannerID){var e=n.id,t="";for(var o in i.bannerID)if(i.bannerID[o]==e){t=o;break}n.bannerID=t}else if(!n.id&&!n.bannerID)return void console.error("未传入banner参数，不进行显示！");b.show(n)},r.removeBanner=function(n){b.hide(n)},r.checkVisibleBanner=function(n,e){b.haveBanner&&n?"function"==typeof n?n():n.target?n.cb.call(n.target,n.data):n.cb(n.data):!b.haveBanner&&e&&("function"==typeof e?e():e.target?e.cb.call(e.target,e.data):e.cb(e.data))},r.showInterstitialAd=function(n){var e=this;this.useBannerInsteadInsert=!1,this.showBannerInsteadInsert();var t=this.getInsertAdUnitId();if(t){var i=this.systemInfo.SDKVersion;if(this.compareVersion(i,"2.6.0")<0)console.log("基础库版本过低");else{var o=this.api.createInterstitialAd({adUnitId:t});o.show().then(this.onInsertShow.bind(this)),o.onClose(this.onInsertHide.bind(this)),o.onError((function(n){e.onInsertErr(n)}))}}},r.vibrateShort=function(){this.api.vibrateShort({})},r.vibrateLong=function(){this.api.vibrateLong({})},r.shareAppMessage=function(n){void 0===n&&(n="");var e=Math.floor(Math.random()*this.shareTitleArr.length),t=Math.floor(Math.random()*this.shareImgArr.length);this.api.shareAppMessage({title:""+this.shareTitleArr[e],imageUrl:""+this.shareImgArr[t],query:""+n})},r.shareToAnyOne=function(n,e,t){void 0===t&&(t=""),this.shareAppMessage(t),n()},r.navigateToMiniProgram=function(n,e){var t=this,i=l.url_ad+"v1.1/api/userpreclick.html";l.postRequest(i,{softid:t.config.appId,uid:p.openid,advid:n.appid,locationid:n.locationid,id:n.id},(function(n){console.log("请求跳转上报结果：",n)})),this.api.navigateToMiniProgram({appId:n.appid,path:n.url,success:function(i){console.log("跳转成功，上报数据,",i),c.emit(h.Common.SDKEvent.navigateSuccess,n),e&&e(!0,n);var o=l.url_ad+"v1.1/api/userclick.html";l.postRequest(o,{softid:t.config.appId,uid:p.openid,advid:n.appid,locationid:n.locationid,id:n.id},(function(n){console.log("跳转成功上报结果：",n)}))},fail:function(){c.emit(h.Common.SDKEvent.navigateFail,n),e&&e(!1,n)}})},e}(f)),{width:667,height:320}),b=function(){function n(){}return n.refreshLoopBanner=function(){var n;++this.loopPtr>=this.loopBanners.length&&(this.loopPtr=0),this.curBanner&&(n=this.curBanner.style,this.curBanner.hide(!1)),this.curBanner=this.loopBanners[this.loopPtr],this.curBanner.show(n)},n.setRefreshTimer=function(){var n=this;this.refreshTimer>=0||(!this.curBanner||this.isZaDanBanner(this.curBanner.id)?this.refreshTimer=setInterval((function(){if(n.curBanner){var e=n.curBanner.id;n.isZaDanBanner(e)?n.clearRefreshTimer():n.refreshLoopBanner()}}),1e3*this.refreshDuration):this.clearRefreshTimer())},n.clearRefreshTimer=function(){this.refreshTimer>=0&&(clearTimeout(this.refreshTimer),this.refreshTimer=-1)},n.isZaDanBanner=function(n){switch(n){case i.bannerID.touchBannerLevelToLose:case i.bannerID.touchBannerLevelToWin:case i.bannerID.touchBannerLoseToLobby:case i.bannerID.touchBannerWinToLobby:case i.bannerID.touchBannerUI:return!0;default:return!1}},n.init=function(n){this.bannerSceneMap={},this.bannerIdMap={},this.allBanners=[],this.loopBanners=[],this.curBanner=null,this.curBannerPtr=-1,this.ids=[].concat(n),this.preLoadBanner(),this.onEvents()},n.preLoadBanner=function(){var n={};for(var e in i.bannerID){var t=i.bannerID[e];if(t){if(!n[t]){var o=new S(t);n[t]=o,this.loopBanners.push(o)}this.bannerSceneMap[e]=n[t]}}this.bannerIdMap=n},n.onEvents=function(){c.on(h.Common.SDKEvent.touchBanner,this.onTouchBanner,this),c.on(h.Common.SDKEvent.navigateSuccess,this.onNavigateSuccess,this),c.on(h.Common.UIEvent.entered,this.onEnterScene,this)},n.showTipBannerShowSuccess=function(){c.emit(h.Common.UIEvent.showTip,"banner显示成功")},n.showTipBannerShowStart=function(){c.emit(h.Common.UIEvent.showTip,"开始显示banner")},n.onEnterScene=function(n){var e=this;switch(n){case d.UI.touchBanner1:case d.UI.touchBanner2:case d.UI.touchBanner3:var t=this.bannerIdMap[i.bannerID.touchBannerUI];t&&t.state==I.inited&&t.load();break;case d.UI.levelInfo:this.hide();var o=g.getGlobalConfig(d.Common.GameFlowGlobalConfig.levelShowBanner);1!==o&&"1"!==o||setTimeout((function(){c.once(h.Common.SDKEvent.showBannerSuccess,e.hideLevelInfoUIBanner,e),e.show({id:i.bannerID.banner1,bannerID:"banner2",style:{horizontal:"middle",top:0}})}),500)}},n.hideLevelInfoUIBanner=function(){var n=this;setTimeout((function(){n.hide({bannerID:"banner1",refresh:!1})}),5e3)},n.onNavigateSuccess=function(n){this.navigating=!0},n.onGameShow=function(){this.navigating?this.navigating=!1:this.curBanner&&(this.reportClickBanner(),this.isZaDanBanner(this.curBanner.id)||this.curBanner.refresh(!0))},n.onTouchBanner=function(){this.reportClickBanner(),this.curBanner&&(this.curBanner.addClickCount(),this.curBanner.refresh(!0))},n.reportClickBanner=function(){var e=this.curBannerID;n.bannerClickCount++,c.emit(h.Common.ALDEvent.sendEvent,{eventName:"banner点击",data:{scene:e,count:n.bannerClickCount}})},n.show=function(n){this.showBannerMode5(n),this.showSuccess()},n.showBannerMode0=function(n){var e=n.style;if(this.bannerSceneMap[n.bannerID])if(this.curBanner)if(this.curBannerID===n.bannerID)this.curBanner.show(e);else{this.curBannerID=n.bannerID;var t=this.bannerSceneMap[this.curBannerID];t!==this.curBanner?(this.curBanner.hide(!0),this.curBanner=t,this.curBanner.show(e)):this.curBanner.show(e)}else{this.curBannerID=n.bannerID;var i=this.bannerSceneMap[this.curBannerID];this.curBanner=i,this.curBanner.show(e)}else this.showFail(n.style)},n.showBannerMode1=function(n){var e=n.style;this.curBanner&&this.curBanner.hide();for(var t=this.loopBanners.length,i=0;i<t;++i){++this.loopPtr>=t&&(this.loopPtr=0);var o=this.loopBanners[this.loopPtr];if(o.visible){this.curBanner=this.loopBanners[this.loopPtr],this.curBanner.show(e);break}o.state===I.inited&&o.load()}},n.showBannerMode2=function(n){var e=n.style;if(this.curBanner&&this.curBanner.hide(),this.isZaDanBanner(n.id)){for(var t=!1,i=this.loopBanners.length,o=0;o<i;++o){if(++this.loopPtr>=i&&(this.loopPtr=0),this.loopBanners[this.loopPtr].visible){this.curBanner=this.loopBanners[this.loopPtr],this.curBanner.show(e),t=!0;break}}t||(++this.loopPtr>=i&&(this.loopPtr=0),this.curBanner=this.loopBanners[this.loopPtr],this.curBanner.show(e))}else++this.loopPtr>=this.loopBanners.length&&(this.loopPtr=0),this.curBanner=this.loopBanners[this.loopPtr],this.curBanner.show(e)},n.showBannerMode3=function(n){var e=n.style;if(this.bannerSceneMap[n.bannerID])if(this.curBanner)if(this.curBannerID===n.bannerID)this.curBanner.show(e);else{this.curBannerID=n.bannerID;var t=this.bannerSceneMap[this.curBannerID];t!==this.curBanner?(this.curBanner.hide(!0),this.curBanner=t,this.curBanner.show(e)):this.curBanner.show(e)}else{this.curBannerID=n.bannerID;var i=this.bannerSceneMap[this.curBannerID];this.curBanner=i,this.curBanner.show(e)}else this.showFail(n.style)},n.showBannerMode4=function(n){if(n.bannerID.indexOf("touchBanner")<0)this.showBannerMode3(n);else{var e=n.style,t=null,i=[];for(var o in this.bannerIdMap)this.bannerIdMap[o].getShowTime()>=10&&(i.push(this.bannerIdMap[o]),console.log("banner.showTime:",this.bannerIdMap[o].getShowTime()));i.length>0&&(i.sort((function(n,e){return n.clickCount-e.clickCount})),t=i[0]),t?(console.log("筛选出的banner.showTime、clickCount:",t.getShowTime(),t.clickCount),this.curBanner?(this.curBanner===t||(this.curBannerID=t.bannerID,this.curBanner.hide(!0),this.curBanner=t),this.curBanner.show(e)):(this.curBannerID=t.bannerID,this.curBanner=t,this.curBanner.show(e))):this.showBannerMode3(n)}},n.showBannerMode5=function(n){var e=n.style,t=null,i=[];for(var o in this.bannerIdMap){if(0==this.bannerIdMap[o].getShowTime()){t=this.bannerIdMap[o];break}this.bannerIdMap[o].getShowTime()<10&&i.push(this.bannerIdMap[o])}if(t)return this.curBanner&&this.curBanner.hide(),this.curBannerID=t.bannerID,this.curBanner=t,void this.curBanner.show(e);if(i.length>0){i.sort((function(n,e){return n.getShowTime()-e.getShowTime()}));var r=i[i.length-1];this.curBanner&&this.curBanner==r||(this.curBanner&&this.curBanner.hide(),this.curBannerID=r.bannerID,this.curBanner=r),this.curBanner.show(e)}else this.showBannerMode3(n)},n.showSuccess=function(){c.emit(h.Common.SDKEvent.showBannerFinish)},n.showFail=function(n){c.emit(h.Common.SDKEvent.showBannerFail,n)},n.hide=function(n){n?n.bannerID?(this.bannerSceneMap[n.bannerID]&&this.bannerSceneMap[n.bannerID].hide(n.refresh),this.curBanner&&this.curBanner.bannerID!=n.bannerID&&this.curBanner.hide()):this.curBanner&&this.curBanner.hide(n.refresh):this.curBanner&&this.curBanner.hide(),this.curBanner=null},n.getCurBanner=function(){return this.curBanner},r(n,null,[{key:"haveBanner",get:function(){for(var n in this.bannerIdMap)if(this.bannerIdMap[n].visible)return!0;return!1}}]),n}();s(b,"allBanners",[]),s(b,"bannerSceneMap",{}),s(b,"bannerIdMap",{}),s(b,"curBanner",void 0),s(b,"curBannerID",void 0),s(b,"curBannerPtr",void 0),s(b,"ids",void 0),s(b,"cacheBannerCount",1),s(b,"navigating",!1),s(b,"bannerClickCount",0),s(b,"refreshDuration",8),s(b,"loopBanners",[]),s(b,"loopPtr",0),s(b,"refreshTimer",-1);var I,S=function(){var n=e.prototype;function e(n,e){if(s(this,"id",void 0),s(this,"bannerID",void 0),s(this,"banner",void 0),s(this,"state",void 0),s(this,"createTime",void 0),s(this,"showCount",void 0),s(this,"maxShowCount",1),s(this,"totalShowCount",void 0),s(this,"errorCount",void 0),s(this,"style",void 0),s(this,"size",void 0),s(this,"needShow",!1),s(this,"loadCount",0),s(this,"clickCount",0),s(this,"totalClickCount",0),s(this,"showStartTime",void 0),s(this,"showTime",void 0),s(this,"hideTimer",null),this.id=n,e)this.bannerID=e;else{var t=n,o="";for(var r in i.bannerID)if(i.bannerID[r]==t){o=r;break}this.bannerID=o}this.banner=null,this.state=I.inited,this.createTime=0,this.showCount=0,this.errorCount=0,this.style={},this.size={width:300,height:120},this.loadCount=0,this.showStartTime=0,this.showTime=0,this.clickCount=0,this.totalClickCount=0}return n.addClickCount=function(){this.clickCount++,this.totalClickCount++},n.getShowTime=function(){var n=this.showTime;if(this.state==I.showing){var e=Date.now();13==e.toString().length&&(e=Math.floor(.001*e)),n+=e-this.showStartTime}return n},n.canRefresh=function(){return!(this.showCount<1)&&this.getShowTime()>=10},n.updateShowStartTime=function(){var n=Date.now();13==n.toString().length&&(n=Math.floor(.001*n)),this.showStartTime=n},n.updateShowTotalTime=function(){var n=Date.now();13==n.toString().length&&(n=Math.floor(.001*n)),this.showTime+=n-this.showStartTime},n.load=function(){if(this.state!==I.loading){this.destroy();var n=Date.now();13==n.toString().length&&(n=Math.floor(.001*n)),this.createTime=n,this.state=I.loading,this.banner=w.createBannerAd({adUnitId:this.id,style:{left:0,top:B.height-120,width:300}}),this.banner.onLoad(this.onLoad.bind(this)),this.banner.onError(this.onError.bind(this)),this.banner.onResize(this.onResize.bind(this))}},n.show=function(n){switch(n&&(this.style=n),this.state){case I.error:c.emit(h.Common.SDKEvent.showBannerSuccess);break;case I.inited:case I.destroyed:this.needShow=!0,this.load();break;case I.loading:this.needShow=!0;break;case I.loadFinish:null!==this.hideTimer&&(clearTimeout(this.hideTimer),this.hideTimer=null),this.setBannerStyle(),this._showBanner();break;case I.hide:return this.setBannerStyle(),this._showBanner(),!0;case I.showing:return this.setBannerStyle(),c.emit(h.Common.SDKEvent.showBannerSuccess),!0;default:return!1}},n.setBannerStyle=function(){var n=this.banner,e=this.style,t=this.size;if(void 0!==e.horizontal)switch(e.horizontal){case"left":n.style.left=0,console.log("设置banner靠左左边距：",n.style.left);break;case"right":n.style.left=B.width-t.width,console.log("设置banner靠右左边距：",n.style.left);break;case"middle":n.style.left=.5*(B.width-t.width),console.log("设置banner居中左边距：",n.style.left)}else if(void 0!==e.left){var i=B.width/u.get(d.Common.GlobalDataType.canvasTransform).width;n.style.left=e.left*i}else if(void 0!==e.right){var o=B.width/u.get(d.Common.GlobalDataType.canvasTransform).width;n.style.left=B.width-t.width-e.right*o}if(void 0!==e.top){var r=B.height/u.get(d.Common.GlobalDataType.canvasTransform).height;n.style.top=e.top*r}else if(void 0!==e.bottom){var s=B.height/u.get(d.Common.GlobalDataType.canvasTransform).height;n.style.top=B.height-t.height-e.bottom*s}else n.style.top=B.height-t.height},n._showBanner=function(){var n=this;this.banner&&this.banner.show().then(this.onShow.bind(this)).catch((function(e){n.onShowError()}))},n.onShow=function(){this.updateShowStartTime(),this.showCount+=1,this.totalShowCount+=1,this.state=I.showing,c.emit(h.Common.SDKEvent.showBannerSuccess)},n.onShowError=function(){this.updateShowStartTime(),this.showCount+=1,this.totalShowCount+=1,this.state=I.error,c.emit(h.Common.SDKEvent.showBannerSuccess)},n.hide=function(n){switch(this.needShow=!1,this.state){case I.showing:this.updateShowTotalTime(),this.banner.style.left=B.width,this.state=I.hide}},n.destroy=function(){if(this.state!=I.loading&&this.banner){var n=this.banner;n.offLoad(),n.offError(),n.offResize(),n.destroy(),this.banner=null,this.state=I.destroyed,this.showCount=0,this.showTime=0,this.clickCount=0}},n.refresh=function(n,e){switch(e&&(this.style=e),this.needShow=n,this.state){case I.destroyed:case I.inited:this.load();break;case I.showing:case I.hide:this.canRefresh()&&this.clickCount>0&&this.load()}},n.onLoad=function(){this.showCount=0,this.errorCount=0,this.showTime=0,this.clickCount=0,this.loadCount++,this.needShow?(this.needShow=!1,this.setBannerStyle(),this._showBanner()):(this.state=I.loadFinish,this.banner.style.left=B.width,this.banner.show())},n.onResize=function(n){this.size=n,"ios"==v.platform&&v.statusBarHeight&&v.statusBarHeight>20?this.banner.style.top=v.screenHeight-this.size.height-20:this.banner.style.top=v.screenHeight-this.size.height},n.onError=function(n){console.log("banner加载错误，ID：",this.id,"err:",n,"errCount:",this.errorCount),this.errorCount+=1,this.errorCount>=2?(this.state=I.error,this.needShow&&c.emit(h.Common.SDKEvent.showBannerSuccess)):this.load()},r(e,[{key:"visible",get:function(){return this.state==I.loadFinish||this.state==I.showing||this.state==I.hide}}]),e}();!function(n){n[n.inited=0]="inited",n[n.loading=1]="loading",n[n.error=2]="error",n[n.loadFinish=3]="loadFinish",n[n.showing=4]="showing",n[n.hide=5]="hide",n[n.destroyed=6]="destroyed"}(I||(I={})),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResUtils.ts",["cc","./Loader.ts"],(function(e){"use strict";var n,t,o,c,u,a,l;return{setters:[function(e){n=e.cclegacy,t=e._decorator,o=e.assetManager,c=e.loader,u=e.SpriteFrame,a=e.Prefab},function(e){l=e.default}],execute:function(){var r;n._RF.push({},"c4372RoMWJN5LBu5XaCPOFg","ResUtils",void 0);var s=t.ccclass;e("ResUtils",s(r=function(){function e(){}return e.loadImgUrl=function(e,n){o.loadRemote(e,{ext:".png"},(function(e,t){e?console.error(e):n(t)}))},e.loadImgRes=function(e,n){c.loadRes(e,u,(function(e,t){n(null==e?t:null)}))},e.loadPrefab=function(e,n){l.loadBundle("HeyGameSDK",(function(){l.loadBundleRes("HeyGameSDK",e,(function(e){n(e||null)}),a,!1)}))},e}())||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/EditorCollerItem.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(r){"use strict";var e,t,i,o,a,l,n,s;return{setters:[function(r){e=r.cclegacy,t=r._decorator,i=r.Node,o=r.Component},function(r){a=r.applyDecoratedDescriptor,l=r.inheritsLoose,n=r.initializerDefineProperty,s=r.assertThisInitialized}],execute:function(){var c,u,p,d,g,y,h,f,x,m,v,F,b,z,B,P,C;e._RF.push({},"c4bb8l0gJ5LhrkQO6VTR8HN","EditorCollerItem",void 0);var L=t.ccclass,D=t.property;r("EditorCollerItem",(c=L("EditorCollerItem"),u=D(i),p=D(i),d=D(i),g=D(i),y=D(i),h=D(i),f=D(i),c((v=a((m=function(r){function e(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=r.call.apply(r,[this].concat(i))||this,n(s(e),"player",v,s(e)),n(s(e),"portalLayer",F,s(e)),n(s(e),"colliderLayer",b,s(e)),n(s(e),"enemyLayer",z,s(e)),n(s(e),"staticBarrier",B,s(e)),n(s(e),"dynamicBarrier",P,s(e)),n(s(e),"breakBarrier",C,s(e)),e}l(e,r);var t=e.prototype;return t.getPlayerPos=function(){var r=this.player.getWorldPosition();return{x:parseFloat(r.x.toFixed(2)),y:0,z:parseFloat(r.z.toFixed(2))}},t.getPortalPos=function(){for(var r=[],e=this.portalLayer.children,t=0,i=e.length;t<i;++t){var o=e[t].getWorldPosition();r.push({x:parseFloat(o.x.toFixed(2)),y:0,z:parseFloat(o.z.toFixed(2))})}return r},t.getColliderData=function(r){for(var e=r.children,t=[],i=0,o=e.length;i<o;++i){var a=e[i].getWorldPosition();t.push(parseFloat(a.x.toFixed(2)),parseFloat((-a.z).toFixed(2)))}return t},t.getCollider=function(){for(var r=[],e=this.colliderLayer.children,t=0,i=e.length;t<i;++t){var o=e[t].getChildByName("1");o&&r.push(this.getColliderData(o))}return r},t.getEnemiesPos=function(){for(var r=[],e=this.enemyLayer.children,t=0,i=e.length;t<i;++t){var o=e[t].getWorldPosition();r.push({x:parseFloat(o.x.toFixed(2)),y:0,z:parseFloat(o.z.toFixed(2))})}return r},t.getStaticBarriers=function(){for(var r=[],e=this.staticBarrier.children,t=0,i=e.length;t<i;++t){var o=e[t],a=o.name;a=a.split("-")[0];var l=o.eulerAngles.y,n=o.scale.x,s=o.getWorldPosition();r.push({n:a,p:{x:parseFloat(s.x.toFixed(2)),y:0,z:parseFloat(s.z.toFixed(2))},e:l,s:n})}return r.sort((function(r,e){return r.n.localeCompare(e.n)})),r},t.getDynamicBarriers=function(){for(var r=[],e=this.dynamicBarrier.children,t=0,i=e.length;t<i;++t){var o=e[t],a=o.name;a=a.split("-")[0];var l=o.eulerAngles.y,n=o.scale.x,s=o.getWorldPosition();r.push({n:a,p:{x:parseFloat(s.x.toFixed(2)),y:0,z:parseFloat(s.z.toFixed(2))},e:l,s:n})}return r.sort((function(r,e){return r.n.localeCompare(e.n)})),r},t.getBreakBarrier=function(){for(var r=[],e=this.breakBarrier.children,t=0,i=e.length;t<i;++t){var o=e[t],a=o.name;a=a.split("-")[0];var l=o.eulerAngles.y,n=o.scale.x,s=o.getWorldPosition();r.push({n:a,p:{x:parseFloat(s.x.toFixed(2)),y:0,z:parseFloat(s.z.toFixed(2))},e:l,s:n})}return r.sort((function(r,e){return r.n.localeCompare(e.n)})),r},t.getData=function(){var r={};r.playerPos=this.getPlayerPos(),r.portalPos=this.getPortalPos(),r.enemyPos=this.getEnemiesPos(),r.collider=this.getCollider(),r.staticBarriers=this.getStaticBarriers(),r.dynamicBarriers=this.getDynamicBarriers(),r.breakBarriers=this.getBreakBarrier();for(var e=r.collider[0][0],t=r.collider[0][0],i=r.collider[0][1],o=r.collider[0][1],a=r.collider.length-1;a>=0;--a)for(var l=0;l<r.collider[a].length;l+=2){var n=r.collider[a][l],s=r.collider[a][l+1];e>n&&(e=n),t<n&&(t=n),i>-s&&(i=-s),o<-s&&(o=-s)}return r.scope={xMin:e,xMax:t,zMin:i,zMax:o},r},t.start=function(){console.log("碰撞体数据：");var r=this.getData();console.log(JSON.stringify(r))},e}(o)).prototype,"player",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=a(m.prototype,"portalLayer",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=a(m.prototype,"colliderLayer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=a(m.prototype,"enemyLayer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=a(m.prototype,"staticBarrier",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=a(m.prototype,"dynamicBarrier",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=a(m.prototype,"breakBarrier",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=m))||x));e._RF.pop()}}}));

System.register("chunks:///_virtual/yyComponent.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./CommonEvent.ts","./EventManager.ts"],(function(t){"use strict";var e,n,s,i,o,u,c,a,h,r,p;return{setters:[function(t){e=t.cclegacy,n=t._decorator,s=t.Widget,i=t.Layout,o=t.Component},function(t){u=t.defineProperty,c=t.inheritsLoose,a=t.assertThisInitialized,h=t.createClass},function(t){r=t.CommonEvent},function(t){p=t.default}],execute:function(){var f,m,d;e._RF.push({},"d2f58JcttJPP6hHjBNvP5V8","yyComponent",void 0);var l=n.ccclass;t("default",l((d=m=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s))||this,u(a(e),"_customId",null),u(a(e),"simpleComps",[]),u(a(e),"_customUpdateState",void 0),u(a(e),"customUpdateMap",void 0),u(a(e),"customStep",void 0),u(a(e),"events",{}),u(a(e),"onceEvents",{}),e}c(e,t);var n=e.prototype;return n.removeElementInArray=function(t,e){for(var n=t.Id,s=0,i=e.length;s<i;++s)if(e[s].Id==n)return e.splice(s,1),!0;return!1},n.init=function(t){this.initSub(),this.initUIComponents(),this.registAllCustomUpdate(),this.onEvents(),void 0!==t&&this.setData(t)},n.initSub=function(){},n.initUIComponents=function(){if(this.node.parent){var t=this.node.getComponent(s);t&&t.updateAlignment();var e=this.node.getComponent(i);e&&e.updateLayout()}},n.onEvents=function(){},n.registAllCustomUpdate=function(){},n.setData=function(t){},n.reset=function(){this.resetSub(),this.resetCustomUpdateState(),this.resetSimpleComps()},n.resetSub=function(){},n.reuse=function(t){this.reset(),this.onEvents(),void 0!==t&&this.setData(t)},n.unuse=function(){this.reset(),this.offEvents()},n.addSimpleComp=function(t,e){t?this.simpleComps.indexOf(t)<0&&(this.simpleComps.push(t),t.init(e)):console.error("addSimpleComp----脚本不存在!")},n.resetSimpleComps=function(){for(var t=0,e=this.simpleComps.length;t<e;++t)this.simpleComps[t].reset()},n.updateSimpleComps=function(t){for(var e=0,n=this.simpleComps.length;e<n;++e)this.simpleComps[e].customUpdate(t)},n.stepEmpty=function(t){},n.initCustomUpdateState=function(){this._customUpdateState=null,this.customStep=this.stepEmpty,this.customUpdateMap={}},n.resetCustomUpdateState=function(){this._customUpdateState=null,this.customStep=this.stepEmpty},n.registCustomUpdate=function(t,e){this.customUpdateMap||(this.customUpdateMap={}),this.customUpdateMap[t]=e},n.enterCustomUpdateState=function(t){this._customUpdateState!=t&&(this._customUpdateState=t,this.customUpdateMap[t]?this.customStep=this.customUpdateMap[t]:this.customStep=this.stepEmpty)},n.customUpdate=function(t){this.customStep&&this.customStep(t)},n.runCustomUpdate=function(t,e){for(var n=t.length-1;n>=0;--n)t[n].customUpdate(e)},n.getPosition=function(){return this.node.position},n.setEulerAngles=function(t){this.node.eulerAngles=t},n.setScale=function(t){this.node.setScale(t)},n.show=function(t){this.node.active=!0,void 0!==t&&this.setData(t),this.onEvents()},n.hide=function(){this.node.active=!1,this.reset(),this.offEvents()},n.getData=function(t){return null},n.on=function(t,e,n){var s=p.on(t,e,n);s&&(this.events.hasOwnProperty(t)||(this.events[t]=[]),this.events[t].push(s))},n.once=function(t,e,n){var s=p.once(t,e,n);s&&(this.onceEvents.hasOwnProperty(t)||(this.onceEvents[t]=[]),this.onceEvents[t].push(s))},n.emit=function(t,e,n){void 0===e?p.emit(t):void 0===n?p.emit(t,e):p.emit(t,e,n),this.onceEvents.hasOwnProperty(t)&&delete this.onceEvents[t]},n.off=function(t,e,n){var s=this.events[t];if(s)for(var i=s.length-1;i>=0;--i)s[i].cb===e&&s[i].target===n&&(p.off(t,s[i]),s.splice(i,1));if(s=this.onceEvents[t])for(var o=s.length-1;o>=0;--o)s[o].cb===e&&s[o].target===n&&(p.off(t,s[o]),s.splice(o,1))},n.offEvents=function(){for(var t in this.events)p.offGroup(t,this.events[t]);for(var e in this.events={},this.onceEvents)p.offGroup(e,this.onceEvents[e]);this.onceEvents={}},n.onDestroy=function(){this.offEvents()},n.showUI=function(t,e){this.emit(r.UIEvent.enter,t,e)},n.hideUI=function(t){this.emit(r.UIEvent.exit,t)},n.showTouchMask=function(t){void 0===t&&(t=1),this.emit(r.UIEvent.showTouchMask,t)},n.hideTouchMask=function(t){void 0===t&&(t=1),this.emit(r.UIEvent.hideTouchMask,t)},n.showMsg=function(t){this.emit(r.UIEvent.showTip,t)},n.playClickBtn=function(){this.emit(r.AudioEvent.playClickBtn)},h(e,[{key:"Id",get:function(){return null===this._customId&&(this._customId=e._autoId++),this._customId}},{key:"customUpdateState",get:function(){return this._customUpdateState}},{key:"x",get:function(){return this.node.position.x}},{key:"y",get:function(){return this.node.position.y}},{key:"z",get:function(){return this.node.position.z}},{key:"angleX",get:function(){return this.node.eulerAngles.x}},{key:"angleY",get:function(){return this.node.eulerAngles.y}},{key:"angleZ",get:function(){return this.node.eulerAngles.z}}]),e}(o),u(m,"_autoId",1),f=d))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIAnimtions.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./yyComponent.ts"],(function(t){"use strict";var i,e,n,o,s,a,r,h,c,l,u,m,p,y,d;return{setters:[function(t){i=t.cclegacy,e=t._decorator,n=t.Enum,o=t.v3,s=t.Tween,a=t.Widget,r=t.UITransform,h=t.tween,c=t.UIOpacity},function(t){l=t.applyDecoratedDescriptor,u=t.inheritsLoose,m=t.initializerDefineProperty,p=t.assertThisInitialized,y=t.defineProperty},function(t){d=t.default}],execute:function(){var _,f,T,g,b,v,P,A,C,w,S,O,I;i._RF.push({},"d3f72QdyNBKHoknD4B5LQu5","UIAnimtions",void 0);var B,D,R=e.ccclass,z=e.property;!function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.Center_zoomOut=4]="Center_zoomOut",t[t.None=5]="None",t[t.Center_zoomIn=6]="Center_zoomIn"}(B||(B={})),function(t){t[t.SineIn=0]="SineIn",t[t.SineOut=1]="SineOut",t[t.SineInOut=2]="SineInOut",t[t.BackIn=3]="BackIn",t[t.BackOut=4]="BackOut",t[t.BackInOut=5]="BackInOut"}(D||(D={}));t("UIAnimtions",(_=R("UIAnimtions"),f=z({type:n(B)}),T=z({type:n(D)}),_((v=l((b=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return i=t.call.apply(t,[this].concat(n))||this,m(p(i),"enterDirection",v,p(i)),m(p(i),"easingType",P,p(i)),m(p(i),"moveDistRate",A,p(i)),m(p(i),"delayTime",C,p(i)),m(p(i),"animTime",w,p(i)),m(p(i),"isOpacityAnim",S,p(i)),m(p(i),"isDelayShowChildren",O,p(i)),m(p(i),"delayShowChildrenTime",I,p(i)),y(p(i),"_delayTween",{a:0}),y(p(i),"_initPos",o()),y(p(i),"_initScale",o()),y(p(i),"_cfg",["sineIn","sineOut","sineInOut","backIn","backOut","backInOut"]),y(p(i),"_finishCb",null),y(p(i),"_cbTween",{a:0}),y(p(i),"_childrenRecs",[]),y(p(i),"_toPos",o()),y(p(i),"_toScale",o()),y(p(i),"_uiOpacityCmp",null),y(p(i),"_opacity",{opacity:255}),i}u(i,t);var e=i.prototype;return e.onLoad=function(){this.init(),this.recordChildren(!0)},e.init=function(){this._initPos.set(this.node.position),this._initScale.set(this.node.scale)},e.recordChildren=function(t){if(void 0===t&&(t=!1),this._childrenRecs=[],this.isDelayShowChildren)for(var i=0;i<this.node.children.length;i++){var e=this.node.children[i];this._childrenRecs.push({isActive:e.active,node:e}),t&&(e.active=!1)}},e.seDelayTime=function(t){this.delayTime=t},e.onEnable=function(){this.showAnim()},e.onDisable=function(){this.recordChildren(),s.stopAllByTarget(this._cbTween),s.stopAllByTarget(this._toPos),s.stopAllByTarget(this._toScale),s.stopAllByTarget(this._delayTween),s.stopAllByTarget(this._opacity)},e.setFinishAnim=function(t){this._finishCb=t},e.showAnim=function(){var t=this;if(s.stopAllByTarget(this._cbTween),s.stopAllByTarget(this._toPos),s.stopAllByTarget(this._toScale),this.enterDirection!=B.None){var i=this.node.getComponent(a);i?(i.enabled=!0,i.updateAlignment(),i.enabled=!1,this._toPos.set(this.node.position)):this._toPos.set(this._initPos);var e=this.node.getComponent(r);switch(this.enterDirection){case B.Top:this.topAnim(e);break;case B.Bottom:this.bottomAnim(e);break;case B.Left:this.leftAnim(e);break;case B.Right:this.rightAnim(e);break;case B.Center_zoomOut:this.centerZoomOutAnim(e);break;case B.Center_zoomIn:this.centerZoomInAnim(e)}}this.isOpacityAnim&&this.opacityAnim(),this._finishCb&&h(this._cbTween).delay(this.delayTime+this.animTime).call((function(){t._finishCb&&t._finishCb(),t._finishCb=null})).start(),s.stopAllByTarget(this._delayTween),this.isDelayShowChildren&&h(this._delayTween).delay(this.delayShowChildrenTime).call((function(){for(var i=0;i<t._childrenRecs.length;i++){var e=t._childrenRecs[i];e.node.active=e.isActive}})).start()},e.topAnim=function(t){var i=this,e=this._toPos.y;this._toPos.y+=t.height*this.moveDistRate,this.node.setPosition(this._toPos);var n=this._cfg[this.easingType];h(this._toPos).delay(this.delayTime).to(this.animTime,{y:e},{easing:n,onUpdate:function(){i.node.setPosition(i._toPos)}}).start()},e.bottomAnim=function(t){var i=this,e=this._toPos.y;this._toPos.y-=t.height*this.moveDistRate,this.node.setPosition(this._toPos);var n=this._cfg[this.easingType];h(this._toPos).delay(this.delayTime).to(this.animTime,{y:e},{easing:n,onUpdate:function(){i.node.setPosition(i._toPos)}}).start()},e.leftAnim=function(t){var i=this,e=this._toPos.x;this._toPos.x-=t.width*this.moveDistRate,this.node.setPosition(this._toPos);var n=this._cfg[this.easingType];h(this._toPos).delay(this.delayTime).to(this.animTime,{x:e},{easing:n,onUpdate:function(){i.node.setPosition(i._toPos)}}).start()},e.rightAnim=function(t){var i=this,e=this._toPos.x;this._toPos.x+=t.width*this.moveDistRate,this.node.setPosition(this._toPos);var n=this._cfg[this.easingType];h(this._toPos).delay(this.delayTime).to(this.animTime,{x:e},{easing:n,onUpdate:function(){i.node.setPosition(i._toPos)}}).start()},e.centerZoomOutAnim=function(t){var i=this;this._toScale.set(0,0,0),this.node.setScale(this._toScale);var e=this._cfg[this.easingType];h(this._toScale).delay(this.delayTime).to(this.animTime,{x:1,y:1,z:1},{easing:e,onUpdate:function(){i.node.setScale(i._toScale)}}).start()},e.centerZoomInAnim=function(t){var i=this;this._toScale.set(this.moveDistRate,this.moveDistRate,this.moveDistRate),this.node.setScale(this._toScale);var e=this._cfg[this.easingType];h(this._toScale).delay(this.delayTime).to(this.animTime,{x:1,y:1,z:1},{easing:e,onUpdate:function(){i.node.setScale(i._toScale)}}).start()},e.opacityAnim=function(){var t=this;this._uiOpacityCmp||(this._uiOpacityCmp=this.node.getComponent(c),this._uiOpacityCmp||(this._uiOpacityCmp=this.node.addComponent(c))),s.stopAllByTarget(this._opacity),this._uiOpacityCmp&&(this._opacity.opacity=0,this._uiOpacityCmp.opacity=0,h(this._opacity).delay(this.delayTime).to(this.animTime,{opacity:255},{onUpdate:function(){t._uiOpacityCmp.opacity=t._opacity.opacity}}).start())},i}(d)).prototype,"enterDirection",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.Top}}),P=l(b.prototype,"easingType",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.BackInOut}}),A=l(b.prototype,"moveDistRate",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),C=l(b.prototype,"delayTime",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=l(b.prototype,"animTime",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=l(b.prototype,"isOpacityAnim",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=l(b.prototype,"isDelayShowChildren",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=l(b.prototype,"delayShowChildrenTime",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=b))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/MyAtlasSprite.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,i,a,r,s,n,o,h;return{setters:[function(t){e=t.cclegacy,i=t.Sprite,a=t.UITransform,r=t.dynamicAtlasManager,s=t._decorator},function(t){n=t.inheritsLoose,o=t.createClass,h=t.defineProperty}],execute:function(){var u;e._RF.push({},"d48f33Sg+hOu7KjHW8NOSEm","MyAtlasSprite",void 0);var c=s,f=c.ccclass,l=(c.property,t("default",f(u=function(t){function e(){var e;return(e=t.call(this)||this).createAssembler(),e}n(e,t);var r=e.prototype;return r.createAssembler=function(){this._assembler||(this._assembler=new v,this._assembler.init(this))},r.setAtlasData=function(t){this.trim=!1,this.sizeMode=i.SizeMode.CUSTOM;var e=this.node.getComponent(a);void 0!==t.width?e.width=t.width:e.width=t.uv.width,void 0!==t.height?e.height=t.height:e.height=t.uv.height,this.spriteFrame=t.uv.originalSpriteFrame},r.setUV=function(t,e,i,a){this.createAssembler(),this._assembler.setUV(t,e,i,a)},e}(i))||u)),d=function(){function t(){h(this,"vDatas",[]),h(this,"uintVDatas",[]),h(this,"iDatas",[])}var e=t.prototype;return e.updateMesh=function(t,e,i){this.vDatas[t]=e,this.uintVDatas[t]=new Uint32Array(e.buffer,0,e.length),this.iDatas[t]=i},e.createData=function(t,e,i){var a=new Float32Array(e),r=new Uint16Array(i);this.updateMesh(t,a,r)},e.createQuadData=function(t,e,i){this.createData(t,e,i),this.initQuadIndices(this.iDatas[t])},e.initQuadIndices=function(t){for(var e=t.length/6,i=0,a=0;i<e;i++){var r=4*i;t[a++]=r,t[a++]=r+1,t[a++]=r+2,t[a++]=r+1,t[a++]=r+3,t[a++]=r+2}},t}(),v=t("MyAtlasAssembler",function(){function t(){h(this,"_renderData",void 0),h(this,"floatsPerVert",5),h(this,"verticesCount",4),h(this,"indicesCount",6),h(this,"uvOffset",2),h(this,"colorOffset",4),h(this,"_local",void 0),this._renderData=new d,this.initData(),this.initLocal()}var e=t.prototype;return e.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount)},e.initLocal=function(){this._local=[0,0,0,0]},e.updateColor=function(t,e){var i=this._renderData.uintVDatas[0];if(i){e=null!=e?e:t.node.color._val;for(var a=this.floatsPerVert,r=this.colorOffset,s=i.length;r<s;r+=a)i[r]=e}},e.fillBuffers2=function(t,e){},e.fillBuffers=function(t,e){if(null!==t){var i=t.renderData.data,a=t.node,r=e.acquireBufferBatch(),s=r.byteOffset>>2,n=r.indicesOffset,o=r.vertexOffset;r.request()||(r=e.currBufferBatch,s=0,n=0,o=0);var h=r.vData,u=r.iData,c=t.renderData.vData,f=i[0],l=i[3],d=a.worldMatrix,v=d.m00,p=d.m01,D=d.m04,m=d.m05,_=d.m12,g=d.m13,y=f.x,A=l.x,w=f.y,b=l.y,V=v*y,F=v*A,M=p*y,O=p*A,S=D*w,U=D*b,x=m*w,C=m*b;c[0]=V+S+_,c[1]=M+x+g,c[9]=F+S+_,c[10]=O+x+g,c[18]=V+U+_,c[19]=M+C+g,c[27]=F+U+_,c[28]=O+C+g,h.set(c,s),u[n++]=o,u[n++]=o+1,u[n++]=o+2,u[n++]=o+2,u[n++]=o+1,u[n++]=o+3}},e.updateRenderData=function(t){this.packToDynamicAtlas(t,t._spriteFrame),t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),t._vertsDirty=!1)},e.updateUVs=function(t){var e=t._spriteFrame.getOriginalSize(),i=t.node.width,a=t.node.height,r=e.width/e.height,s=i/a,n=t._spriteFrame.uv,o=n[0],h=n[2],u=n[1],c=n[5];if(s>r){var f=.5*(u+c),l=.5*(c-u)*(e.width*a/e.height/i);u=f-l,c=f+l}else if(s<r){var d=.5*(o+h),v=.5*(h-o)*(e.height*i/e.width/a);o=d-v,h=d+v}var p=this._renderData.vDatas[0],D=2;p[D]=o,p[D+1]=u,p[D+=5]=h,p[D+1]=u,p[D+=5]=o,p[D+1]=c,p[D+=5]=h,p[D+1]=c},e.updateVerts=function(t){var e,i,a,r,s=t.node,n=s.width,o=s.height,h=s.anchorX*n,u=s.anchorY*o;e=-h,i=-u,a=n-h,r=o-u;var c=this._local;c[0]=e,c[1]=i,c[2]=a,c[3]=r},e.setUV=function(t,e,i,a){var r=this._renderData.vDatas[0],s=this.floatsPerVert,n=this.uvOffset;r[n]=t,r[n+1]=i,r[n+=s]=e,r[n+1]=i,r[n+=s]=t,r[n+1]=a,r[n+=s]=e,r[n+1]=a},e.packToDynamicAtlas=function(t,e){if(!e._original&&r&&e._texture.packable){var i=r.insertSpriteFrame(e);i&&e._setDynamicAtlasFrame(i)}var a=t._materials[0];a&&a.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},o(t,[{key:"verticesFloats",get:function(){return this.verticesCount*this.floatsPerVert}}]),t}()),p={getAssembler:function(t){return v}};l.Assembler=p,e._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlatform.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./PCSDK.ts","./GamePlatformType.ts","./WXSDK.ts","./HeyGameOPPOSDK.ts"],(function(t){"use strict";var e,n,s,i,c,o,a;return{setters:[function(t){e=t.cclegacy},function(t){n=t.createClass,s=t.defineProperty},function(t){i=t.default},function(t){c=t.GamePlatformType},function(t){o=t.default},function(t){a=t.default}],execute:function(){e._RF.push({},"da1cfQrGnNAE4bDQ9RN6h+7","GamePlatform",void 0);var u=t("default",function(){function t(){}return t.init=function(t){switch(console.log(t),this._config=t,t.type){case c.PC:this._sdk=new i;break;case c.WX:this._sdk=new o;break;case c.HeyGameOPPO:case c.HeyGameVIVO:this._sdk=new a;break;default:this._sdk=new i}this._sdk.config=this._config,this._sdk.init(this._config),this._sdk.onEvents(),this._sdk.loadRecord()},n(t,null,[{key:"Config",get:function(){return this._config}},{key:"SDK",get:function(){return this._sdk}}]),t}());s(u,"_config",null),s(u,"_sdk",null),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventType.ts",["cc","./CommonEvent.ts"],(function(e){"use strict";var a,o;return{setters:[function(e){a=e.cclegacy},function(e){o=e.CommonEvent}],execute:function(){var r;e("EventType",void 0),a._RF.push({},"db843HWqcJKUbRQQeZ/Cqq2","GameEventType",void 0),function(e){var a,r;e.Common=o;!function(e){e[e.startIndex=1e5]="startIndex",e[e.levelSceneLoadFinish=100001]="levelSceneLoadFinish",e[e.resurgence=100002]="resurgence",e[e.cancelResurgence=100003]="cancelResurgence",e[e.testWin=100004]="testWin",e[e.testLose=100005]="testLose",e[e.keyDown=100006]="keyDown",e[e.keyUp=100007]="keyUp",e[e.keyStay=100008]="keyStay",e[e.startJoy=100009]="startJoy",e[e.moveJoy=100010]="moveJoy",e[e.stopJoy=100011]="stopJoy",e[e.clickSkill=100012]="clickSkill",e[e.playerPosChanged=100013]="playerPosChanged",e[e.playerUseSkill=100014]="playerUseSkill",e[e.updatePlayerSkillCool=100015]="updatePlayerSkillCool",e[e.playerEntered=100016]="playerEntered",e[e.playerExited=100017]="playerExited",e[e.playerEnabled=100018]="playerEnabled",e[e.playerDeadAnimFinished=100019]="playerDeadAnimFinished",e[e.cameraEnabled=100020]="cameraEnabled",e[e.cameraMove=100021]="cameraMove",e[e.killPlayer=100022]="killPlayer",e[e.enemyDead=100023]="enemyDead",e[e.playerKillEnemy=100024]="playerKillEnemy",e[e.getCollection=100025]="getCollection",e[e.playerAddLife=100026]="playerAddLife",e[e.playerSubLife=100027]="playerSubLife",e[e.showLockPersonAnim=100028]="showLockPersonAnim",e[e.enterSlowMotion=100029]="enterSlowMotion",e[e.rescuePerson=100030]="rescuePerson",e[e.hideLockPersonAnim=100031]="hideLockPersonAnim",e[e.exitSlowMotion=100032]="exitSlowMotion",e[e.shakeScreen=100033]="shakeScreen",e[e.scaleScreen=100034]="scaleScreen",e[e.updateRoleScale=100035]="updateRoleScale",e[e.updateLevelTime=100036]="updateLevelTime",e[e.addEnemyBullet=100037]="addEnemyBullet",e[e.removeEnemyBullet=100038]="removeEnemyBullet",e[e.addPlayerBullet=100039]="addPlayerBullet",e[e.removePlayerBullet=100040]="removePlayerBullet",e[e.addEffect=100041]="addEffect",e[e.removeEffect=100042]="removeEffect",e[e.addParticle=100043]="addParticle",e[e.removeParticle=100044]="removeParticle",e[e.showPlayerShadow=100045]="showPlayerShadow",e[e.hidePlayerShadow=100046]="hidePlayerShadow",e[e.addRigidNode=100047]="addRigidNode",e[e.goodsUSE=100048]="goodsUSE",e[e.removeDynamicBarrier=100049]="removeDynamicBarrier",e[e.removeBreakBarrier=100050]="removeBreakBarrier",e[e.addBreakAnim=100051]="addBreakAnim",e[e.removeBreakAnim=100052]="removeBreakAnim",e[e.dropGold=100053]="dropGold",e[e.addGoldColler=100054]="addGoldColler",e[e.getGold=100055]="getGold",e[e.removeGold=100056]="removeGold",e[e.addDeadBody=100057]="addDeadBody",e[e.deadAnimFinish=100058]="deadAnimFinish",e[e.addAtkBox=100059]="addAtkBox",e[e.removeAtkBox=100060]="removeAtkBox",e[e.addWeaponStreak=100061]="addWeaponStreak",e[e.removeWeaponStreak=100062]="removeWeaponStreak",e[e.enemyAtkFinish=100063]="enemyAtkFinish",e[e.enemyHitSuccess=100064]="enemyHitSuccess",e[e.enemyJumpInPortal=100065]="enemyJumpInPortal",e[e.enemyJumpOutPortalFinish=100066]="enemyJumpOutPortalFinish",e[e.addScanBox=100067]="addScanBox",e[e.removeScanBox=100068]="removeScanBox",e[e.showHandAnim=100069]="showHandAnim",e[e.updateRemainEnemy=100070]="updateRemainEnemy",e[e.updateGold=100071]="updateGold",e[e.decideWeaponSkin=100072]="decideWeaponSkin",e[e.setPreview=100073]="setPreview",e[e.matchFinish=100074]="matchFinish",e[e.changeGoldPos=100075]="changeGoldPos",e[e.addTrapper=100076]="addTrapper",e[e.removeTrapper=100077]="removeTrapper",e[e.addBoomEffect=100078]="addBoomEffect",e[e.dropTrapper=100079]="dropTrapper",e[e.doorOpened=100080]="doorOpened",e[e.playerJumpInPortalFinish=100081]="playerJumpInPortalFinish"}(a||(a={})),e.LevelEvent=a,function(e){e[e.startIndex=101e3]="startIndex",e[e.addNewLevel=101001]="addNewLevel",e[e.createLevel=101002]="createLevel",e[e.chooseLevel=101003]="chooseLevel",e[e.removeLevel=101004]="removeLevel",e[e.mapPosChanged=101005]="mapPosChanged",e[e.mapLenChanged=101006]="mapLenChanged",e[e.mapPersonChanged=101007]="mapPersonChanged",e[e.choseItem=101008]="choseItem",e[e.dragItemOnMap=101009]="dragItemOnMap",e[e.dragItemStart=101010]="dragItemStart",e[e.dragItemMove=101011]="dragItemMove",e[e.dragItemEnd=101012]="dragItemEnd"}(r||(r={})),e.EditorEvent=r}(r||(r=e("EventType",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlatformConfig.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GamePlatformType.ts"],(function(e){"use strict";var i,t,n,r,a,o,l,u,p,y;return{setters:[function(e){i=e.cclegacy,t=e.Enum,n=e.CCString,r=e._decorator,a=e.Component},function(e){o=e.applyDecoratedDescriptor,l=e.inheritsLoose,u=e.initializerDefineProperty,p=e.assertThisInitialized},function(e){y=e.GamePlatformType}],execute:function(){var s,c,d,b,f,m,I,h,v,P,g,U,A,G,w,N,z,O,C,V,B,H,D,_,Q,k,x,S;i._RF.push({},"dcc1fC1BMVGYoDaYaaesjp4","GamePlatformConfig",void 0);var T=r,j=T.ccclass,F=T.property;e("default",(s=F({type:t(y)}),c=F({displayName:"项目appId",visible:function(){return this.type!=y.PC}}),d=F({displayName:"项目secret",visible:function(){return this.type==y.WX}}),b=F({displayName:"游戏版本号",tooltip:"白鹰SDK专属，游戏版本号，与打包OPPO时的版本号一致",visible:function(){return this.type==y.HeyGameOPPO||this.type==y.HeyGameVIVO}}),f=F({displayName:"九宫格广告id",visible:function(){return this.type==y.HeyGameOPPO||this.type==y.HeyGameVIVO}}),m=F({displayName:"原生banner广告id",visible:function(){return this.type==y.HeyGameOPPO||this.type==y.HeyGameVIVO}}),I=F({displayName:"原生广告Id",tooltip:"第0个为首页/关卡中id，第1个为结算页id",type:[n],visible:function(){return this.type==y.HeyGameOPPO||this.type==y.HeyGameVIVO}}),h=F({displayName:"视频广告Id",type:[n],visible:function(){return this.type!=y.PC}}),v=F({displayName:"BannerId",type:[n],visible:function(){return this.type!=y.PC}}),P=F({displayName:"插屏Id",type:[n],visible:function(){return this.type!=y.PC}}),g=F({displayName:"原生广告Id",type:[n],visible:function(){return this.type==y.WX}}),U=F({displayName:"盒子广告Id",type:[n],visible:function(){return this.type==y.QQ}}),A=F({displayName:"积木广告Id",type:[n],visible:function(){return this.type==y.QQ}}),j((N=o((w=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i=e.call.apply(e,[this].concat(n))||this,u(p(i),"type",N,p(i)),u(p(i),"appId",z,p(i)),u(p(i),"secret",O,p(i)),u(p(i),"heyVersionName",C,p(i)),u(p(i),"heyDrawerGameAdUnitId",V,p(i)),u(p(i),"heyBannerGameAdUnitId",B,p(i)),u(p(i),"heyNativeAdUnitId",H,p(i)),u(p(i),"videoAdUnitId",D,p(i)),u(p(i),"BannerAdUnitId",_,p(i)),u(p(i),"InterstitialAdUnitId",Q,p(i)),u(p(i),"nativeAdUnitId",k,p(i)),u(p(i),"appBoxUnitId",x,p(i)),u(p(i),"blockAdUnitId",S,p(i)),i}return l(i,e),i}(a)).prototype,"type",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.PC}}),z=o(w.prototype,"appId",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=o(w.prototype,"secret",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=o(w.prototype,"heyVersionName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1.0.0"}}),V=o(w.prototype,"heyDrawerGameAdUnitId",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=o(w.prototype,"heyBannerGameAdUnitId",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=o(w.prototype,"heyNativeAdUnitId",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=o(w.prototype,"videoAdUnitId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=o(w.prototype,"BannerAdUnitId",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=o(w.prototype,"InterstitialAdUnitId",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(w.prototype,"nativeAdUnitId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=o(w.prototype,"appBoxUnitId",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=o(w.prototype,"blockAdUnitId",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=w))||G));i._RF.pop()}}}));

System.register("chunks:///_virtual/Octree.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var i,e,s;return{setters:[function(t){i=t.cclegacy},function(t){e=t.createClass,s=t.defineProperty}],execute:function(){i._RF.push({},"effb1fl7rtGqoNRU61nqDGY","Octree",void 0);t("default",function(){function t(t,i,e,h,n,r,a,o){s(this,"root",null),s(this,"maxDepth",7),s(this,"maxCount",10),this.init(t,i,e,h,n,r,a,o)}var i=t.prototype;return i.init=function(t,i,e,s,h,n,r,o){r&&r>0&&(this.maxDepth=r),o&&o>0&&(this.maxCount=o),this.root?(this.root.reset(),this.root.set(t,i,e,s,h,n,this.maxDepth,this.maxCount)):this.root=a.get(t,i,e,s,h,n,this.maxDepth,this.maxCount)},i.createChildren=function(t){(void 0===t||t<0||t>this.maxDepth)&&(t=this.maxDepth),this.root.splitTo(t)},i.reset=function(){this.root&&this.root.reset()},i.removeObj=function(t,i){if(void 0===i){var e=t[n];if(e&&e>0){var s=o[i];if(s)return void s.removeObj(t)}}else{var h=o[i];if(h)return void h.removeObj(t)}this.root.removeObj(t)},i.insertObj=function(t){return this.root.insertObj(t)},i.getObjs=function(t){var i=[],e=r.getObjAABB(t);return this.root.getObjs(e,i),i},i.getObjsByAABB=function(t){var i=[];return this.root.getObjs(t,i),i},t}());var h,n=t("treeNodeId","treeNodeId"),r=t("OctreeNode",function(){function t(i,e,h,n,r,a,c,u,x){s(this,"_id",void 0),s(this,"parent",null),s(this,"children",null),s(this,"objs",void 0),s(this,"xMin",void 0),s(this,"xMax",void 0),s(this,"yMin",void 0),s(this,"yMax",void 0),s(this,"zMin",void 0),s(this,"zMax",void 0),s(this,"centerX",void 0),s(this,"centerY",void 0),s(this,"centerZ",void 0),s(this,"depth",void 0),s(this,"count",void 0),s(this,"maxDepth",7),s(this,"maxCount",10),this._id=t._autoId++,o[this.Id]=this,this.set(i,e,h,n,r,a,c,u,x)}var i=t.prototype;return i.set=function(t,i,e,s,h,n,r,a,o){this.xMin=t,this.xMax=i,this.yMin=e,this.yMax=s,this.zMin=h,this.zMax=n,this.centerX=.5*(this.xMin+this.xMax),this.centerY=.5*(this.yMin+this.yMax),this.centerZ=.5*(this.zMin+this.zMax),this.maxDepth=r,this.maxCount=a,this.objs=[],this.count=0,this.parent=o,this.depth=o?o.depth+1:0},i.splitTo=function(t){if(!(this.depth>=t)){this.createChildren();for(var i=this.children.length-1;i>=0;--i)this.children[i].splitTo(t)}},i.split=function(){this.createChildren();var i=this.objs;this.objs=[],this.count=0;for(var e=i.length-1;e>=0;--e){var s=i[e],n=t.getObjAABB(s),r=this.getArea(n);r!=h.self?this.children[r].insertIntoSelf(s):this.insertIntoSelf(s)}this.count=this.objs.length},i.createChildren=function(){if(!this.children){var t=this.centerX,i=this.centerY,e=this.centerZ;this.children=[],this.children[h.area0]=a.get(t,this.xMax,i,this.yMax,e,this.zMax,this.maxDepth,this.maxCount,this),this.children[h.area1]=a.get(this.xMin,t,i,this.yMax,e,this.zMax,this.maxDepth,this.maxCount,this),this.children[h.area2]=a.get(this.xMin,t,this.yMin,i,e,this.zMax,this.maxDepth,this.maxCount,this),this.children[h.area3]=a.get(t,this.xMax,this.yMin,i,e,this.zMax,this.maxDepth,this.maxCount,this),this.children[h.area4]=a.get(t,this.xMax,i,this.yMax,this.zMin,e,this.maxDepth,this.maxCount,this),this.children[h.area5]=a.get(this.xMin,t,i,this.yMax,this.zMin,e,this.maxDepth,this.maxCount,this),this.children[h.area6]=a.get(this.xMin,t,this.yMin,i,this.zMin,e,this.maxDepth,this.maxCount,this),this.children[h.area7]=a.get(t,this.xMax,this.yMin,i,this.zMin,e,this.maxDepth,this.maxCount,this)}},i.removeObj=function(i){var e=t.getObjAABB(i);if(this.children){var s=this.getArea(e);s==h.self?this.removeFromSelf(i):this.children[s].removeObj(i)}else this.removeFromSelf(i)},i.removeFromSelf=function(t){var i=this.objs.indexOf(t);i>=0&&(this.objs.splice(i,1),this.count--,t[n]=-1)},i.insertObj=function(t){return this.children?this.insertIntoChildren(t):this.objs.length<this.maxCount||this.depth>=this.maxDepth?this.insertIntoSelf(t):(this.split(),this.insertIntoChildren(t))},i.insertIntoChildren=function(i){var e=t.getObjAABB(i),s=this.getArea(e);return s!=h.self?this.children[s].insertObj(i):this.insertIntoSelf(i)},i.getArea=function(t){if(!this.children)return h.self;var i=t.zMin>=this.centerZ;if(t.xMin>=this.centerX){if(t.yMin>=this.centerY)return i?h.area0:h.area4;if(t.yMax<=this.centerY)return i?h.area3:h.area7}else if(t.xMax<=this.centerX){if(t.yMin>=this.centerY)return i?h.area1:h.area5;if(t.yMax<=this.centerY)return i?h.area2:h.area6}return h.self},i.insertIntoSelf=function(t){return this.objs.push(t),this.count++,t[n]=this.Id,this.Id},t.contain=function(t,i){return t.xMin<=i.xMin&&t.xMax>=i.xMax&&t.yMin<=i.yMin&&t.yMax>=i.yMax&&t.zMin<=i.zMin&&t.zMax>=i.zMax},t.getObjAABB=function(t){return t.getAABB()},i.getObjs=function(i,e){if(t.cross(i,this)){for(var s=this.count-1;s>=0;--s)e.push(this.objs[s]);if(this.children){var n=this.getArea(i);if(n==h.self)for(var r=this.children.length-1;r>=0;--r)this.children[r].getObjs(i,e);else this.children[n].getObjs(i,e)}}},t.cross=function(t,i){return t.xMin<=i.xMax&&t.xMax>=i.xMin&&t.yMin<=i.yMax&&t.yMax>=i.yMin&&t.zMin<=i.zMax&&t.zMax>=i.zMin},i.reset=function(){this.parent=null;for(var t=this.objs.length-1;t>=0;--t)this.objs[t][n]=-1;if(this.objs=[],this.count=0,this.depth=0,this.children){var i=this.children;this.children=null;for(var e=i.length-1;e>=0;--e)a.put(i[e])}},e(t,[{key:"Id",get:function(){return this._id}}]),t}());s(r,"_autoId",1),function(t){t[t.area0=0]="area0",t[t.area1=1]="area1",t[t.area2=2]="area2",t[t.area3=3]="area3",t[t.area4=4]="area4",t[t.area5=5]="area5",t[t.area6=6]="area6",t[t.area7=7]="area7",t[t.self=8]="self"}(h||(h={}));var a=function(){function t(){}return t.get=function(t,i,e,s,h,n,a,o,c){if(this.nodes.length>0){var u=this.nodes.pop();return u.set(t,i,e,s,h,n,a,o,c),u}return new r(t,i,e,s,h,n,a,o,c)},t.put=function(t){t.reset(),this.nodes.push(t)},t}();s(a,"nodes",[]);var o={};i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDataTemplate.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"ff8f08lKv1NV45mBkyn71pD","LevelDataTemplate",void 0);e("default",function(){function e(){}return e.getData=function(){return{1:{id:1,lv:1,mapScope:{xMin:-100,xMax:100,yMin:0,yMax:1e3,zMin:-100,zMax:100},playerPos:{x:0,y:0,z:0},data:{maps:[{n:"map1",p:{x:0,y:0,z:0},m:{}}],staticBarriers:[{n:"",p:{x:0,y:0,z:0},e:0,s:{x:1,y:1,z:1},m:{}}],dynamicBarriers:[{n:"",p:{x:0,y:0,z:0},e:0,s:{x:1,y:1,z:1},m:{}}],enemies:[{n:"",weaponType:"knife",weaponId:1,ai:1,m:{}},{weaponType:"knife",weaponId:1},{weaponType:"knife",weaponId:1},{weaponType:"knife",weaponId:1},{weaponType:"knife",weaponId:1},{weaponType:"knife",weaponId:1},{weaponType:"knife",weaponId:1},{weaponType:"knife",weaponId:1},{weaponType:"knife",weaponId:1}],collection:[{n:"",p:{x:1,y:1,z:1},e:0}],trap:[]}}}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AdConfig.ts","./CommonGameConfig.ts","./GameConfig.ts","./CommonEvent.ts","./GameEventType.ts","./EventManager.ts","./PowerManager.ts","./TweenTools.ts","./http_request.ts","./CommonEnum.ts","./GlobalEnum.ts","./Action3dManager.ts","./GlobalData2.ts","./yyComponent.ts","./BannerToucherButton.ts","./SDK.ts","./PCSDK.ts","./GamePlatformType.ts","./PlayerDataTemplate.ts","./ALDManager.ts","./PlayerData.ts","./GameFlow.ts","./WXSDK.ts","./GlobalData.ts","./Loader.ts","./ResUtils.ts","./NativeAdView.ts","./GameNativeAd.ts","./FinishNativeAd.ts","./HeyGamePlatform.ts","./HeyGameOPPOSDK.ts","./GamePlatform.ts","./GlobalPool.ts","./RecommendDataManager.ts","./RecommendContainer.ts","./Recommend.ts","./GamePlatformConfig.ts","./Init.ts","./RecommendManager.ts","./UIManager.ts","./yySpace.ts","./LevelCollerDataTemplate.ts","./WeaponAtkDataTemplate.ts","./LevelDataTemplate.ts","./MapDataTemplate.ts","./GameData.ts","./QuadTree.ts","./AdvertManager.ts","./AudioManager.ts","./EditorCollerItem.ts","./UIAnimtions.ts","./MyAtlasSprite.ts","./Octree.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});